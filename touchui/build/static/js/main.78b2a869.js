!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/touchui/",n(n.s=70)}([function(t,e,n){var i;try{i=n(2)}catch(t){}i||(i=window._),t.exports=i},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=a(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){(function(t,i){var r;(function(){var o,s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,d=2,p=4,g=1,m=2,v=1,y=2,b=4,_=8,w=16,x=32,k=64,C=128,S=256,T=512,E=30,P="...",D=800,M=16,O=1,A=2,I=1/0,N=9007199254740991,R=1.7976931348623157e308,j=NaN,L=4294967295,F=L-1,z=L>>>1,B=[["ary",C],["bind",v],["bindKey",y],["curry",_],["curryRight",w],["flip",T],["partial",x],["partialRight",k],["rearg",S]],q="[object Arguments]",H="[object Array]",W="[object AsyncFunction]",U="[object Boolean]",$="[object Date]",Y="[object DOMException]",V="[object Error]",X="[object Function]",G="[object GeneratorFunction]",K="[object Map]",Q="[object Number]",J="[object Null]",Z="[object Object]",tt="[object Proxy]",et="[object RegExp]",nt="[object Set]",it="[object String]",rt="[object Symbol]",ot="[object Undefined]",st="[object WeakMap]",at="[object WeakSet]",ut="[object ArrayBuffer]",lt="[object DataView]",ct="[object Float32Array]",ht="[object Float64Array]",ft="[object Int8Array]",dt="[object Int16Array]",pt="[object Int32Array]",gt="[object Uint8Array]",mt="[object Uint8ClampedArray]",vt="[object Uint16Array]",yt="[object Uint32Array]",bt=/\b__p \+= '';/g,_t=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,kt=/[&<>"']/g,Ct=RegExp(xt.source),St=RegExp(kt.source),Tt=/<%-([\s\S]+?)%>/g,Et=/<%([\s\S]+?)%>/g,Pt=/<%=([\s\S]+?)%>/g,Dt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mt=/^\w*$/,Ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,At=/[\\^$.*+?()[\]{}|]/g,It=RegExp(At.source),Nt=/^\s+|\s+$/g,Rt=/^\s+/,jt=/\s+$/,Lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ft=/\{\n\/\* \[wrapped with (.+)\] \*/,zt=/,? & /,Bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qt=/\\(\\)?/g,Ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wt=/\w*$/,Ut=/^[-+]0x[0-9a-f]+$/i,$t=/^0b[01]+$/i,Yt=/^\[object .+?Constructor\]$/,Vt=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,Gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Qt=/['\n\r\u2028\u2029\\]/g,Jt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Zt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Zt+"]",ne="["+Jt+"]",ie="\\d+",re="[\\u2700-\\u27bf]",oe="[a-z\\xdf-\\xf6\\xf8-\\xff]",se="[^\\ud800-\\udfff"+Zt+ie+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ae="\\ud83c[\\udffb-\\udfff]",ue="[^\\ud800-\\udfff]",le="(?:\\ud83c[\\udde6-\\uddff]){2}",ce="[\\ud800-\\udbff][\\udc00-\\udfff]",he="[A-Z\\xc0-\\xd6\\xd8-\\xde]",fe="(?:"+oe+"|"+se+")",de="(?:"+he+"|"+se+")",pe="(?:"+ne+"|"+ae+")"+"?",ge="[\\ufe0e\\ufe0f]?"+pe+("(?:\\u200d(?:"+[ue,le,ce].join("|")+")[\\ufe0e\\ufe0f]?"+pe+")*"),me="(?:"+[re,le,ce].join("|")+")"+ge,ve="(?:"+[ue+ne+"?",ne,le,ce,te].join("|")+")",ye=RegExp("['\u2019]","g"),be=RegExp(ne,"g"),_e=RegExp(ae+"(?="+ae+")|"+ve+ge,"g"),we=RegExp([he+"?"+oe+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[ee,he,"$"].join("|")+")",de+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[ee,he+fe,"$"].join("|")+")",he+"?"+fe+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",he+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ie,me].join("|"),"g"),xe=RegExp("[\\u200d\\ud800-\\udfff"+Jt+"\\ufe0e\\ufe0f]"),ke=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ce=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Se=-1,Te={};Te[ct]=Te[ht]=Te[ft]=Te[dt]=Te[pt]=Te[gt]=Te[mt]=Te[vt]=Te[yt]=!0,Te[q]=Te[H]=Te[ut]=Te[U]=Te[lt]=Te[$]=Te[V]=Te[X]=Te[K]=Te[Q]=Te[Z]=Te[et]=Te[nt]=Te[it]=Te[st]=!1;var Ee={};Ee[q]=Ee[H]=Ee[ut]=Ee[lt]=Ee[U]=Ee[$]=Ee[ct]=Ee[ht]=Ee[ft]=Ee[dt]=Ee[pt]=Ee[K]=Ee[Q]=Ee[Z]=Ee[et]=Ee[nt]=Ee[it]=Ee[rt]=Ee[gt]=Ee[mt]=Ee[vt]=Ee[yt]=!0,Ee[V]=Ee[X]=Ee[st]=!1;var Pe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},De=parseFloat,Me=parseInt,Oe="object"==typeof t&&t&&t.Object===Object&&t,Ae="object"==typeof self&&self&&self.Object===Object&&self,Ie=Oe||Ae||Function("return this")(),Ne="object"==typeof e&&e&&!e.nodeType&&e,Re=Ne&&"object"==typeof i&&i&&!i.nodeType&&i,je=Re&&Re.exports===Ne,Le=je&&Oe.process,Fe=function(){try{var t=Re&&Re.require&&Re.require("util").types;return t||Le&&Le.binding&&Le.binding("util")}catch(t){}}(),ze=Fe&&Fe.isArrayBuffer,Be=Fe&&Fe.isDate,qe=Fe&&Fe.isMap,He=Fe&&Fe.isRegExp,We=Fe&&Fe.isSet,Ue=Fe&&Fe.isTypedArray;function $e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ye(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];e(i,s,n(s),t)}return i}function Ve(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Xe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ge(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Ke(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function Qe(t,e){return!!(null==t?0:t.length)&&un(t,e,0)>-1}function Je(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Ze(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function tn(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function en(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function nn(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function rn(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var on=fn("length");function sn(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function an(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function un(t,e,n){return e===e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):an(t,cn,n)}function ln(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function cn(t){return t!==t}function hn(t,e){var n=null==t?0:t.length;return n?gn(t,e)/n:j}function fn(t){return function(e){return null==e?o:e[t]}}function dn(t){return function(e){return null==t?o:t[e]}}function pn(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function gn(t,e){for(var n,i=-1,r=t.length;++i<r;){var s=e(t[i]);s!==o&&(n=n===o?s:n+s)}return n}function mn(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function vn(t){return function(e){return t(e)}}function yn(t,e){return Ze(e,function(e){return t[e]})}function bn(t,e){return t.has(e)}function _n(t,e){for(var n=-1,i=t.length;++n<i&&un(e,t[n],0)>-1;);return n}function wn(t,e){for(var n=t.length;n--&&un(e,t[n],0)>-1;);return n}var xn=dn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),kn=dn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Cn(t){return"\\"+Pe[t]}function Sn(t){return xe.test(t)}function Tn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function En(t,e){return function(n){return t(e(n))}}function Pn(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==h||(t[n]=h,o[r++]=n)}return o}function Dn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Mn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function On(t){return Sn(t)?function(t){var e=_e.lastIndex=0;for(;_e.test(t);)++e;return e}(t):on(t)}function An(t){return Sn(t)?function(t){return t.match(_e)||[]}(t):function(t){return t.split("")}(t)}var In=dn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Nn=function t(e){var n,i=(e=null==e?Ie:Nn.defaults(Ie.Object(),e,Nn.pick(Ie,Ce))).Array,r=e.Date,Jt=e.Error,Zt=e.Function,te=e.Math,ee=e.Object,ne=e.RegExp,ie=e.String,re=e.TypeError,oe=i.prototype,se=Zt.prototype,ae=ee.prototype,ue=e["__core-js_shared__"],le=se.toString,ce=ae.hasOwnProperty,he=0,fe=(n=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",de=ae.toString,pe=le.call(ee),ge=Ie._,me=ne("^"+le.call(ce).replace(At,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=je?e.Buffer:o,_e=e.Symbol,xe=e.Uint8Array,Pe=ve?ve.allocUnsafe:o,Oe=En(ee.getPrototypeOf,ee),Ae=ee.create,Ne=ae.propertyIsEnumerable,Re=oe.splice,Le=_e?_e.isConcatSpreadable:o,Fe=_e?_e.iterator:o,on=_e?_e.toStringTag:o,dn=function(){try{var t=zo(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),Rn=e.clearTimeout!==Ie.clearTimeout&&e.clearTimeout,jn=r&&r.now!==Ie.Date.now&&r.now,Ln=e.setTimeout!==Ie.setTimeout&&e.setTimeout,Fn=te.ceil,zn=te.floor,Bn=ee.getOwnPropertySymbols,qn=ve?ve.isBuffer:o,Hn=e.isFinite,Wn=oe.join,Un=En(ee.keys,ee),$n=te.max,Yn=te.min,Vn=r.now,Xn=e.parseInt,Gn=te.random,Kn=oe.reverse,Qn=zo(e,"DataView"),Jn=zo(e,"Map"),Zn=zo(e,"Promise"),ti=zo(e,"Set"),ei=zo(e,"WeakMap"),ni=zo(ee,"create"),ii=ei&&new ei,ri={},oi=hs(Qn),si=hs(Jn),ai=hs(Zn),ui=hs(ti),li=hs(ei),ci=_e?_e.prototype:o,hi=ci?ci.valueOf:o,fi=ci?ci.toString:o;function di(t){if(Pa(t)&&!va(t)&&!(t instanceof vi)){if(t instanceof mi)return t;if(ce.call(t,"__wrapped__"))return fs(t)}return new mi(t)}var pi=function(){function t(){}return function(e){if(!Ea(e))return{};if(Ae)return Ae(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function gi(){}function mi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function vi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function yi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function bi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function _i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function wi(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new _i;++e<n;)this.add(t[e])}function xi(t){var e=this.__data__=new bi(t);this.size=e.size}function ki(t,e){var n=va(t),i=!n&&ma(t),r=!n&&!i&&wa(t),o=!n&&!i&&!r&&ja(t),s=n||i||r||o,a=s?mn(t.length,ie):[],u=a.length;for(var l in t)!e&&!ce.call(t,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Yo(l,u))||a.push(l);return a}function Ci(t){var e=t.length;return e?t[wr(0,e-1)]:o}function Si(t,e){return us(no(t),Ni(e,0,t.length))}function Ti(t){return us(no(t))}function Ei(t,e,n){(n===o||da(t[e],n))&&(n!==o||e in t)||Ai(t,e,n)}function Pi(t,e,n){var i=t[e];ce.call(t,e)&&da(i,n)&&(n!==o||e in t)||Ai(t,e,n)}function Di(t,e){for(var n=t.length;n--;)if(da(t[n][0],e))return n;return-1}function Mi(t,e,n,i){return zi(t,function(t,r,o){e(i,t,n(t),o)}),i}function Oi(t,e){return t&&io(e,ru(e),t)}function Ai(t,e,n){"__proto__"==e&&dn?dn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ii(t,e){for(var n=-1,r=e.length,s=i(r),a=null==t;++n<r;)s[n]=a?o:Za(t,e[n]);return s}function Ni(t,e,n){return t===t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function Ri(t,e,n,i,r,s){var a,u=e&f,l=e&d,c=e&p;if(n&&(a=r?n(t,i,r,s):n(t)),a!==o)return a;if(!Ea(t))return t;var h=va(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ce.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return no(t,a)}else{var g=Ho(t),m=g==X||g==G;if(wa(t))return Kr(t,u);if(g==Z||g==q||m&&!r){if(a=l||m?{}:Uo(t),!u)return l?function(t,e){return io(t,qo(t),e)}(t,function(t,e){return t&&io(e,ou(e),t)}(a,t)):function(t,e){return io(t,Bo(t),e)}(t,Oi(a,t))}else{if(!Ee[g])return r?t:{};a=function(t,e,n){var i,r,o,s=t.constructor;switch(e){case ut:return Qr(t);case U:case $:return new s(+t);case lt:return function(t,e){var n=e?Qr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case ct:case ht:case ft:case dt:case pt:case gt:case mt:case vt:case yt:return Jr(t,n);case K:return new s;case Q:case it:return new s(t);case et:return(o=new(r=t).constructor(r.source,Wt.exec(r))).lastIndex=r.lastIndex,o;case nt:return new s;case rt:return i=t,hi?ee(hi.call(i)):{}}}(t,g,u)}}s||(s=new xi);var v=s.get(t);if(v)return v;if(s.set(t,a),Ia(t))return t.forEach(function(i){a.add(Ri(i,e,n,i,t,s))}),a;if(Da(t))return t.forEach(function(i,r){a.set(r,Ri(i,e,n,r,t,s))}),a;var y=h?o:(c?l?Ao:Oo:l?ou:ru)(t);return Ve(y||t,function(i,r){y&&(i=t[r=i]),Pi(a,r,Ri(i,e,n,r,t,s))}),a}function ji(t,e,n){var i=n.length;if(null==t)return!i;for(t=ee(t);i--;){var r=n[i],s=e[r],a=t[r];if(a===o&&!(r in t)||!s(a))return!1}return!0}function Li(t,e,n){if("function"!=typeof t)throw new re(u);return rs(function(){t.apply(o,n)},e)}function Fi(t,e,n,i){var r=-1,o=Qe,a=!0,u=t.length,l=[],c=e.length;if(!u)return l;n&&(e=Ze(e,vn(n))),i?(o=Je,a=!1):e.length>=s&&(o=bn,a=!1,e=new wi(e));t:for(;++r<u;){var h=t[r],f=null==n?h:n(h);if(h=i||0!==h?h:0,a&&f===f){for(var d=c;d--;)if(e[d]===f)continue t;l.push(h)}else o(e,f,i)||l.push(h)}return l}di.templateSettings={escape:Tt,evaluate:Et,interpolate:Pt,variable:"",imports:{_:di}},di.prototype=gi.prototype,di.prototype.constructor=di,mi.prototype=pi(gi.prototype),mi.prototype.constructor=mi,vi.prototype=pi(gi.prototype),vi.prototype.constructor=vi,yi.prototype.clear=function(){this.__data__=ni?ni(null):{},this.size=0},yi.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},yi.prototype.get=function(t){var e=this.__data__;if(ni){var n=e[t];return n===l?o:n}return ce.call(e,t)?e[t]:o},yi.prototype.has=function(t){var e=this.__data__;return ni?e[t]!==o:ce.call(e,t)},yi.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ni&&e===o?l:e,this},bi.prototype.clear=function(){this.__data__=[],this.size=0},bi.prototype.delete=function(t){var e=this.__data__,n=Di(e,t);return!(n<0)&&(n==e.length-1?e.pop():Re.call(e,n,1),--this.size,!0)},bi.prototype.get=function(t){var e=this.__data__,n=Di(e,t);return n<0?o:e[n][1]},bi.prototype.has=function(t){return Di(this.__data__,t)>-1},bi.prototype.set=function(t,e){var n=this.__data__,i=Di(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},_i.prototype.clear=function(){this.size=0,this.__data__={hash:new yi,map:new(Jn||bi),string:new yi}},_i.prototype.delete=function(t){var e=Lo(this,t).delete(t);return this.size-=e?1:0,e},_i.prototype.get=function(t){return Lo(this,t).get(t)},_i.prototype.has=function(t){return Lo(this,t).has(t)},_i.prototype.set=function(t,e){var n=Lo(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},wi.prototype.add=wi.prototype.push=function(t){return this.__data__.set(t,l),this},wi.prototype.has=function(t){return this.__data__.has(t)},xi.prototype.clear=function(){this.__data__=new bi,this.size=0},xi.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},xi.prototype.get=function(t){return this.__data__.get(t)},xi.prototype.has=function(t){return this.__data__.has(t)},xi.prototype.set=function(t,e){var n=this.__data__;if(n instanceof bi){var i=n.__data__;if(!Jn||i.length<s-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new _i(i)}return n.set(t,e),this.size=n.size,this};var zi=so(Vi),Bi=so(Xi,!0);function qi(t,e){var n=!0;return zi(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Hi(t,e,n){for(var i=-1,r=t.length;++i<r;){var s=t[i],a=e(s);if(null!=a&&(u===o?a===a&&!Ra(a):n(a,u)))var u=a,l=s}return l}function Wi(t,e){var n=[];return zi(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Ui(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=$o),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Ui(a,e-1,n,i,r):tn(r,a):i||(r[r.length]=a)}return r}var $i=ao(),Yi=ao(!0);function Vi(t,e){return t&&$i(t,e,ru)}function Xi(t,e){return t&&Yi(t,e,ru)}function Gi(t,e){return Ke(e,function(e){return Ca(t[e])})}function Ki(t,e){for(var n=0,i=(e=Yr(e,t)).length;null!=t&&n<i;)t=t[cs(e[n++])];return n&&n==i?t:o}function Qi(t,e,n){var i=e(t);return va(t)?i:tn(i,n(t))}function Ji(t){return null==t?t===o?ot:J:on&&on in ee(t)?function(t){var e=ce.call(t,on),n=t[on];try{t[on]=o;var i=!0}catch(t){}var r=de.call(t);return i&&(e?t[on]=n:delete t[on]),r}(t):function(t){return de.call(t)}(t)}function Zi(t,e){return t>e}function tr(t,e){return null!=t&&ce.call(t,e)}function er(t,e){return null!=t&&e in ee(t)}function nr(t,e,n){for(var r=n?Je:Qe,s=t[0].length,a=t.length,u=a,l=i(a),c=1/0,h=[];u--;){var f=t[u];u&&e&&(f=Ze(f,vn(e))),c=Yn(f.length,c),l[u]=!n&&(e||s>=120&&f.length>=120)?new wi(u&&f):o}f=t[0];var d=-1,p=l[0];t:for(;++d<s&&h.length<c;){var g=f[d],m=e?e(g):g;if(g=n||0!==g?g:0,!(p?bn(p,m):r(h,m,n))){for(u=a;--u;){var v=l[u];if(!(v?bn(v,m):r(t[u],m,n)))continue t}p&&p.push(m),h.push(g)}}return h}function ir(t,e,n){var i=null==(t=es(t,e=Yr(e,t)))?t:t[cs(ks(e))];return null==i?o:$e(i,t,n)}function rr(t){return Pa(t)&&Ji(t)==q}function or(t,e,n,i,r){return t===e||(null==t||null==e||!Pa(t)&&!Pa(e)?t!==t&&e!==e:function(t,e,n,i,r,s){var a=va(t),u=va(e),l=a?H:Ho(t),c=u?H:Ho(e),h=(l=l==q?Z:l)==Z,f=(c=c==q?Z:c)==Z,d=l==c;if(d&&wa(t)){if(!wa(e))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new xi),a||ja(t)?Do(t,e,n,i,r,s):function(t,e,n,i,r,o,s){switch(n){case lt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new xe(t),new xe(e)));case U:case $:case Q:return da(+t,+e);case V:return t.name==e.name&&t.message==e.message;case et:case it:return t==e+"";case K:var a=Tn;case nt:var u=i&g;if(a||(a=Dn),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;i|=m,s.set(t,e);var c=Do(a(t),a(e),i,r,o,s);return s.delete(t),c;case rt:if(hi)return hi.call(t)==hi.call(e)}return!1}(t,e,l,n,i,r,s);if(!(n&g)){var p=h&&ce.call(t,"__wrapped__"),v=f&&ce.call(e,"__wrapped__");if(p||v){var y=p?t.value():t,b=v?e.value():e;return s||(s=new xi),r(y,b,n,i,s)}}return!!d&&(s||(s=new xi),function(t,e,n,i,r,s){var a=n&g,u=Oo(t),l=u.length,c=Oo(e).length;if(l!=c&&!a)return!1;for(var h=l;h--;){var f=u[h];if(!(a?f in e:ce.call(e,f)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var p=!0;s.set(t,e),s.set(e,t);for(var m=a;++h<l;){f=u[h];var v=t[f],y=e[f];if(i)var b=a?i(y,v,f,e,t,s):i(v,y,f,t,e,s);if(!(b===o?v===y||r(v,y,n,i,s):b)){p=!1;break}m||(m="constructor"==f)}if(p&&!m){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(p=!1)}return s.delete(t),s.delete(e),p}(t,e,n,i,r,s))}(t,e,n,i,or,r))}function sr(t,e,n,i){var r=n.length,s=r,a=!i;if(null==t)return!s;for(t=ee(t);r--;){var u=n[r];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++r<s;){var l=(u=n[r])[0],c=t[l],h=u[1];if(a&&u[2]){if(c===o&&!(l in t))return!1}else{var f=new xi;if(i)var d=i(c,h,l,t,e,f);if(!(d===o?or(h,c,g|m,i,f):d))return!1}}return!0}function ar(t){return!(!Ea(t)||fe&&fe in t)&&(Ca(t)?me:Yt).test(hs(t))}function ur(t){return"function"==typeof t?t:null==t?Mu:"object"==typeof t?va(t)?pr(t[0],t[1]):dr(t):zu(t)}function lr(t){if(!Qo(t))return Un(t);var e=[];for(var n in ee(t))ce.call(t,n)&&"constructor"!=n&&e.push(n);return e}function cr(t){if(!Ea(t))return function(t){var e=[];if(null!=t)for(var n in ee(t))e.push(n);return e}(t);var e=Qo(t),n=[];for(var i in t)("constructor"!=i||!e&&ce.call(t,i))&&n.push(i);return n}function hr(t,e){return t<e}function fr(t,e){var n=-1,r=ba(t)?i(t.length):[];return zi(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function dr(t){var e=Fo(t);return 1==e.length&&e[0][2]?Zo(e[0][0],e[0][1]):function(n){return n===t||sr(n,t,e)}}function pr(t,e){return Xo(t)&&Jo(e)?Zo(cs(t),e):function(n){var i=Za(n,t);return i===o&&i===e?tu(n,t):or(e,i,g|m)}}function gr(t,e,n,i,r){t!==e&&$i(e,function(s,a){if(Ea(s))r||(r=new xi),function(t,e,n,i,r,s,a){var u=ns(t,n),l=ns(e,n),c=a.get(l);if(c)Ei(t,n,c);else{var h=s?s(u,l,n+"",t,e,a):o,f=h===o;if(f){var d=va(l),p=!d&&wa(l),g=!d&&!p&&ja(l);h=l,d||p||g?va(u)?h=u:_a(u)?h=no(u):p?(f=!1,h=Kr(l,!0)):g?(f=!1,h=Jr(l,!0)):h=[]:Oa(l)||ma(l)?(h=u,ma(u)?h=Ua(u):Ea(u)&&!Ca(u)||(h=Uo(l))):f=!1}f&&(a.set(l,h),r(h,l,i,s,a),a.delete(l)),Ei(t,n,h)}}(t,e,a,n,gr,i,r);else{var u=i?i(ns(t,a),s,a+"",t,e,r):o;u===o&&(u=s),Ei(t,a,u)}},ou)}function mr(t,e){var n=t.length;if(n)return Yo(e+=e<0?n:0,n)?t[e]:o}function vr(t,e,n){var i=-1;return e=Ze(e.length?e:[Mu],vn(jo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(fr(t,function(t,n,r){return{criteria:Ze(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var u=Zr(r[i],o[i]);if(u){if(i>=a)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)})}function yr(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=Ki(t,s);n(a,s)&&Tr(o,Yr(s,t),a)}return o}function br(t,e,n,i){var r=i?ln:un,o=-1,s=e.length,a=t;for(t===e&&(e=no(e)),n&&(a=Ze(t,vn(n)));++o<s;)for(var u=0,l=e[o],c=n?n(l):l;(u=r(a,c,u,i))>-1;)a!==t&&Re.call(a,u,1),Re.call(t,u,1);return t}function _r(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Yo(r)?Re.call(t,r,1):Fr(t,r)}}return t}function wr(t,e){return t+zn(Gn()*(e-t+1))}function xr(t,e){var n="";if(!t||e<1||e>N)return n;do{e%2&&(n+=t),(e=zn(e/2))&&(t+=t)}while(e);return n}function kr(t,e){return os(ts(t,e,Mu),t+"")}function Cr(t){return Ci(du(t))}function Sr(t,e){var n=du(t);return us(n,Ni(e,0,n.length))}function Tr(t,e,n,i){if(!Ea(t))return t;for(var r=-1,s=(e=Yr(e,t)).length,a=s-1,u=t;null!=u&&++r<s;){var l=cs(e[r]),c=n;if(r!=a){var h=u[l];(c=i?i(h,l,u):o)===o&&(c=Ea(h)?h:Yo(e[r+1])?[]:{})}Pi(u,l,c),u=u[l]}return t}var Er=ii?function(t,e){return ii.set(t,e),t}:Mu,Pr=dn?function(t,e){return dn(t,"toString",{configurable:!0,enumerable:!1,value:Eu(e),writable:!0})}:Mu;function Dr(t){return us(du(t))}function Mr(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=i(o);++r<o;)s[r]=t[r+e];return s}function Or(t,e){var n;return zi(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}function Ar(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&r<=z){for(;i<r;){var o=i+r>>>1,s=t[o];null!==s&&!Ra(s)&&(n?s<=e:s<e)?i=o+1:r=o}return r}return Ir(t,e,Mu,n)}function Ir(t,e,n,i){e=n(e);for(var r=0,s=null==t?0:t.length,a=e!==e,u=null===e,l=Ra(e),c=e===o;r<s;){var h=zn((r+s)/2),f=n(t[h]),d=f!==o,p=null===f,g=f===f,m=Ra(f);if(a)var v=i||g;else v=c?g&&(i||d):u?g&&d&&(i||!p):l?g&&d&&!p&&(i||!m):!p&&!m&&(i?f<=e:f<e);v?r=h+1:s=h}return Yn(s,F)}function Nr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!da(a,u)){var u=a;o[r++]=0===s?0:s}}return o}function Rr(t){return"number"==typeof t?t:Ra(t)?j:+t}function jr(t){if("string"==typeof t)return t;if(va(t))return Ze(t,jr)+"";if(Ra(t))return fi?fi.call(t):"";var e=t+"";return"0"==e&&1/t==-I?"-0":e}function Lr(t,e,n){var i=-1,r=Qe,o=t.length,a=!0,u=[],l=u;if(n)a=!1,r=Je;else if(o>=s){var c=e?null:ko(t);if(c)return Dn(c);a=!1,r=bn,l=new wi}else l=e?[]:u;t:for(;++i<o;){var h=t[i],f=e?e(h):h;if(h=n||0!==h?h:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue t;e&&l.push(f),u.push(h)}else r(l,f,n)||(l!==u&&l.push(f),u.push(h))}return u}function Fr(t,e){return null==(t=es(t,e=Yr(e,t)))||delete t[cs(ks(e))]}function zr(t,e,n,i){return Tr(t,e,n(Ki(t,e)),i)}function Br(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Mr(t,i?0:o,i?o+1:r):Mr(t,i?o+1:0,i?r:o)}function qr(t,e){var n=t;return n instanceof vi&&(n=n.value()),en(e,function(t,e){return e.func.apply(e.thisArg,tn([t],e.args))},n)}function Hr(t,e,n){var r=t.length;if(r<2)return r?Lr(t[0]):[];for(var o=-1,s=i(r);++o<r;)for(var a=t[o],u=-1;++u<r;)u!=o&&(s[o]=Fi(s[o]||a,t[u],e,n));return Lr(Ui(s,1),e,n)}function Wr(t,e,n){for(var i=-1,r=t.length,s=e.length,a={};++i<r;){var u=i<s?e[i]:o;n(a,t[i],u)}return a}function Ur(t){return _a(t)?t:[]}function $r(t){return"function"==typeof t?t:Mu}function Yr(t,e){return va(t)?t:Xo(t,e)?[t]:ls($a(t))}var Vr=kr;function Xr(t,e,n){var i=t.length;return n=n===o?i:n,!e&&n>=i?t:Mr(t,e,n)}var Gr=Rn||function(t){return Ie.clearTimeout(t)};function Kr(t,e){if(e)return t.slice();var n=t.length,i=Pe?Pe(n):new t.constructor(n);return t.copy(i),i}function Qr(t){var e=new t.constructor(t.byteLength);return new xe(e).set(new xe(t)),e}function Jr(t,e){var n=e?Qr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Zr(t,e){if(t!==e){var n=t!==o,i=null===t,r=t===t,s=Ra(t),a=e!==o,u=null===e,l=e===e,c=Ra(e);if(!u&&!c&&!s&&t>e||s&&a&&l&&!u&&!c||i&&a&&l||!n&&l||!r)return 1;if(!i&&!s&&!c&&t<e||c&&n&&r&&!i&&!s||u&&n&&r||!a&&r||!l)return-1}return 0}function to(t,e,n,r){for(var o=-1,s=t.length,a=n.length,u=-1,l=e.length,c=$n(s-a,0),h=i(l+c),f=!r;++u<l;)h[u]=e[u];for(;++o<a;)(f||o<s)&&(h[n[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function eo(t,e,n,r){for(var o=-1,s=t.length,a=-1,u=n.length,l=-1,c=e.length,h=$n(s-u,0),f=i(h+c),d=!r;++o<h;)f[o]=t[o];for(var p=o;++l<c;)f[p+l]=e[l];for(;++a<u;)(d||o<s)&&(f[p+n[a]]=t[o++]);return f}function no(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function io(t,e,n,i){var r=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],l=i?i(n[u],t[u],u,n,t):o;l===o&&(l=t[u]),r?Ai(n,u,l):Pi(n,u,l)}return n}function ro(t,e){return function(n,i){var r=va(n)?Ye:Mi,o=e?e():{};return r(n,t,jo(i,2),o)}}function oo(t){return kr(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:o,a=r>2?n[2]:o;for(s=t.length>3&&"function"==typeof s?(r--,s):o,a&&Vo(n[0],n[1],a)&&(s=r<3?o:s,r=1),e=ee(e);++i<r;){var u=n[i];u&&t(e,u,i,s)}return e})}function so(t,e){return function(n,i){if(null==n)return n;if(!ba(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=ee(n);(e?o--:++o<r)&&!1!==i(s[o],o,s););return n}}function ao(t){return function(e,n,i){for(var r=-1,o=ee(e),s=i(e),a=s.length;a--;){var u=s[t?a:++r];if(!1===n(o[u],u,o))break}return e}}function uo(t){return function(e){var n=Sn(e=$a(e))?An(e):o,i=n?n[0]:e.charAt(0),r=n?Xr(n,1).join(""):e.slice(1);return i[t]()+r}}function lo(t){return function(e){return en(Cu(mu(e).replace(ye,"")),t,"")}}function co(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=pi(t.prototype),i=t.apply(n,e);return Ea(i)?i:n}}function ho(t){return function(e,n,i){var r=ee(e);if(!ba(e)){var s=jo(n,3);e=ru(e),n=function(t){return s(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[s?e[a]:a]:o}}function fo(t){return Mo(function(e){var n=e.length,i=n,r=mi.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new re(u);if(r&&!a&&"wrapper"==No(s))var a=new mi([],!0)}for(i=a?i:n;++i<n;){var l=No(s=e[i]),c="wrapper"==l?Io(s):o;a=c&&Go(c[0])&&c[1]==(C|_|x|S)&&!c[4].length&&1==c[9]?a[No(c[0])].apply(a,c[3]):1==s.length&&Go(s)?a[l]():a.thru(s)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&va(i))return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function po(t,e,n,r,s,a,u,l,c,h){var f=e&C,d=e&v,p=e&y,g=e&(_|w),m=e&T,b=p?o:co(t);return function v(){for(var y=arguments.length,_=i(y),w=y;w--;)_[w]=arguments[w];if(g)var x=Ro(v),k=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(_,x);if(r&&(_=to(_,r,s,g)),a&&(_=eo(_,a,u,g)),y-=k,g&&y<h){var C=Pn(_,x);return wo(t,e,po,v.placeholder,n,_,C,l,c,h-y)}var S=d?n:this,T=p?S[t]:t;return y=_.length,l?_=function(t,e){for(var n=t.length,i=Yn(e.length,n),r=no(t);i--;){var s=e[i];t[i]=Yo(s,n)?r[s]:o}return t}(_,l):m&&y>1&&_.reverse(),f&&c<y&&(_.length=c),this&&this!==Ie&&this instanceof v&&(T=b||co(T)),T.apply(S,_)}}function go(t,e){return function(n,i){return function(t,e,n,i){return Vi(t,function(t,r,o){e(i,n(t),r,o)}),i}(n,t,e(i),{})}}function mo(t,e){return function(n,i){var r;if(n===o&&i===o)return e;if(n!==o&&(r=n),i!==o){if(r===o)return i;"string"==typeof n||"string"==typeof i?(n=jr(n),i=jr(i)):(n=Rr(n),i=Rr(i)),r=t(n,i)}return r}}function vo(t){return Mo(function(e){return e=Ze(e,vn(jo())),kr(function(n){var i=this;return t(e,function(t){return $e(t,i,n)})})})}function yo(t,e){var n=(e=e===o?" ":jr(e)).length;if(n<2)return n?xr(e,t):e;var i=xr(e,Fn(t/On(e)));return Sn(e)?Xr(An(i),0,t).join(""):i.slice(0,t)}function bo(t){return function(e,n,r){return r&&"number"!=typeof r&&Vo(e,n,r)&&(n=r=o),e=Ba(e),n===o?(n=e,e=0):n=Ba(n),function(t,e,n,r){for(var o=-1,s=$n(Fn((e-t)/(n||1)),0),a=i(s);s--;)a[r?s:++o]=t,t+=n;return a}(e,n,r=r===o?e<n?1:-1:Ba(r),t)}}function _o(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Wa(e),n=Wa(n)),t(e,n)}}function wo(t,e,n,i,r,s,a,u,l,c){var h=e&_;e|=h?x:k,(e&=~(h?k:x))&b||(e&=~(v|y));var f=[t,e,r,h?s:o,h?a:o,h?o:s,h?o:a,u,l,c],d=n.apply(o,f);return Go(t)&&is(d,f),d.placeholder=i,ss(d,t,e)}function xo(t){var e=te[t];return function(t,n){if(t=Wa(t),n=null==n?0:Yn(qa(n),292)){var i=($a(t)+"e").split("e");return+((i=($a(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var ko=ti&&1/Dn(new ti([,-0]))[1]==I?function(t){return new ti(t)}:Ru;function Co(t){return function(e){var n=Ho(e);return n==K?Tn(e):n==nt?Mn(e):function(t,e){return Ze(e,function(e){return[e,t[e]]})}(e,t(e))}}function So(t,e,n,r,s,a,l,c){var f=e&y;if(!f&&"function"!=typeof t)throw new re(u);var d=r?r.length:0;if(d||(e&=~(x|k),r=s=o),l=l===o?l:$n(qa(l),0),c=c===o?c:qa(c),d-=s?s.length:0,e&k){var p=r,g=s;r=s=o}var m=f?o:Io(t),T=[t,e,n,r,s,p,g,a,l,c];if(m&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<(v|y|C),s=i==C&&n==_||i==C&&n==S&&t[7].length<=e[8]||i==(C|S)&&e[7].length<=e[8]&&n==_;if(!o&&!s)return t;i&v&&(t[2]=e[2],r|=n&v?0:b);var a=e[3];if(a){var u=t[3];t[3]=u?to(u,a,e[4]):a,t[4]=u?Pn(t[3],h):e[4]}(a=e[5])&&(u=t[5],t[5]=u?eo(u,a,e[6]):a,t[6]=u?Pn(t[5],h):e[6]),(a=e[7])&&(t[7]=a),i&C&&(t[8]=null==t[8]?e[8]:Yn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(T,m),t=T[0],e=T[1],n=T[2],r=T[3],s=T[4],!(c=T[9]=T[9]===o?f?0:t.length:$n(T[9]-d,0))&&e&(_|w)&&(e&=~(_|w)),e&&e!=v)E=e==_||e==w?function(t,e,n){var r=co(t);return function s(){for(var a=arguments.length,u=i(a),l=a,c=Ro(s);l--;)u[l]=arguments[l];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:Pn(u,c);return(a-=h.length)<n?wo(t,e,po,s.placeholder,o,u,h,o,o,n-a):$e(this&&this!==Ie&&this instanceof s?r:t,this,u)}}(t,e,c):e!=x&&e!=(v|x)||s.length?po.apply(o,T):function(t,e,n,r){var o=e&v,s=co(t);return function e(){for(var a=-1,u=arguments.length,l=-1,c=r.length,h=i(c+u),f=this&&this!==Ie&&this instanceof e?s:t;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++a];return $e(f,o?n:this,h)}}(t,e,n,r);else var E=function(t,e,n){var i=e&v,r=co(t);return function e(){return(this&&this!==Ie&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return ss((m?Er:is)(E,T),t,e)}function To(t,e,n,i){return t===o||da(t,ae[n])&&!ce.call(i,n)?e:t}function Eo(t,e,n,i,r,s){return Ea(t)&&Ea(e)&&(s.set(e,t),gr(t,e,o,Eo,s),s.delete(e)),t}function Po(t){return Oa(t)?o:t}function Do(t,e,n,i,r,s){var a=n&g,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var h=-1,f=!0,d=n&m?new wi:o;for(s.set(t,e),s.set(e,t);++h<u;){var p=t[h],v=e[h];if(i)var y=a?i(v,p,h,e,t,s):i(p,v,h,t,e,s);if(y!==o){if(y)continue;f=!1;break}if(d){if(!rn(e,function(t,e){if(!bn(d,e)&&(p===t||r(p,t,n,i,s)))return d.push(e)})){f=!1;break}}else if(p!==v&&!r(p,v,n,i,s)){f=!1;break}}return s.delete(t),s.delete(e),f}function Mo(t){return os(ts(t,o,ys),t+"")}function Oo(t){return Qi(t,ru,Bo)}function Ao(t){return Qi(t,ou,qo)}var Io=ii?function(t){return ii.get(t)}:Ru;function No(t){for(var e=t.name+"",n=ri[e],i=ce.call(ri,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Ro(t){return(ce.call(di,"placeholder")?di:t).placeholder}function jo(){var t=di.iteratee||Ou;return t=t===Ou?ur:t,arguments.length?t(arguments[0],arguments[1]):t}function Lo(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Fo(t){for(var e=ru(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Jo(r)]}return e}function zo(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return ar(n)?n:o}var Bo=Bn?function(t){return null==t?[]:(t=ee(t),Ke(Bn(t),function(e){return Ne.call(t,e)}))}:Hu,qo=Bn?function(t){for(var e=[];t;)tn(e,Bo(t)),t=Oe(t);return e}:Hu,Ho=Ji;function Wo(t,e,n){for(var i=-1,r=(e=Yr(e,t)).length,o=!1;++i<r;){var s=cs(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Ta(r)&&Yo(s,r)&&(va(t)||ma(t))}function Uo(t){return"function"!=typeof t.constructor||Qo(t)?{}:pi(Oe(t))}function $o(t){return va(t)||ma(t)||!!(Le&&t&&t[Le])}function Yo(t,e){var n=typeof t;return!!(e=null==e?N:e)&&("number"==n||"symbol"!=n&&Xt.test(t))&&t>-1&&t%1==0&&t<e}function Vo(t,e,n){if(!Ea(n))return!1;var i=typeof e;return!!("number"==i?ba(n)&&Yo(e,n.length):"string"==i&&e in n)&&da(n[e],t)}function Xo(t,e){if(va(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ra(t))||Mt.test(t)||!Dt.test(t)||null!=e&&t in ee(e)}function Go(t){var e=No(t),n=di[e];if("function"!=typeof n||!(e in vi.prototype))return!1;if(t===n)return!0;var i=Io(n);return!!i&&t===i[0]}(Qn&&Ho(new Qn(new ArrayBuffer(1)))!=lt||Jn&&Ho(new Jn)!=K||Zn&&"[object Promise]"!=Ho(Zn.resolve())||ti&&Ho(new ti)!=nt||ei&&Ho(new ei)!=st)&&(Ho=function(t){var e=Ji(t),n=e==Z?t.constructor:o,i=n?hs(n):"";if(i)switch(i){case oi:return lt;case si:return K;case ai:return"[object Promise]";case ui:return nt;case li:return st}return e});var Ko=ue?Ca:Wu;function Qo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)}function Jo(t){return t===t&&!Ea(t)}function Zo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in ee(n))}}function ts(t,e,n){return e=$n(e===o?t.length-1:e,0),function(){for(var r=arguments,o=-1,s=$n(r.length-e,0),a=i(s);++o<s;)a[o]=r[e+o];o=-1;for(var u=i(e+1);++o<e;)u[o]=r[o];return u[e]=n(a),$e(t,this,u)}}function es(t,e){return e.length<2?t:Ki(t,Mr(e,0,-1))}function ns(t,e){if("__proto__"!=e)return t[e]}var is=as(Er),rs=Ln||function(t,e){return Ie.setTimeout(t,e)},os=as(Pr);function ss(t,e,n){var i=e+"";return os(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Lt,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Ve(B,function(n){var i="_."+n[0];e&n[1]&&!Qe(t,i)&&t.push(i)}),t.sort()}(function(t){var e=t.match(Ft);return e?e[1].split(zt):[]}(i),n)))}function as(t){var e=0,n=0;return function(){var i=Vn(),r=M-(i-n);if(n=i,r>0){if(++e>=D)return arguments[0]}else e=0;return t.apply(o,arguments)}}function us(t,e){var n=-1,i=t.length,r=i-1;for(e=e===o?i:e;++n<e;){var s=wr(n,r),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var ls=function(t){var e=aa(t,function(t){return n.size===c&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ot,function(t,n,i,r){e.push(i?r.replace(qt,"$1"):n||t)}),e});function cs(t){if("string"==typeof t||Ra(t))return t;var e=t+"";return"0"==e&&1/t==-I?"-0":e}function hs(t){if(null!=t){try{return le.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function fs(t){if(t instanceof vi)return t.clone();var e=new mi(t.__wrapped__,t.__chain__);return e.__actions__=no(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ds=kr(function(t,e){return _a(t)?Fi(t,Ui(e,1,_a,!0)):[]}),ps=kr(function(t,e){var n=ks(e);return _a(n)&&(n=o),_a(t)?Fi(t,Ui(e,1,_a,!0),jo(n,2)):[]}),gs=kr(function(t,e){var n=ks(e);return _a(n)&&(n=o),_a(t)?Fi(t,Ui(e,1,_a,!0),o,n):[]});function ms(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:qa(n);return r<0&&(r=$n(i+r,0)),an(t,jo(e,3),r)}function vs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==o&&(r=qa(n),r=n<0?$n(i+r,0):Yn(r,i-1)),an(t,jo(e,3),r,!0)}function ys(t){return null!=t&&t.length?Ui(t,1):[]}function bs(t){return t&&t.length?t[0]:o}var _s=kr(function(t){var e=Ze(t,Ur);return e.length&&e[0]===t[0]?nr(e):[]}),ws=kr(function(t){var e=ks(t),n=Ze(t,Ur);return e===ks(n)?e=o:n.pop(),n.length&&n[0]===t[0]?nr(n,jo(e,2)):[]}),xs=kr(function(t){var e=ks(t),n=Ze(t,Ur);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?nr(n,o,e):[]});function ks(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Cs=kr(Ss);function Ss(t,e){return t&&t.length&&e&&e.length?br(t,e):t}var Ts=Mo(function(t,e){var n=null==t?0:t.length,i=Ii(t,e);return _r(t,Ze(e,function(t){return Yo(t,n)?+t:t}).sort(Zr)),i});function Es(t){return null==t?t:Kn.call(t)}var Ps=kr(function(t){return Lr(Ui(t,1,_a,!0))}),Ds=kr(function(t){var e=ks(t);return _a(e)&&(e=o),Lr(Ui(t,1,_a,!0),jo(e,2))}),Ms=kr(function(t){var e=ks(t);return e="function"==typeof e?e:o,Lr(Ui(t,1,_a,!0),o,e)});function Os(t){if(!t||!t.length)return[];var e=0;return t=Ke(t,function(t){if(_a(t))return e=$n(t.length,e),!0}),mn(e,function(e){return Ze(t,fn(e))})}function As(t,e){if(!t||!t.length)return[];var n=Os(t);return null==e?n:Ze(n,function(t){return $e(e,o,t)})}var Is=kr(function(t,e){return _a(t)?Fi(t,e):[]}),Ns=kr(function(t){return Hr(Ke(t,_a))}),Rs=kr(function(t){var e=ks(t);return _a(e)&&(e=o),Hr(Ke(t,_a),jo(e,2))}),js=kr(function(t){var e=ks(t);return e="function"==typeof e?e:o,Hr(Ke(t,_a),o,e)}),Ls=kr(Os);var Fs=kr(function(t){var e=t.length,n=e>1?t[e-1]:o;return As(t,n="function"==typeof n?(t.pop(),n):o)});function zs(t){var e=di(t);return e.__chain__=!0,e}function Bs(t,e){return e(t)}var qs=Mo(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Ii(e,t)};return!(e>1||this.__actions__.length)&&i instanceof vi&&Yo(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Bs,args:[r],thisArg:o}),new mi(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(r)});var Hs=ro(function(t,e,n){ce.call(t,n)?++t[n]:Ai(t,n,1)});var Ws=ho(ms),Us=ho(vs);function $s(t,e){return(va(t)?Ve:zi)(t,jo(e,3))}function Ys(t,e){return(va(t)?Xe:Bi)(t,jo(e,3))}var Vs=ro(function(t,e,n){ce.call(t,n)?t[n].push(e):Ai(t,n,[e])});var Xs=kr(function(t,e,n){var r=-1,o="function"==typeof e,s=ba(t)?i(t.length):[];return zi(t,function(t){s[++r]=o?$e(e,t,n):ir(t,e,n)}),s}),Gs=ro(function(t,e,n){Ai(t,n,e)});function Ks(t,e){return(va(t)?Ze:fr)(t,jo(e,3))}var Qs=ro(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Js=kr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Vo(t,e[0],e[1])?e=[]:n>2&&Vo(e[0],e[1],e[2])&&(e=[e[0]]),vr(t,Ui(e,1),[])}),Zs=jn||function(){return Ie.Date.now()};function ta(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,So(t,C,o,o,o,o,e)}function ea(t,e){var n;if("function"!=typeof e)throw new re(u);return t=qa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var na=kr(function(t,e,n){var i=v;if(n.length){var r=Pn(n,Ro(na));i|=x}return So(t,i,e,n,r)}),ia=kr(function(t,e,n){var i=v|y;if(n.length){var r=Pn(n,Ro(ia));i|=x}return So(e,i,t,n,r)});function ra(t,e,n){var i,r,s,a,l,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new re(u);function g(e){var n=i,s=r;return i=r=o,h=e,a=t.apply(s,n)}function m(t){var n=t-c;return c===o||n>=e||n<0||d&&t-h>=s}function v(){var t=Zs();if(m(t))return y(t);l=rs(v,function(t){var n=e-(t-c);return d?Yn(n,s-(t-h)):n}(t))}function y(t){return l=o,p&&i?g(t):(i=r=o,a)}function b(){var t=Zs(),n=m(t);if(i=arguments,r=this,c=t,n){if(l===o)return function(t){return h=t,l=rs(v,e),f?g(t):a}(c);if(d)return l=rs(v,e),g(c)}return l===o&&(l=rs(v,e)),a}return e=Wa(e)||0,Ea(n)&&(f=!!n.leading,s=(d="maxWait"in n)?$n(Wa(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==o&&Gr(l),h=0,i=c=r=l=o},b.flush=function(){return l===o?a:y(Zs())},b}var oa=kr(function(t,e){return Li(t,1,e)}),sa=kr(function(t,e,n){return Li(t,Wa(e)||0,n)});function aa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new re(u);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(aa.Cache||_i),n}function ua(t){if("function"!=typeof t)throw new re(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}aa.Cache=_i;var la=Vr(function(t,e){var n=(e=1==e.length&&va(e[0])?Ze(e[0],vn(jo())):Ze(Ui(e,1),vn(jo()))).length;return kr(function(i){for(var r=-1,o=Yn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return $e(t,this,i)})}),ca=kr(function(t,e){var n=Pn(e,Ro(ca));return So(t,x,o,e,n)}),ha=kr(function(t,e){var n=Pn(e,Ro(ha));return So(t,k,o,e,n)}),fa=Mo(function(t,e){return So(t,S,o,o,o,e)});function da(t,e){return t===e||t!==t&&e!==e}var pa=_o(Zi),ga=_o(function(t,e){return t>=e}),ma=rr(function(){return arguments}())?rr:function(t){return Pa(t)&&ce.call(t,"callee")&&!Ne.call(t,"callee")},va=i.isArray,ya=ze?vn(ze):function(t){return Pa(t)&&Ji(t)==ut};function ba(t){return null!=t&&Ta(t.length)&&!Ca(t)}function _a(t){return Pa(t)&&ba(t)}var wa=qn||Wu,xa=Be?vn(Be):function(t){return Pa(t)&&Ji(t)==$};function ka(t){if(!Pa(t))return!1;var e=Ji(t);return e==V||e==Y||"string"==typeof t.message&&"string"==typeof t.name&&!Oa(t)}function Ca(t){if(!Ea(t))return!1;var e=Ji(t);return e==X||e==G||e==W||e==tt}function Sa(t){return"number"==typeof t&&t==qa(t)}function Ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=N}function Ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Pa(t){return null!=t&&"object"==typeof t}var Da=qe?vn(qe):function(t){return Pa(t)&&Ho(t)==K};function Ma(t){return"number"==typeof t||Pa(t)&&Ji(t)==Q}function Oa(t){if(!Pa(t)||Ji(t)!=Z)return!1;var e=Oe(t);if(null===e)return!0;var n=ce.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&le.call(n)==pe}var Aa=He?vn(He):function(t){return Pa(t)&&Ji(t)==et};var Ia=We?vn(We):function(t){return Pa(t)&&Ho(t)==nt};function Na(t){return"string"==typeof t||!va(t)&&Pa(t)&&Ji(t)==it}function Ra(t){return"symbol"==typeof t||Pa(t)&&Ji(t)==rt}var ja=Ue?vn(Ue):function(t){return Pa(t)&&Ta(t.length)&&!!Te[Ji(t)]};var La=_o(hr),Fa=_o(function(t,e){return t<=e});function za(t){if(!t)return[];if(ba(t))return Na(t)?An(t):no(t);if(Fe&&t[Fe])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Fe]());var e=Ho(t);return(e==K?Tn:e==nt?Dn:du)(t)}function Ba(t){return t?(t=Wa(t))===I||t===-I?(t<0?-1:1)*R:t===t?t:0:0===t?t:0}function qa(t){var e=Ba(t),n=e%1;return e===e?n?e-n:e:0}function Ha(t){return t?Ni(qa(t),0,L):0}function Wa(t){if("number"==typeof t)return t;if(Ra(t))return j;if(Ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Nt,"");var n=$t.test(t);return n||Vt.test(t)?Me(t.slice(2),n?2:8):Ut.test(t)?j:+t}function Ua(t){return io(t,ou(t))}function $a(t){return null==t?"":jr(t)}var Ya=oo(function(t,e){if(Qo(e)||ba(e))io(e,ru(e),t);else for(var n in e)ce.call(e,n)&&Pi(t,n,e[n])}),Va=oo(function(t,e){io(e,ou(e),t)}),Xa=oo(function(t,e,n,i){io(e,ou(e),t,i)}),Ga=oo(function(t,e,n,i){io(e,ru(e),t,i)}),Ka=Mo(Ii);var Qa=kr(function(t,e){t=ee(t);var n=-1,i=e.length,r=i>2?e[2]:o;for(r&&Vo(e[0],e[1],r)&&(i=1);++n<i;)for(var s=e[n],a=ou(s),u=-1,l=a.length;++u<l;){var c=a[u],h=t[c];(h===o||da(h,ae[c])&&!ce.call(t,c))&&(t[c]=s[c])}return t}),Ja=kr(function(t){return t.push(o,Eo),$e(au,o,t)});function Za(t,e,n){var i=null==t?o:Ki(t,e);return i===o?n:i}function tu(t,e){return null!=t&&Wo(t,e,er)}var eu=go(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),t[e]=n},Eu(Mu)),nu=go(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),ce.call(t,e)?t[e].push(n):t[e]=[n]},jo),iu=kr(ir);function ru(t){return ba(t)?ki(t):lr(t)}function ou(t){return ba(t)?ki(t,!0):cr(t)}var su=oo(function(t,e,n){gr(t,e,n)}),au=oo(function(t,e,n,i){gr(t,e,n,i)}),uu=Mo(function(t,e){var n={};if(null==t)return n;var i=!1;e=Ze(e,function(e){return e=Yr(e,t),i||(i=e.length>1),e}),io(t,Ao(t),n),i&&(n=Ri(n,f|d|p,Po));for(var r=e.length;r--;)Fr(n,e[r]);return n});var lu=Mo(function(t,e){return null==t?{}:function(t,e){return yr(t,e,function(e,n){return tu(t,n)})}(t,e)});function cu(t,e){if(null==t)return{};var n=Ze(Ao(t),function(t){return[t]});return e=jo(e),yr(t,n,function(t,n){return e(t,n[0])})}var hu=Co(ru),fu=Co(ou);function du(t){return null==t?[]:yn(t,ru(t))}var pu=lo(function(t,e,n){return e=e.toLowerCase(),t+(n?gu(e):e)});function gu(t){return ku($a(t).toLowerCase())}function mu(t){return(t=$a(t))&&t.replace(Gt,xn).replace(be,"")}var vu=lo(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),yu=lo(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),bu=uo("toLowerCase");var _u=lo(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var wu=lo(function(t,e,n){return t+(n?" ":"")+ku(e)});var xu=lo(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),ku=uo("toUpperCase");function Cu(t,e,n){return t=$a(t),(e=n?o:e)===o?function(t){return ke.test(t)}(t)?function(t){return t.match(we)||[]}(t):function(t){return t.match(Bt)||[]}(t):t.match(e)||[]}var Su=kr(function(t,e){try{return $e(t,o,e)}catch(t){return ka(t)?t:new Jt(t)}}),Tu=Mo(function(t,e){return Ve(e,function(e){e=cs(e),Ai(t,e,na(t[e],t))}),t});function Eu(t){return function(){return t}}var Pu=fo(),Du=fo(!0);function Mu(t){return t}function Ou(t){return ur("function"==typeof t?t:Ri(t,f))}var Au=kr(function(t,e){return function(n){return ir(n,t,e)}}),Iu=kr(function(t,e){return function(n){return ir(t,n,e)}});function Nu(t,e,n){var i=ru(e),r=Gi(e,i);null!=n||Ea(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Gi(e,ru(e)));var o=!(Ea(n)&&"chain"in n)||!!n.chain,s=Ca(t);return Ve(r,function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=no(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,tn([this.value()],arguments))})}),t}function Ru(){}var ju=vo(Ze),Lu=vo(Ge),Fu=vo(rn);function zu(t){return Xo(t)?fn(cs(t)):function(t){return function(e){return Ki(e,t)}}(t)}var Bu=bo(),qu=bo(!0);function Hu(){return[]}function Wu(){return!1}var Uu=mo(function(t,e){return t+e},0),$u=xo("ceil"),Yu=mo(function(t,e){return t/e},1),Vu=xo("floor");var Xu,Gu=mo(function(t,e){return t*e},1),Ku=xo("round"),Qu=mo(function(t,e){return t-e},0);return di.after=function(t,e){if("function"!=typeof e)throw new re(u);return t=qa(t),function(){if(--t<1)return e.apply(this,arguments)}},di.ary=ta,di.assign=Ya,di.assignIn=Va,di.assignInWith=Xa,di.assignWith=Ga,di.at=Ka,di.before=ea,di.bind=na,di.bindAll=Tu,di.bindKey=ia,di.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return va(t)?t:[t]},di.chain=zs,di.chunk=function(t,e,n){e=(n?Vo(t,e,n):e===o)?1:$n(qa(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var s=0,a=0,u=i(Fn(r/e));s<r;)u[a++]=Mr(t,s,s+=e);return u},di.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},di.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return tn(va(n)?no(n):[n],Ui(e,1))},di.cond=function(t){var e=null==t?0:t.length,n=jo();return t=e?Ze(t,function(t){if("function"!=typeof t[1])throw new re(u);return[n(t[0]),t[1]]}):[],kr(function(n){for(var i=-1;++i<e;){var r=t[i];if($e(r[0],this,n))return $e(r[1],this,n)}})},di.conforms=function(t){return function(t){var e=ru(t);return function(n){return ji(n,t,e)}}(Ri(t,f))},di.constant=Eu,di.countBy=Hs,di.create=function(t,e){var n=pi(t);return null==e?n:Oi(n,e)},di.curry=function t(e,n,i){var r=So(e,_,o,o,o,o,o,n=i?o:n);return r.placeholder=t.placeholder,r},di.curryRight=function t(e,n,i){var r=So(e,w,o,o,o,o,o,n=i?o:n);return r.placeholder=t.placeholder,r},di.debounce=ra,di.defaults=Qa,di.defaultsDeep=Ja,di.defer=oa,di.delay=sa,di.difference=ds,di.differenceBy=ps,di.differenceWith=gs,di.drop=function(t,e,n){var i=null==t?0:t.length;return i?Mr(t,(e=n||e===o?1:qa(e))<0?0:e,i):[]},di.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Mr(t,0,(e=i-(e=n||e===o?1:qa(e)))<0?0:e):[]},di.dropRightWhile=function(t,e){return t&&t.length?Br(t,jo(e,3),!0,!0):[]},di.dropWhile=function(t,e){return t&&t.length?Br(t,jo(e,3),!0):[]},di.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Vo(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=qa(n))<0&&(n=-n>r?0:r+n),(i=i===o||i>r?r:qa(i))<0&&(i+=r),i=n>i?0:Ha(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},di.filter=function(t,e){return(va(t)?Ke:Wi)(t,jo(e,3))},di.flatMap=function(t,e){return Ui(Ks(t,e),1)},di.flatMapDeep=function(t,e){return Ui(Ks(t,e),I)},di.flatMapDepth=function(t,e,n){return n=n===o?1:qa(n),Ui(Ks(t,e),n)},di.flatten=ys,di.flattenDeep=function(t){return null!=t&&t.length?Ui(t,I):[]},di.flattenDepth=function(t,e){return null!=t&&t.length?Ui(t,e=e===o?1:qa(e)):[]},di.flip=function(t){return So(t,T)},di.flow=Pu,di.flowRight=Du,di.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},di.functions=function(t){return null==t?[]:Gi(t,ru(t))},di.functionsIn=function(t){return null==t?[]:Gi(t,ou(t))},di.groupBy=Vs,di.initial=function(t){return null!=t&&t.length?Mr(t,0,-1):[]},di.intersection=_s,di.intersectionBy=ws,di.intersectionWith=xs,di.invert=eu,di.invertBy=nu,di.invokeMap=Xs,di.iteratee=Ou,di.keyBy=Gs,di.keys=ru,di.keysIn=ou,di.map=Ks,di.mapKeys=function(t,e){var n={};return e=jo(e,3),Vi(t,function(t,i,r){Ai(n,e(t,i,r),t)}),n},di.mapValues=function(t,e){var n={};return e=jo(e,3),Vi(t,function(t,i,r){Ai(n,i,e(t,i,r))}),n},di.matches=function(t){return dr(Ri(t,f))},di.matchesProperty=function(t,e){return pr(t,Ri(e,f))},di.memoize=aa,di.merge=su,di.mergeWith=au,di.method=Au,di.methodOf=Iu,di.mixin=Nu,di.negate=ua,di.nthArg=function(t){return t=qa(t),kr(function(e){return mr(e,t)})},di.omit=uu,di.omitBy=function(t,e){return cu(t,ua(jo(e)))},di.once=function(t){return ea(2,t)},di.orderBy=function(t,e,n,i){return null==t?[]:(va(e)||(e=null==e?[]:[e]),va(n=i?o:n)||(n=null==n?[]:[n]),vr(t,e,n))},di.over=ju,di.overArgs=la,di.overEvery=Lu,di.overSome=Fu,di.partial=ca,di.partialRight=ha,di.partition=Qs,di.pick=lu,di.pickBy=cu,di.property=zu,di.propertyOf=function(t){return function(e){return null==t?o:Ki(t,e)}},di.pull=Cs,di.pullAll=Ss,di.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?br(t,e,jo(n,2)):t},di.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?br(t,e,o,n):t},di.pullAt=Ts,di.range=Bu,di.rangeRight=qu,di.rearg=fa,di.reject=function(t,e){return(va(t)?Ke:Wi)(t,ua(jo(e,3)))},di.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=jo(e,3);++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return _r(t,r),n},di.rest=function(t,e){if("function"!=typeof t)throw new re(u);return kr(t,e=e===o?e:qa(e))},di.reverse=Es,di.sampleSize=function(t,e,n){return e=(n?Vo(t,e,n):e===o)?1:qa(e),(va(t)?Si:Sr)(t,e)},di.set=function(t,e,n){return null==t?t:Tr(t,e,n)},di.setWith=function(t,e,n,i){return i="function"==typeof i?i:o,null==t?t:Tr(t,e,n,i)},di.shuffle=function(t){return(va(t)?Ti:Dr)(t)},di.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Vo(t,e,n)?(e=0,n=i):(e=null==e?0:qa(e),n=n===o?i:qa(n)),Mr(t,e,n)):[]},di.sortBy=Js,di.sortedUniq=function(t){return t&&t.length?Nr(t):[]},di.sortedUniqBy=function(t,e){return t&&t.length?Nr(t,jo(e,2)):[]},di.split=function(t,e,n){return n&&"number"!=typeof n&&Vo(t,e,n)&&(e=n=o),(n=n===o?L:n>>>0)?(t=$a(t))&&("string"==typeof e||null!=e&&!Aa(e))&&!(e=jr(e))&&Sn(t)?Xr(An(t),0,n):t.split(e,n):[]},di.spread=function(t,e){if("function"!=typeof t)throw new re(u);return e=null==e?0:$n(qa(e),0),kr(function(n){var i=n[e],r=Xr(n,0,e);return i&&tn(r,i),$e(t,this,r)})},di.tail=function(t){var e=null==t?0:t.length;return e?Mr(t,1,e):[]},di.take=function(t,e,n){return t&&t.length?Mr(t,0,(e=n||e===o?1:qa(e))<0?0:e):[]},di.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Mr(t,(e=i-(e=n||e===o?1:qa(e)))<0?0:e,i):[]},di.takeRightWhile=function(t,e){return t&&t.length?Br(t,jo(e,3),!1,!0):[]},di.takeWhile=function(t,e){return t&&t.length?Br(t,jo(e,3)):[]},di.tap=function(t,e){return e(t),t},di.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new re(u);return Ea(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ra(t,e,{leading:i,maxWait:e,trailing:r})},di.thru=Bs,di.toArray=za,di.toPairs=hu,di.toPairsIn=fu,di.toPath=function(t){return va(t)?Ze(t,cs):Ra(t)?[t]:no(ls($a(t)))},di.toPlainObject=Ua,di.transform=function(t,e,n){var i=va(t),r=i||wa(t)||ja(t);if(e=jo(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Ea(t)&&Ca(o)?pi(Oe(t)):{}}return(r?Ve:Vi)(t,function(t,i,r){return e(n,t,i,r)}),n},di.unary=function(t){return ta(t,1)},di.union=Ps,di.unionBy=Ds,di.unionWith=Ms,di.uniq=function(t){return t&&t.length?Lr(t):[]},di.uniqBy=function(t,e){return t&&t.length?Lr(t,jo(e,2)):[]},di.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?Lr(t,o,e):[]},di.unset=function(t,e){return null==t||Fr(t,e)},di.unzip=Os,di.unzipWith=As,di.update=function(t,e,n){return null==t?t:zr(t,e,$r(n))},di.updateWith=function(t,e,n,i){return i="function"==typeof i?i:o,null==t?t:zr(t,e,$r(n),i)},di.values=du,di.valuesIn=function(t){return null==t?[]:yn(t,ou(t))},di.without=Is,di.words=Cu,di.wrap=function(t,e){return ca($r(e),t)},di.xor=Ns,di.xorBy=Rs,di.xorWith=js,di.zip=Ls,di.zipObject=function(t,e){return Wr(t||[],e||[],Pi)},di.zipObjectDeep=function(t,e){return Wr(t||[],e||[],Tr)},di.zipWith=Fs,di.entries=hu,di.entriesIn=fu,di.extend=Va,di.extendWith=Xa,Nu(di,di),di.add=Uu,di.attempt=Su,di.camelCase=pu,di.capitalize=gu,di.ceil=$u,di.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Wa(n))===n?n:0),e!==o&&(e=(e=Wa(e))===e?e:0),Ni(Wa(t),e,n)},di.clone=function(t){return Ri(t,p)},di.cloneDeep=function(t){return Ri(t,f|p)},di.cloneDeepWith=function(t,e){return Ri(t,f|p,e="function"==typeof e?e:o)},di.cloneWith=function(t,e){return Ri(t,p,e="function"==typeof e?e:o)},di.conformsTo=function(t,e){return null==e||ji(t,e,ru(e))},di.deburr=mu,di.defaultTo=function(t,e){return null==t||t!==t?e:t},di.divide=Yu,di.endsWith=function(t,e,n){t=$a(t),e=jr(e);var i=t.length,r=n=n===o?i:Ni(qa(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},di.eq=da,di.escape=function(t){return(t=$a(t))&&St.test(t)?t.replace(kt,kn):t},di.escapeRegExp=function(t){return(t=$a(t))&&It.test(t)?t.replace(At,"\\$&"):t},di.every=function(t,e,n){var i=va(t)?Ge:qi;return n&&Vo(t,e,n)&&(e=o),i(t,jo(e,3))},di.find=Ws,di.findIndex=ms,di.findKey=function(t,e){return sn(t,jo(e,3),Vi)},di.findLast=Us,di.findLastIndex=vs,di.findLastKey=function(t,e){return sn(t,jo(e,3),Xi)},di.floor=Vu,di.forEach=$s,di.forEachRight=Ys,di.forIn=function(t,e){return null==t?t:$i(t,jo(e,3),ou)},di.forInRight=function(t,e){return null==t?t:Yi(t,jo(e,3),ou)},di.forOwn=function(t,e){return t&&Vi(t,jo(e,3))},di.forOwnRight=function(t,e){return t&&Xi(t,jo(e,3))},di.get=Za,di.gt=pa,di.gte=ga,di.has=function(t,e){return null!=t&&Wo(t,e,tr)},di.hasIn=tu,di.head=bs,di.identity=Mu,di.includes=function(t,e,n,i){t=ba(t)?t:du(t),n=n&&!i?qa(n):0;var r=t.length;return n<0&&(n=$n(r+n,0)),Na(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&un(t,e,n)>-1},di.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:qa(n);return r<0&&(r=$n(i+r,0)),un(t,e,r)},di.inRange=function(t,e,n){return e=Ba(e),n===o?(n=e,e=0):n=Ba(n),function(t,e,n){return t>=Yn(e,n)&&t<$n(e,n)}(t=Wa(t),e,n)},di.invoke=iu,di.isArguments=ma,di.isArray=va,di.isArrayBuffer=ya,di.isArrayLike=ba,di.isArrayLikeObject=_a,di.isBoolean=function(t){return!0===t||!1===t||Pa(t)&&Ji(t)==U},di.isBuffer=wa,di.isDate=xa,di.isElement=function(t){return Pa(t)&&1===t.nodeType&&!Oa(t)},di.isEmpty=function(t){if(null==t)return!0;if(ba(t)&&(va(t)||"string"==typeof t||"function"==typeof t.splice||wa(t)||ja(t)||ma(t)))return!t.length;var e=Ho(t);if(e==K||e==nt)return!t.size;if(Qo(t))return!lr(t).length;for(var n in t)if(ce.call(t,n))return!1;return!0},di.isEqual=function(t,e){return or(t,e)},di.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:o)?n(t,e):o;return i===o?or(t,e,o,n):!!i},di.isError=ka,di.isFinite=function(t){return"number"==typeof t&&Hn(t)},di.isFunction=Ca,di.isInteger=Sa,di.isLength=Ta,di.isMap=Da,di.isMatch=function(t,e){return t===e||sr(t,e,Fo(e))},di.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,sr(t,e,Fo(e),n)},di.isNaN=function(t){return Ma(t)&&t!=+t},di.isNative=function(t){if(Ko(t))throw new Jt(a);return ar(t)},di.isNil=function(t){return null==t},di.isNull=function(t){return null===t},di.isNumber=Ma,di.isObject=Ea,di.isObjectLike=Pa,di.isPlainObject=Oa,di.isRegExp=Aa,di.isSafeInteger=function(t){return Sa(t)&&t>=-N&&t<=N},di.isSet=Ia,di.isString=Na,di.isSymbol=Ra,di.isTypedArray=ja,di.isUndefined=function(t){return t===o},di.isWeakMap=function(t){return Pa(t)&&Ho(t)==st},di.isWeakSet=function(t){return Pa(t)&&Ji(t)==at},di.join=function(t,e){return null==t?"":Wn.call(t,e)},di.kebabCase=vu,di.last=ks,di.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==o&&(r=(r=qa(n))<0?$n(i+r,0):Yn(r,i-1)),e===e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):an(t,cn,r,!0)},di.lowerCase=yu,di.lowerFirst=bu,di.lt=La,di.lte=Fa,di.max=function(t){return t&&t.length?Hi(t,Mu,Zi):o},di.maxBy=function(t,e){return t&&t.length?Hi(t,jo(e,2),Zi):o},di.mean=function(t){return hn(t,Mu)},di.meanBy=function(t,e){return hn(t,jo(e,2))},di.min=function(t){return t&&t.length?Hi(t,Mu,hr):o},di.minBy=function(t,e){return t&&t.length?Hi(t,jo(e,2),hr):o},di.stubArray=Hu,di.stubFalse=Wu,di.stubObject=function(){return{}},di.stubString=function(){return""},di.stubTrue=function(){return!0},di.multiply=Gu,di.nth=function(t,e){return t&&t.length?mr(t,qa(e)):o},di.noConflict=function(){return Ie._===this&&(Ie._=ge),this},di.noop=Ru,di.now=Zs,di.pad=function(t,e,n){t=$a(t);var i=(e=qa(e))?On(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return yo(zn(r),n)+t+yo(Fn(r),n)},di.padEnd=function(t,e,n){t=$a(t);var i=(e=qa(e))?On(t):0;return e&&i<e?t+yo(e-i,n):t},di.padStart=function(t,e,n){t=$a(t);var i=(e=qa(e))?On(t):0;return e&&i<e?yo(e-i,n)+t:t},di.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Xn($a(t).replace(Rt,""),e||0)},di.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Vo(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Ba(t),e===o?(e=t,t=0):e=Ba(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Gn();return Yn(t+r*(e-t+De("1e-"+((r+"").length-1))),e)}return wr(t,e)},di.reduce=function(t,e,n){var i=va(t)?en:pn,r=arguments.length<3;return i(t,jo(e,4),n,r,zi)},di.reduceRight=function(t,e,n){var i=va(t)?nn:pn,r=arguments.length<3;return i(t,jo(e,4),n,r,Bi)},di.repeat=function(t,e,n){return e=(n?Vo(t,e,n):e===o)?1:qa(e),xr($a(t),e)},di.replace=function(){var t=arguments,e=$a(t[0]);return t.length<3?e:e.replace(t[1],t[2])},di.result=function(t,e,n){var i=-1,r=(e=Yr(e,t)).length;for(r||(r=1,t=o);++i<r;){var s=null==t?o:t[cs(e[i])];s===o&&(i=r,s=n),t=Ca(s)?s.call(t):s}return t},di.round=Ku,di.runInContext=t,di.sample=function(t){return(va(t)?Ci:Cr)(t)},di.size=function(t){if(null==t)return 0;if(ba(t))return Na(t)?On(t):t.length;var e=Ho(t);return e==K||e==nt?t.size:lr(t).length},di.snakeCase=_u,di.some=function(t,e,n){var i=va(t)?rn:Or;return n&&Vo(t,e,n)&&(e=o),i(t,jo(e,3))},di.sortedIndex=function(t,e){return Ar(t,e)},di.sortedIndexBy=function(t,e,n){return Ir(t,e,jo(n,2))},di.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Ar(t,e);if(i<n&&da(t[i],e))return i}return-1},di.sortedLastIndex=function(t,e){return Ar(t,e,!0)},di.sortedLastIndexBy=function(t,e,n){return Ir(t,e,jo(n,2),!0)},di.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Ar(t,e,!0)-1;if(da(t[n],e))return n}return-1},di.startCase=wu,di.startsWith=function(t,e,n){return t=$a(t),n=null==n?0:Ni(qa(n),0,t.length),e=jr(e),t.slice(n,n+e.length)==e},di.subtract=Qu,di.sum=function(t){return t&&t.length?gn(t,Mu):0},di.sumBy=function(t,e){return t&&t.length?gn(t,jo(e,2)):0},di.template=function(t,e,n){var i=di.templateSettings;n&&Vo(t,e,n)&&(e=o),t=$a(t),e=Xa({},e,i,To);var r,s,a=Xa({},e.imports,i.imports,To),u=ru(a),l=yn(a,u),c=0,h=e.interpolate||Kt,f="__p += '",d=ne((e.escape||Kt).source+"|"+h.source+"|"+(h===Pt?Ht:Kt).source+"|"+(e.evaluate||Kt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Se+"]")+"\n";t.replace(d,function(e,n,i,o,a,u){return i||(i=o),f+=t.slice(c,u).replace(Qt,Cn),n&&(r=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var g=e.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(bt,""):f).replace(_t,"$1").replace(wt,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Su(function(){return Zt(u,p+"return "+f).apply(o,l)});if(m.source=f,ka(m))throw m;return m},di.times=function(t,e){if((t=qa(t))<1||t>N)return[];var n=L,i=Yn(t,L);e=jo(e),t-=L;for(var r=mn(i,e);++n<t;)e(n);return r},di.toFinite=Ba,di.toInteger=qa,di.toLength=Ha,di.toLower=function(t){return $a(t).toLowerCase()},di.toNumber=Wa,di.toSafeInteger=function(t){return t?Ni(qa(t),-N,N):0===t?t:0},di.toString=$a,di.toUpper=function(t){return $a(t).toUpperCase()},di.trim=function(t,e,n){if((t=$a(t))&&(n||e===o))return t.replace(Nt,"");if(!t||!(e=jr(e)))return t;var i=An(t),r=An(e);return Xr(i,_n(i,r),wn(i,r)+1).join("")},di.trimEnd=function(t,e,n){if((t=$a(t))&&(n||e===o))return t.replace(jt,"");if(!t||!(e=jr(e)))return t;var i=An(t);return Xr(i,0,wn(i,An(e))+1).join("")},di.trimStart=function(t,e,n){if((t=$a(t))&&(n||e===o))return t.replace(Rt,"");if(!t||!(e=jr(e)))return t;var i=An(t);return Xr(i,_n(i,An(e))).join("")},di.truncate=function(t,e){var n=E,i=P;if(Ea(e)){var r="separator"in e?e.separator:r;n="length"in e?qa(e.length):n,i="omission"in e?jr(e.omission):i}var s=(t=$a(t)).length;if(Sn(t)){var a=An(t);s=a.length}if(n>=s)return t;var u=n-On(i);if(u<1)return i;var l=a?Xr(a,0,u).join(""):t.slice(0,u);if(r===o)return l+i;if(a&&(u+=l.length-u),Aa(r)){if(t.slice(u).search(r)){var c,h=l;for(r.global||(r=ne(r.source,$a(Wt.exec(r))+"g")),r.lastIndex=0;c=r.exec(h);)var f=c.index;l=l.slice(0,f===o?u:f)}}else if(t.indexOf(jr(r),u)!=u){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i},di.unescape=function(t){return(t=$a(t))&&Ct.test(t)?t.replace(xt,In):t},di.uniqueId=function(t){var e=++he;return $a(t)+e},di.upperCase=xu,di.upperFirst=ku,di.each=$s,di.eachRight=Ys,di.first=bs,Nu(di,(Xu={},Vi(di,function(t,e){ce.call(di.prototype,e)||(Xu[e]=t)}),Xu),{chain:!1}),di.VERSION="4.17.11",Ve(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){di[t].placeholder=di}),Ve(["drop","take"],function(t,e){vi.prototype[t]=function(n){n=n===o?1:$n(qa(n),0);var i=this.__filtered__&&!e?new vi(this):this.clone();return i.__filtered__?i.__takeCount__=Yn(n,i.__takeCount__):i.__views__.push({size:Yn(n,L),type:t+(i.__dir__<0?"Right":"")}),i},vi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Ve(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==O||3==n;vi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:jo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),Ve(["head","last"],function(t,e){var n="take"+(e?"Right":"");vi.prototype[t]=function(){return this[n](1).value()[0]}}),Ve(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");vi.prototype[t]=function(){return this.__filtered__?new vi(this):this[n](1)}}),vi.prototype.compact=function(){return this.filter(Mu)},vi.prototype.find=function(t){return this.filter(t).head()},vi.prototype.findLast=function(t){return this.reverse().find(t)},vi.prototype.invokeMap=kr(function(t,e){return"function"==typeof t?new vi(this):this.map(function(n){return ir(n,t,e)})}),vi.prototype.reject=function(t){return this.filter(ua(jo(t)))},vi.prototype.slice=function(t,e){t=qa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new vi(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=qa(e))<0?n.dropRight(-e):n.take(e-t)),n)},vi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},vi.prototype.toArray=function(){return this.take(L)},Vi(vi.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=di[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);r&&(di.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,u=e instanceof vi,l=a[0],c=u||va(e),h=function(t){var e=r.apply(di,tn([t],a));return i&&f?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,g=u&&!d;if(!s&&c){e=g?e:new vi(this);var m=t.apply(e,a);return m.__actions__.push({func:Bs,args:[h],thisArg:o}),new mi(m,f)}return p&&g?t.apply(this,a):(m=this.thru(h),p?i?m.value()[0]:m.value():m)})}),Ve(["pop","push","shift","sort","splice","unshift"],function(t){var e=oe[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);di.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(va(r)?r:[],t)}return this[n](function(n){return e.apply(va(n)?n:[],t)})}}),Vi(vi.prototype,function(t,e){var n=di[e];if(n){var i=n.name+"";(ri[i]||(ri[i]=[])).push({name:e,func:n})}}),ri[po(o,y).name]=[{name:"wrapper",func:o}],vi.prototype.clone=function(){var t=new vi(this.__wrapped__);return t.__actions__=no(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=no(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=no(this.__views__),t},vi.prototype.reverse=function(){if(this.__filtered__){var t=new vi(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},vi.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=va(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Yn(e,t+s);break;case"takeRight":t=$n(t,e-s)}}return{start:t,end:e}}(0,r,this.__views__),s=o.start,a=o.end,u=a-s,l=i?a:s-1,c=this.__iteratees__,h=c.length,f=0,d=Yn(u,this.__takeCount__);if(!n||!i&&r==u&&d==u)return qr(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var g=-1,m=t[l+=e];++g<h;){var v=c[g],y=v.iteratee,b=v.type,_=y(m);if(b==A)m=_;else if(!_){if(b==O)continue t;break t}}p[f++]=m}return p},di.prototype.at=qs,di.prototype.chain=function(){return zs(this)},di.prototype.commit=function(){return new mi(this.value(),this.__chain__)},di.prototype.next=function(){this.__values__===o&&(this.__values__=za(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},di.prototype.plant=function(t){for(var e,n=this;n instanceof gi;){var i=fs(n);i.__index__=0,i.__values__=o,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},di.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof vi){var e=t;return this.__actions__.length&&(e=new vi(this)),(e=e.reverse()).__actions__.push({func:Bs,args:[Es],thisArg:o}),new mi(e,this.__chain__)}return this.thru(Es)},di.prototype.toJSON=di.prototype.valueOf=di.prototype.value=function(){return qr(this.__wrapped__,this.__actions__)},di.prototype.first=di.prototype.head,Fe&&(di.prototype[Fe]=function(){return this}),di}();Ie._=Nn,(r=function(){return Nn}.call(e,n,e,i))===o||(i.exports=r)}).call(this)}).call(e,n(6),n(86)(t))},function(t,e,n){"use strict";var i=n(0),r=n(5).Graph;function o(t,e,n,r){var o;do{o=i.uniqueId(r)}while(t.hasNode(o));return n.dummy=e,t.setNode(o,n),o}function s(t){return i.max(i.map(t.nodes(),function(e){var n=t.node(e).rank;if(!i.isUndefined(n))return n}))}t.exports={addDummyNode:o,simplify:function(t){var e=(new r).setGraph(t.graph());return i.forEach(t.nodes(),function(n){e.setNode(n,t.node(n))}),i.forEach(t.edges(),function(n){var i=e.edge(n.v,n.w)||{weight:0,minlen:1},r=t.edge(n);e.setEdge(n.v,n.w,{weight:i.weight+r.weight,minlen:Math.max(i.minlen,r.minlen)})}),e},asNonCompoundGraph:function(t){var e=new r({multigraph:t.isMultigraph()}).setGraph(t.graph());return i.forEach(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),i.forEach(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e},successorWeights:function(t){var e=i.map(t.nodes(),function(e){var n={};return i.forEach(t.outEdges(e),function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight}),n});return i.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=i.map(t.nodes(),function(e){var n={};return i.forEach(t.inEdges(e),function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight}),n});return i.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,i,r=t.x,o=t.y,s=e.x-r,a=e.y-o,u=t.width/2,l=t.height/2;if(!s&&!a)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(a)*u>Math.abs(s)*l?(a<0&&(l=-l),n=l*s/a,i=l):(s<0&&(u=-u),n=u,i=u*a/s);return{x:r+n,y:o+i}},buildLayerMatrix:function(t){var e=i.map(i.range(s(t)+1),function(){return[]});return i.forEach(t.nodes(),function(n){var r=t.node(n),o=r.rank;i.isUndefined(o)||(e[o][r.order]=n)}),e},normalizeRanks:function(t){var e=i.minBy(i.map(t.nodes(),function(e){return t.node(e).rank}));i.forEach(t.nodes(),function(n){var r=t.node(n);i.has(r,"rank")&&(r.rank-=e)})},removeEmptyRanks:function(t){var e=i.minBy(i.map(t.nodes(),function(e){return t.node(e).rank})),n=[];i.forEach(t.nodes(),function(i){var r=t.node(i).rank-e;n[r]||(n[r]=[]),n[r].push(i)});var r=0,o=t.graph().nodeRankFactor;i.forEach(n,function(e,n){i.isUndefined(e)&&n%o!==0?--r:r&&i.forEach(e,function(e){t.node(e).rank+=r})})},addBorderNode:function(t,e,n,i){var r={width:0,height:0};arguments.length>=4&&(r.rank=n,r.order=i);return o(t,"border",r,e)},maxRank:s,partition:function(t,e){var n={lhs:[],rhs:[]};return i.forEach(t,function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n},time:function(t,e){var n=i.now();try{return e()}finally{console.log(t+" time: "+(i.now()-n)+"ms")}},notime:function(t,e){return e()}}},function(t,e,n){var i;try{i=n(2)}catch(t){}i||(i=window._),t.exports=i},function(t,e,n){var i;try{i=n(90)}catch(t){}i||(i=window.graphlib),t.exports=i},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"===typeof t}function r(t){return"object"===typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,s,a,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(o(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(r(n))for(a=Array.prototype.slice.call(arguments,1),s=(l=n.slice()).length,u=0;u<s;u++)l[u].apply(this,a);return!0},n.prototype.addListener=function(t,e){var s;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"===typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},n.prototype.removeListener=function(t,e){var n,o,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(n=this._events[t]).length,o=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){function i(t,e){i.super.call(this,e),this.code=t}n(139)(i),t.exports=i},function(t,e){e.doNothing=function(){},e.hasKeys=function(t){for(var e in t)return!0;return!1},e.isInteger=Number.isInteger||function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t},e.isValidVersion=function(t){return null===t||e.isInteger(t)&&t>=0}},function(t,e,n){e.defaultType=n(49).type,e.map={},e.register=function(t){t.name&&(e.map[t.name]=t),t.uri&&(e.map[t.uri]=t)},e.register(e.defaultType)},function(t,e,n){var i=n(7).EventEmitter;e.EventEmitter=i,e.mixin=function(t){for(var e in i.prototype)t.prototype[e]=i.prototype[e]}},function(t,e){"function"===typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";var i=n(18),r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var o=n(16);o.inherits=n(12);var s=n(59),a=n(31);o.inherits(h,s);for(var u=r(a.prototype),l=0;l<u.length;l++){var c=u[l];h.prototype[c]||(h.prototype[c]=a.prototype[c])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},function(t,e){var n=function(t){"use strict";var e,n,i=Array.prototype,r=Object.prototype,o=(Function.prototype,String.prototype),s=i.slice,a=r.toString,u=i.concat,l=i.push,c=i.some,h=i.indexOf,f=(i.lastIndexOf,i.every),d=i.forEach,p=Object.keys,g=i.filter,m=i.reduce,v=i.map,y=o.trim,b=function(t,e){return function(){return t.apply(e,arguments)}},_=function(t){var e=H(arguments,1);return function(){return t.apply(this,e)}},w=function(t){return y?y.call(t):String(t).replace(/^\s+|\s+$/g,"")},x=t.document,k=function(e,n){return t.setTimeout(e,n)},C=function(e,n){return t.clearTimeout(e,n)},S={"+":function(t){return+t},"-":function(t){return-t},"~":function(t){return~t},"!":function(t){return!t}},T={"===":function(t,e){return t===e},"!==":function(t,e){return t!==e},"==":function(t,e){return t==e},"!=":function(t,e){return t!=e},">":function(t,e){return t>e},">=":function(t,e){return t>=e},"<":function(t,e){return t<e},"<=":function(t,e){return t<=e},"+":function(t,e){return t+e},"-":function(t,e){return t-e},"*":function(t,e){return t*e},"/":function(t,e){return t/e},"%":function(t,e){return t%e},"^":function(t,e){return t^e},"&&":function(t,e){return t&&e},"||":function(t,e){return t||e},"&":function(t,e){return t&e},"|":function(t,e){return t|e},"<<":function(t,e){return t<<e},">>":function(t,e){return t>>e},">>>":function(t,e){return t>>>e}};!x||"textContent"in x.createElement("div")?(e=function(t){return t.textContent},n=function(t,e){t.textContent=e}):(e=function(t){return t&&3===t.nodeType?t.nodeValue:t.innerText},n=function(t,e){t&&3===t.nodeType?t.nodeValue=e:t.innerText=e});var E,P,D,M,O,A,I,N=function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent("on"+e,n)},R=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n):t.detachEvent("on"+e,n)},j={},L=(E=0,function(){return E++}),F=function(t){return K(t)?V(t)?t.slice():at({},t):t},z=p||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e,n=[],i=0;for(e in t)nt.call(t,e)&&(n[i++]=e);return n},B=function(t,e){return t?void 0===e?t[t.length-1]:s.call(t,Math.max(t.length-e,0)):void 0},q=function(t,e,n){var i=!1;return t?c&&t.some===c?t.some(e,n):(rt(t,function(t,r,o){if(i||(i=e.call(n,t,r,o)))return j}),!!i):i},H=function(t,e){return s.call(t,void 0===e?1:e)},W=function(t,e,n){e=e||tt;var i=!0;return t?f&&t.every===f?t.every(e,n):(rt(t,function(t,r,o){if(!(i=i&&e.call(n,t,r,o)))return j}),!!i):i},U=function(t,e,n){return e&&W(t,V)?u.apply(n,t):(rt(t,function(t){V(t)||Z(t)?e?l.apply(n,t):U(t,e,n):n.push(t)}),n)},$=function(t,e){return U(t,e,[])},Y=function(t){return"[object Number]"===a.call(t)},V=Array.isArray||function(t){return"[object Array]"===a.call(t)},X=function(t){return"[object Function]"===a.call(t)},G=function(t){return"[object String]"===a.call(t)},K=function(t){return t===Object(t)},Q=function(t){return!(!t||1!==t.nodeType)},J=function(t){return!!(t&&t.nodeType>0)},Z=function(t){return"[object Arguments]"===a.call(t)},tt=function(t){return t},et=function(t){return t?V(t)?s.call(t):Z(t)?s.call(t):t.toArray&&X(t.toArray)?t.toArray():ot(t,tt):[]},nt=r.hasOwnProperty,it=function(t,e){return nt.call(t,e)},rt=function(t,e,n){var i,r;if(t){if(d&&t.forEach===d)t.forEach(e,n);else if(t.length===+t.length){for(i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t)===j)return}else{var o=z(t);for(i=0,r=o.length;i<r;i++)if(e.call(n,t[o[i]],o[i],t)===j)return}return t}},ot=function(t,e,n){var i=[];return t?v&&t.map===v?t.map(e,n):(rt(t,function(t,r,o){i[i.length]=e.call(n,t,r,o)}),t.length===+t.length&&(i.length=t.length),i):i},st=function(t,e,n){var i=[];return t?g&&t.filter===g?t.filter(e,n):(rt(t,function(t,r,o){e.call(n,t,r,o)&&i.push(t)}),i):i},at=function(t){return rt(s.call(arguments,1),function(e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}),t},ut=function(t,e,n){var i,r=t.length;for(i=n||0;i<r;i++)if(e(t[i],i))return i;return-1},lt=function(t,e){return t===e},ct=function(t,e,n,i){return i||n||!h||t.indexOf!==h?(i=i||lt,ut(t,function(t){return i(e,t)},n)):t.indexOf(e)},ht=function(t,e){return ft(t,ct(t,e))},ft=function(t,e){return e>=0?t.splice(e,1)[0]:e},dt=function(t,e,n){var i=arguments.length>2;return t||(t=[]),m&&t.reduce===m?i?t.reduce(e,n):t.reduce(e):(rt(t,function(t,i,r){n=e(n,t,i,r)}),n)},pt=function(t,e,n,i,r,o,s){var a=e[t],u=i[a]+1;return(u=function(t,e,n,i){for(var r=n,o=t.length;r<o;){if(i(t[r],e))return r;r++}return-1}(n,a,u>r?u:r,s||lt))<0&&(u=o),i[a]=u,u},gt=function(t,e,n){var i,r,o,s=F(e),a=t.length,u=e.length,l=[],c=0;if(0===u||0===a)return t;for(i=0;i<a;i+=1)if(o=t[i],(r=ct(s,o,0,n))>=0){if(ft(s,r),0===--u){l.push.apply(l,H(t,i+1));break}}else l[c]=o,c++;return l},mt=function(t){var e=t[1].item;return{item:e,from:t[0].index,to:t[1].index,from_item:t[0].item,to_item:e}},vt=function(t){for(var e=0,n=t.length,i=[];e<n;)i[e]={item:t[e],index:e},e++;return i},yt=function(t){return{item:t.item,from:t.indicies[0],to:t.indicies[1]}},bt=function(t){return t.index},_t=function(t){return t.to},wt=function(t){return{from:t.index,from_item:t.item}},xt=function(t,e,n){var i=n||lt,r=function(t,e){return i(t?t.item:t,e?e.item:e)},o=vt(t),s=vt(e),a=ot(function(t,e,n){var i,r,o,s={},a=0,u=0,l=0,c=t.length,h=e.length,f=new Array(c<h?h:c);if(0===h||0===c)return[];for(i=pt(0,t,e,s,a,h,n),o=0;o<c;o++)(u=a===u?i:pt(o,t,e,s,a,h,n))>(i=pt(o+1,t,e,s,a,h,n))?(o++,r=i):r=u,r===h||o===c?u=pt(o,t,e,s,a,h,n):(a=r,f[l]={item:t[o],indicies:[o,r]},l++);return f.slice(0,l)}(t,e),yt),u=gt(o,a,r),l=gt(s,a,r),c=ot(function(t,e,n){var i,r,o,s=F(e),a=t.length,u=e.length,l=[];for(i=0;i<a&&u>0;i++)o=t[i],(r=ct(s,o,0,n))>=0&&(l.push([o,ft(s,r)]),u--);return l}(u,l,r),mt);l=gt(l,c,r),u=gt(u,c,r);for(var h,f,d,p=ot(l,bt),g=ot(c,_t),m=ot(a,_t),v=[],y=0,b=e.length;y<b;)d=e[y],(f=ct(p,y))>=0?(h=l[f],v[y]={to:y,to_item:d,item:d}):(f=ct(g,y))>=0?(h=c[f],v[y]={to:y,to_item:d,item:d,from:h.from,from_item:h.from_item}):(f=ct(m,y))>=0&&(h=a[f],v[y]={to:y,to_item:d,item:d,from:h.from,from_item:t[h.from]}),y++;return v.concat(ot(u,wt))},kt=function(t){return t.hasOwnProperty("from")},Ct=function(t){return!kt(t)},St=function(t){return t.hasOwnProperty("to")},Tt=function(t){return!St(t)},Et=function(t){return kt(t)&&St(t)},Pt=function(t){return Et(t)&&t.from!==t.to},Dt=function(t,e){var n=kt(t),i=kt(e);return n&&i?t.from-e.from:i-n},Mt=function(t,e,n){var i=xt(t,e,n),r=F(i).sort(Dt),o=st(i,Ct),s=st(r,Tt).reverse(),a=st(i,Pt),u=[];return rt(s,function(t){ft(r,t.from)}),rt(o,function(t){r.splice(t.to,0,t)}),rt(i,function(t,e){if(Et(t)&&r[e]!==t){var n=ct(r,t,e);r.splice(e,0,ft(r,n)),u.push({move_from:n,insert_at:e,item:t.item,from:t.from,to:t.to})}}),r=null,{added:o,removed:s,moved:u,index_changed:a,mapping:i}},Ot=/-([a-z]|[0-9])/gi,At=/^-ms-/,It=function(t,e){return String(e).toUpperCase()},Nt=t.cjs,Rt=function(t,e){return V(t)?new D(at({value:t},e)):gn(t)?Rt.inputValue(t):O(t)?new P(t,e):K(t)&&!X(t)?new M(at({value:t},e)):new P(t,e)},jt={stack:[],check_on_nullified_ids:{},getValue:function(t,e){var n,i,r,o,s=jt.stack,a=s.length;if(a>0&&(n=s[a-1],i=this._outEdges[n._id],r=n._tstamp+1,i?i.tstamp=r:this!==n&&!1!==this._options.auto_add_outgoing_dependencies&&!1!==n._options.auto_add_incoming_dependencies&&!1!==t&&(this._outEdges[n._id]=n._inEdges[this._id]={from:this,to:n,tstamp:r})),this._paused_info)return this._paused_info.temporaryValue;if(!this._valid){if(this._tstamp++,s[a]=this,this._valid=!0,!1!==this._options.cache_value){if(this._cached_value=this._options.literal?this._value:X(this._value)?this._value.call(this._options.context||this,this,e):(o=this._value,O(o)?o.get():o),this._sync_value)this._cached_value=this._sync_value.value,delete this._sync_value;else if(jt._paused_node&&jt._paused_node.node===this)return this._paused_info=jt._paused_node,delete jt._paused_node,s.length=a,this._paused_info.temporaryValue}else X(this._value)&&this._value.call(this._options.context);s.length=a}return this._cached_value},pauseNodeGetter:function(t){jt._paused_node={temporaryValue:t,node:this}},resumeNodeGetter:function(t){var e;jt._paused_node&&jt._paused_node.node===this?(delete jt._paused_node,this._sync_value={value:t}):(e=jt.stack,delete this._paused_info,this._tstamp++,this._valid=!0,jt.stack=[this],!1!==this._options.cache_value?this._cached_value=this._options.literal?t:X(t)?t.call(this._options.context||this,this):Rt.get(t):X(this._value)&&t.call(this._options.context),jt.nullify.apply(jt,ot(this._outEdges,function(t){return t.to})),jt.stack=e)},add_in_call_stack:function(t){var e=t.priority;if(t.in_call_stack++,t.node._num_listeners_in_call_stack++,Y(e))for(var n,i,r=0,o=this.nullified_call_stack.length;r<o;){if((n=this.nullified_call_stack[r])&&(!1===(i=n.priority)||i<e))return void this.nullified_call_stack.splice(r,0,t);r++}this.nullified_call_stack.push(t)},nullify:function(){var t,e,n,i,r,o,a,u=s.call(arguments),l=u.length,c=!this._is_nullifying;for(c&&(this._is_nullifying=!0),t=0;t<l;t+=1)if(r=u[t],u[t]=!1,r._valid&&(r._valid=!1,i=!0,!1===r._options.cache_value||!0!==r._options.check_on_nullify||this.check_on_nullified_ids[r._id]||(this.check_on_nullified_ids[r._id]=!0,(r._options.equals||lt)(r._cached_value,r.get(void 0,!0))&&(i=!1)),i))for(n in o=r._changeListeners,rt(o,this.add_in_call_stack,this),e=r._outEdges,a=r._id,e)if(it(e,n)){var h=e[n],f=h.to;h.tstamp<f._tstamp?(delete r._outEdges[n],delete f._inEdges[a]):(u[l]=f,l+=1)}c&&(this.check_on_nullified_ids={},this.semaphore>=0&&this.nullified_call_stack.length>0&&this.run_nullified_listeners(),delete this._is_nullifying)},removeDependency:function(t,e){delete t._outEdges[e._id],delete e._inEdges[t._id]},semaphore:0,wait:function(){this.semaphore-=1},signal:function(){this.semaphore+=1,this.semaphore>=0&&this.nullified_call_stack.length>0&&this.run_nullified_listeners()},nullified_call_stack:[],running_listeners:!1,clearEdges:function(t,e){var n,i=!0!==e,r=t._id,o=t._inEdges,s=t._outEdges;for(n in i&&this.wait(),o)it(o,n)&&(delete o[n].from._outEdges[r],delete o[n]);for(n in s)if(it(s,n)){var a=s[n].to;i&&jt.nullify(a),delete a._inEdges[r],delete s[n]}i&&this.signal()},run_nullified_listeners:function(){var e,n,i;if(!this.running_listeners){for(this.running_listeners=!0;this.nullified_call_stack.length>0;)if(n=(e=this.nullified_call_stack.shift()).callback,i=e.context||t,e.in_call_stack--,e.node._num_listeners_in_call_stack--,Rt.__debug)n.apply(i,e.args);else try{n.apply(i,e.args)}catch(e){it(t,"console")&&t.console.error(e)}this.running_listeners=!1}},remove_from_call_stack:function(t){for(;t.in_call_stack>0;)ht(this.nullified_call_stack,t),t.in_call_stack--,t.node._num_listeners_in_call_stack--}};(function(t){var e=t.prototype;e.get=jt.getValue,e.set=function(t,e){var n=this._value;return this._value=t,e&&!0===e.silent?this:(this._options.literal||!X(t)&&!O(t)?(this._options.equal||lt)(n,t)||jt.nullify(this):n!==t&&jt.nullify(this),this)};var n=["context","literal"];e.setOption=function(t,e){var i;if(G(t))this._options[t]=e,i=ct(n,t)>=0;else{var r=r(t);at(this._options,t),i=q(n,function(t){return r.indexOf(t)>=0})}return i?this.invalidate():this},e.invalidate=function(){return jt.nullify(this),this},e.isValid=function(){return this._valid},e.remove=function(t){return jt.clearEdges(this,t),this._valid=!1,this._cached_value=void 0,this},e.destroy=function(t){return this._num_listeners_in_call_stack>0&&rt(this._changeListeners,function(t){if(t.in_call_stack>0&&(jt.remove_from_call_stack(t),0===this._num_listeners_in_call_stack))return j},this),this.remove(t),this._changeListeners=[],this},e.pauseGetter=function(){return jt.pauseNodeGetter.apply(this,arguments),this},e.resumeGetter=function(){return jt.resumeNodeGetter.apply(this,arguments),this},e.onChange=function(t,e){return this.onChangeWithPriority.apply(this,[!1].concat(et(arguments)))},e.onChangeWithPriority=function(t,e,n){var i=s.call(arguments,3);return Y(t)||(t=!1),this._changeListeners.push({callback:e,context:n,args:i,in_call_stack:0,node:this,priority:t}),!1!==this._options.run_on_add_listener&&this.get(!1),this},e.offChange=function(t,e){var n,i;for(i=this._changeListeners.length-1;i>=0;i-=1)if((n=this._changeListeners[i]).callback===t&&(!e||n.context===e)){ft(this._changeListeners,i),n.in_call_stack>0&&jt.remove_from_call_stack(n),delete n.node;break}return this},e.inFSM=function(t,e){return rt(e,function(e,n){t.on(n,function(){this.set(e)},this),t.is(n)&&this.set(e)},this),this},e.and=function(){var e=[this].concat(et(arguments)),n=e.length;return new t(function(){for(var t,i=0;i<n;i++)if(!(t=Rt.get(e[i])))return!1;return t})},e.iif=function(e,n){var i=this;return new t(function(){return i.get()?Rt.get(e):Rt.get(n)})},e.or=function(){var e=[this].concat(et(arguments)),n=e.length;return new t(function(){for(var t,i=0;i<n;i++)if(t=Rt.get(e[i]))return t;return!1})};var i=function(e){return function(){var n=[this].concat(et(arguments));return new t(function(){return e.apply(this,ot(n,Rt.get))})}},r=function(t,e){return t?t[e]:void 0};e.prop=i(function(t){return dt(H(arguments),r,t)}),e.toInt=i(function(t){return parseInt.apply(this,arguments)}),e.toFloat=i(function(t){return parseFloat.apply(this,arguments)}),e.add=i(function(){return dt(arguments,T["+"],0)}),e.sub=i(function(t){return dt(H(arguments),T["-"],t)}),e.mul=i(function(t){return dt(H(arguments),T["*"],t)}),e.div=i(function(t){return dt(H(arguments),T["/"],t)}),rt(["abs","acos","asin","atan","atan2","cos","max","min","sin","tan","pow","round","floor","ceil","sqrt","log","exp"],function(t){e[t]=i(b(Math[t],Math))}),rt({u:{pos:"+",neg:"-",not:"!",bitwiseNot:"~"},bi:{eqStrict:"===",neqStrict:"!==",eq:"==",neq:"!=",gt:">",ge:">=",lt:"<",le:"<=",xor:"^",bitwiseAnd:"&",bitwiseOr:"|",mod:"%",rightShift:">>",leftShift:"<<",unsignedRightShift:">>>"}},function(t,n){var r="u"===n?S:T;rt(t,function(t,n){e[n]=i(r[t])})}),e.typeOf=i(function(t){return typeof t}),e.instanceOf=i(function(t,e){return t instanceof e})})(P=function(e,n){this._options=at({context:t},n),this._value=e,this._id=L(),this._outEdges={},this._inEdges={},this._changeListeners=[],this._tstamp=0,this._num_listeners_in_call_stack=0,this._options.literal||!X(this._value)&&!O(this._value)?(this._valid=!0,this._cached_value=this._value):(this._valid=!1,this._cached_value=void 0)}),at(Rt,{constraint:function(t,e){return new P(t,e)},Constraint:P,isConstraint:O=function(t){return t instanceof P},inFSM:function(t,e){return(new P).inFSM(t,e)},get:function(t,e){return O(t)?t.get(e):A(t)?t.toArray():I(t)?t.toObject():t},wait:b(jt.wait,jt),signal:b(jt.signal,jt),removeDependency:jt.removeDependency,arrayDiff:Mt,version:"0.9.8-beta2",toString:function(){return"ConstraintJS v"+Rt.version},__debug:!0,noConflict:it(t,"cjs")?function(){return t.cjs===Rt&&(t.cjs=Nt),Rt}:function(){return delete t.cjs,Rt}});var Lt=function(t){return Y(t)&&Math.round(t)===t&&t>=0};(function(e){var n=e.prototype;e.BREAK={};var i=function(t,e){var n=t._value[e];return void 0===n&&(n=new P(void 0,{literal:!0}),t._unsubstantiated_items[e]=n),n.get()},r=function(t,e,n){Rt.wait();var i=t._value[e];if(void 0===i&&t._unsubstantiated_items[e]&&(i=t._value[e]=t._unsubstantiated_items[e],delete t._unsubstantiated_items[e]),O(i)){i.get();i.set(n)}else t._value[e]=new P(n,{literal:!0});return a(t),Rt.signal(),n},o=function(t,e){var n;for(Rt.wait();t._value.length>0;){n=t._value.pop();t._value.length;O(n)&&n.destroy(e)}return a(t,e),Rt.signal(),this},a=function(t,e){t.$len.set(t._value.length,!!e&&{silent:!0})};n.setEqualityCheck=function(t){return this.$equality_check.set(t),this},n.forEach=function(n,r){var o,s=this.length();for(r=r||t,o=0;o<s;o+=1)if(n.call(r,i(this,o),o)===e.BREAK)return this;return this},n.map=function(e,n){var i=[];return n=n||t,this.forEach(function(t,r){i[r]=e.call(n,t,r)}),i},n.setValue=function(t){return Rt.wait(),o(this),this.push.apply(this,t),Rt.signal(),this},n.item=function(t,e){return 0===arguments.length?this.toArray():1===arguments.length?i(this,t):arguments.length>1?r(this,t,e):void 0},n.destroy=function(t){o(this,t),this.$len.destroy(t)},n.length=function(){return this.$len.get()},n.push=function(){var t,e=arguments.length,n=this._value.length;for(Rt.wait(),t=0;t<e;t++)r(this,n+t,arguments[t]);return Rt.signal(),this.length()},n.pop=function(){var t,e=this._value.pop();return Rt.wait(),O(e)&&(t=e.get(),e.destroy()),a(this),Rt.signal(),t},n.toArray=function(){return this.map(tt)},n.indexWhere=function(t,e){var n,i,r=this.length();for(e=e||this,n=0;n<r;n+=1)if(i=this._value[n],t.call(e,i.get(),n))return n;return-1},n.lastIndexWhere=function(t,e){var n,i,r=this.length();for(e=e||this,n=r-1;n>=0;n-=1)if(i=this._value[n],t.call(e,i.get(),n))return n;return-1},n.indexOf=function(t,e){e=e||this.$equality_check.get();return this.indexWhere(function(n){return e(n,t)})},n.lastIndexOf=function(t,e){e=e||this.$equality_check.get();return this.lastIndexWhere(function(n){return e(n,t)})},n.some=function(t,e){return this.indexWhere(t,e)>=0},n.every=function(t,n){var i=!0;return this.forEach(function(){if(!t.apply(n,arguments))return i=!1,e.BREAK}),i},n.splice=function(t,e){var n;if(Y(e)||(e=0),!Lt(t)||!Lt(e))throw new Error("index and howmany must be positive integers");var o=s.call(arguments,2),u=o.length;Rt.wait();var l=u-e,c=ot(this._value.slice(t,t+e),function(t){return t?t.get():void 0});if(l<0){var h=this._value.length,f=t+u,d=h+l;for(n=t;n<f;n+=1)r(this,n,o[n-t]);for(;n<d;n+=1)r(this,n,i(this,n-l));for(;n<h;n+=1){var p=this._value.pop();O(p)&&p.destroy()}}else for(n=this._value.length+l-1;n>=t;n-=1)r(this,n,n<t+u?o[n-t]:i(this,n-l));return 0!==l&&a(this),Rt.signal(),c},n.shift=function(){return this.splice(0,1)[0]},n.unshift=function(){return this.splice.apply(this,[0,0].concat(et(arguments))),this.length()},n.concat=function(){var t=ot(arguments,function(t){return A(t)?t.toArray():t}),e=this.toArray();return e.concat.apply(e,t)},n.slice=function(){var t=this._value.slice.apply(this._value,arguments);return ot(t,function(t){return t?t.get():void 0})},n.itemConstraint=function(t){return new P(function(){return this.item(Rt.get(t))},{context:this})},rt(["filter","join","sort","reverse","toString"],function(t){n[t]=function(){var e=this.toArray();return e[t].apply(e,arguments)}})})(D=function(t){t=at({equals:lt,value:[]},t),this._value=ot(t.value,function(t){return new P(t,{literal:!0})}),this._unsubstantiated_items=[],this.$len=new P(this._value.length),this.$equality_check=new P(t.equals,{literal:!0})}),at(Rt,{array:function(t){return new D(t)},ArrayConstraint:D,isArrayConstraint:A=function(t){return t instanceof D}});var Ft=function(t){return t+""},zt=function(t){return function(e){return e[t]()}};(function(t){t.BREAK=D.BREAK;var e=t.prototype,n=function(t,e,n,i){var r=this._hash(t),o={h:r,hv:!1,i:-1,ui:-1,uhv:!1},s=this.$equality_check.get(),a=function(e,n){return s(e.key.get(),t)},u=this._khash[r];if(u){var l=ut(u,a);if(o.hv=u,l>=0)return o.i=l,o}if(!1!==e){var c=this._unsubstantiated_values[r],h=-1;if(c&&(o.uhv=c,(h=ut(c,a))>=0))return o.ui=h,o;if(!0===n){this._default_literal_values;var f={key:new P(t,{literal:!0}),value:new P(void 0,{literal:void 0===i?this._default_literal_values:!!i}),index:new P(-1,{literal:!0})};c?c[h=c.length]=f:(h=0,this._unsubstantiated_values[r]=c=[f])}o.uhv=c||!1,o.ui=h}return o},i=function(t,e,n,i,o){var s,a,u,l,c=t.i,h=t.hv,f=t.h;if(c>=0){if(l=h[c],this._vhash){var d=l.value.get(),p=this._valuehash(d),g=this._vhash[p];if(a=this._valuehash(n),g){var m=g.length;for(s=0;s<m;s+=1)if(g[s]===l){g.splice(s,1),0===g.length&&delete this._vhash[p];break}}(u=this._vhash[a])?u.push(l):this._vhash[a]=[l]}if(l.value.set(n),Lt(i)){var v=l.index.get();if(v!==i){this._ordered_values.splice(v,1),this._ordered_values.splice(i,0,l);var y=Math.min(v,i),b=Math.max(v,i);for(s=y;s<=b;s+=1)r(this._ordered_values[s],s);this.$keys.invalidate()}}}else{Lt(i)||(i=this._ordered_values.length);var _=t.ui;if(_>=0){var w=t.uhv,x=w[_];w.splice(_,1),0===w.length&&delete this._unsubstantiated_values[f],l=x}else l={key:new P(e,{literal:!0}),value:new P(n,{literal:void 0===o?this._default_literal_values:!!o}),index:new P(i,{literal:!0})};for(h?h.push(l):h=this._khash[f]=[l],this._vhash&&(a=this._valuehash(n),(u=this._vhash[a])?u.push(l):this._vhash[a]=[l]),this._ordered_values.splice(i,0,l),_>=0&&(l.value.set(n),l.index.set(i)),s=i+1;s<this._ordered_values.length;s+=1)r(this._ordered_values[s],s);this.$size.invalidate(),this.$keys.invalidate()}this.$values.invalidate(),this.$entries.invalidate()},r=function(t,e){t.index.set(e)},o=function(t,e){this._ordered_values[t];!function(t,e){rt(t,function(t){t.key.destroy(e),t.value.destroy(e),t.index.destroy(e)})}(this._ordered_values.splice(t,1),e),!0!==e&&this.$size.invalidate()};e.keys=function(){return this.$keys.get()},e.values=function(){return this.$values.get()},e.entries=function(){return this.$entries.get()},e.size=function(){return this.$size.get()},e.isEmpty=function(){return 0===this.size()},e.put=function(t,e,r,o){Rt.wait();var s=n.call(this,t,!0,!1,o);return i.call(this,s,t,e,r,o),Rt.signal(),this},e.remove=function(t,e){var i,s,a,u,l,c=n.call(this,t,!1,!1),h=c.i,f=c.hv;if(h>=0){if(Rt.wait(),a=(s=f[h]).index.get(),f.splice(h,1),0===f.length&&delete this._khash[c.h],this._vhash&&(u=this._valuehash(s.value.get()),l=this._vhash[u])){var d=l.length;for(i=0;i<d;i+=1)if(l[i]===s){l.splice(i,1),0===l.length&&delete this._vhash[u];break}}for(o.call(this,a,e),i=a;i<this._ordered_values.length;i+=1)r(this._ordered_values[i],i);e||(this.$size.invalidate(),this.$keys.invalidate(),this.$values.invalidate(),this.$entries.invalidate()),Rt.signal()}return this},e.get=function(t){var e=n.call(this,t,!0,this._create_unsubstantiated),i=e.i,r=e.hv;return i>=0?r[i].value.get():this._create_unsubstantiated?e.uhv[e.ui].value.get():void 0},e.item=function(t,e,n){return 0===arguments.length?this.toObject():1===arguments.length?this.get(t):this.put(t,e,n)},e.itemConstraint=function(t){return new P(function(){return this.get(Rt.get(t))},{context:this})},e.clear=function(t){if(this.size()>0){for(Rt.wait();this._ordered_values.length>0;)o.call(this,0,t);rt(this._khash,function(t,e){delete this._khash[e]},this),this._vhash&&rt(this._vhash,function(t,e){delete this._vhash[e]},this),t||(this.$keys.invalidate(),this.$values.invalidate(),this.$entries.invalidate(),this.$size.invalidate()),Rt.signal()}return this},e.forEach=function(e,n){var i,r,o=this.size(),s=this._ordered_values.slice();for(n=n||this,i=0;i<o&&(!(r=s[i])||e.call(n,r.value.get(),r.key.get(),r.index.get())!==t.BREAK);i+=1);return this},e.setEqualityCheck=function(t){return this.$equality_check.set(t),this},e.setValueEqualityCheck=function(t){return this.$vequality_check.set(t),this},e.setHash=function(t){Rt.wait(),this._hash=G(t)?zt(t):t,this._khash={},rt(this._ordered_values,function(t){var e=t.key.get(),n=this._hash(e),i=this._khash[n];i?i.push(t):this._khash[n]=[t]},this);var e={};return rt(this._unsubstantiated_values,function(t){rt(t,function(t){var n=t.key.get(),i=this._hash(n),r=this.new_unsubstatiated_values[i];r?r.push(t):e[i]=[t]},this)},this),this._unsubstantiated_values=e,Rt.signal(),this},e.setValueHash=function(t){return this._valuehash=G(t)?zt(t):t,this._vhash={},this._valuehash&&rt(this._ordered_values,function(t){var e=t.value.get(),n=this._valuehash(e),i=this._vhash[n];i?i.push(t):this._vhash[n]=[t]},this),this},e.indexOf=function(t){var e=n.call(this,t,!0,this._create_unsubstantiated),i=e.i,r=e.hv;return i>=0?r[i].index.get():e.ui>=0?e.uhv[e.ui].index.get():-1},e.getOrPut=function(t,e,r,o,s){var a,u,l=n.call(this,t,!0,!1,s),c=l.i,h=l.hv;l.h;return c>=0?h[c].value.get():(Rt.wait(),a=r||this,u=e.call(a,t),i.call(this,l,t,u,o,s),Rt.signal(),u)},e.has=function(t){var e=n.call(this,t,!0,this._create_unsubstantiated);return e.i>=0||!!this._create_unsubstantiated&&(e.uhv[e.ui].index.get(),!1)},e.moveIndex=function(t,e){var n;Rt.wait();var i=this._ordered_values[t];this._ordered_values.splice(t,1),this._ordered_values.splice(e,0,i);var o=Math.min(t,e),s=Math.max(t,e);for(n=o;n<=s;n+=1)r(this._ordered_values[n],n);return this.$keys.invalidate(),this.$values.invalidate(),this.$entries.invalidate(),Rt.signal(),this},e.move=function(t,e){var i=n.call(this,t,!1,!1),r=i.i;if(r>=0){var o=i.hv[r];this.moveIndex(o.index.get(),e)}return this},e.keyForValue=function(e,n){var i,r;if(n=n||this.$vequality_check.get(),!this._vhash)return this.forEach(function(i,o){if(n(e,i))return r=o,t.BREAK}),r;var o=this._valuehash(e),s=this._vhash[o];if(s){var a=s.length;for(i=0;i<a;i+=1){var u=s[i];if(n(u.value.get(),e))return u.key.get()}}},e.destroy=function(t){Rt.wait(),this.clear(t),this.$equality_check.destroy(t),this.$vequality_check.destroy(t),this.$keys.destroy(t),this.$values.destroy(t),this.$entries.destroy(t),this.$size.destroy(t),Rt.signal()},e.toObject=function(t){var e={};return t=t||tt,this.forEach(function(n,i){e[t(i)]=n}),e}})(M=function(t){(t=at({hash:Ft,valuehash:!1,equals:lt,valueequals:lt,value:{},keys:[],values:[],literal_values:!1,create_unsubstantiated:!0},t)).keys=F(t.keys),t.values=F(t.values);var e={};rt(t.keys,function(t){e[t]=!0}),rt(t.value,function(n,i){e[i]||(t.keys.push(i),t.values.push(n))},this),e=!1,this._default_literal_values=!!t.literal_values,this.$equality_check=new P(t.equals,{literal:!0}),this.$vequality_check=new P(t.valueequals,{literal:!0}),this._hash=G(t.hash)?zt(t.hash):t.hash,this._create_unsubstantiated=t.create_unsubstantiated,this._khash={},t.valuehash?(this._vhash={},X(t.valuehash)?this._valuehash=t.valuehash:G(t.valuehash)?this._valuehash=zt(t.valuehash):this._valuehash=Ft):this._vhash=!1;var n=this._default_literal_values;this._ordered_values=ot(t.keys,function(e,i){var r=t.values[i],o={key:new P(e,{literal:!0}),value:new P(r,{literal:n}),index:new P(i,{literal:!0})},s=this._hash(e),a=this._khash[s];if(a?a.push(o):this._khash[s]=[o],this._vhash){var u=this._valuehash(r),l=this._vhash[u];l?l.push(o):this._vhash[u]=[o]}return o},this),this._unsubstantiated_values={},this.$keys=new P(function(){var t=[];return this.forEach(function(e,n,i){t[i]=n}),t},{context:this}),this.$values=new P(function(){var t=[];return this.forEach(function(e,n,i){t[i]=e}),t},{context:this}),this.$entries=new P(function(){var t=[];return this.forEach(function(e,n,i){t[i]={key:n,value:e}}),t},{context:this}),this.$size=new P(function(){return this._ordered_values.length},{context:this})}),at(Rt,{map:function(t,e){return new M(t,e)},MapConstraint:M,isMapConstraint:I=function(t){return t instanceof M}}),at(Rt,{liven:function(e,n){n=at({context:t,run_on_create:!0,pause_while_running:!1,priority:!1,on_destroy:!1},n);var i,r=new P(e,{context:n.context,cache_value:!1,auto_add_outgoing_dependencies:!1,run_on_add_listener:!1}),o=!1,s=function(){return!1===o&&(o=!0,r.offChange(i),!0)},a=function(){return!0===o&&(o=!1,r.onChangeWithPriority(n.priority,i),!1!==n.run_on_create&&(jt.semaphore>=0?r.get(!1):rt(r._changeListeners,jt.add_in_call_stack,jt)),!0)};i=function(){n.pause_while_running&&s(),r.get(),n.pause_while_running&&a()},r.onChangeWithPriority(n.priority,i);var u={destroy:function(t){n.on_destroy&&n.on_destroy.call(n.context,t),r.destroy(t)},pause:s,resume:a,run:function(t){return i(t),this},invalidate:function(){r.invalidate()},_constraint:r};return!1!==n.run_on_create&&(jt.semaphore>=0?r.get(!1):rt(r._changeListeners,jt.add_in_call_stack,jt)),u}});var Bt=function(){var t,e=arguments.length,n="";for(t=0;t<e;t+=1)n+=arguments[t];return n},qt=function(t,e){var n,i=t.length;if(i===e.length){for(n=0;n<i;n+=1){if(t[n]!==e[n])return!1}return!0}return!1};at(Rt,{memoize:function(e,n){(n=at({hash:Bt,equals:qt,context:t,literal_values:!0},n)).args_map=new M({hash:n.hash,equals:n.equals,literal_values:n.literal_values});var i=function(){var t=s.call(arguments);return n.args_map.getOrPut(t,function(){return new P(function(){return e.apply(n.context,t)})}).get()};return i.destroy=function(t){n.args_map.forEach(function(e){e.destroy(t)}),n.args_map.destroy(t)},i.each=function(t){n.args_map.forEach(t)},i.options=n,i}});var Ht,Wt=function(t){return J(t)?t:x.createTextNode(t)},Ut=function(t,e,n){var i=e.childNodes;if(i.length<=n)e.appendChild(t);else{var r=i[n];e.insertBefore(t,r)}},$t=function(e){return!!it(t,"jQuery")&&e instanceof t.jQuery},Yt=t.NodeList||!1,Vt=Yt?function(t){return t instanceof Yt}:function(){return!1},Xt=function(e){return V(e)?e:O(e)?Xt(e.get()):A(e)?e.toArray():I(e)?e.values():$t(e)?t.jQuery.makeArray(e):Vt(e)?et(e):[e]},Gt=function(t){this.options=t,this.targets=t.targets;var e,n,i=t.setter,r=t.getter,o=t.init_val,s=function(){this._timeout_id=!1;var r=st(Xt(this.targets),J);it(t,"onChange")&&t.onChange.call(this,e,n),rt(r,function(t){i.call(this,t,e,n)},this),n=e};this._throttle_delay=!1,this._timeout_id=!1,n=X(o)?o(Xt(this.targets[0])):o,this.$live_fn=Rt.liven(function(){e=r(),this._throttle_delay?this._timeout_id||(this._timeout_id=k(b(s,this),this._throttle_delay)):s.call(this)},{context:this})};(Ht=Gt.prototype).pause=function(){return this.$live_fn.pause(),this},Ht.resume=function(){return this.$live_fn.resume(),this},Ht.throttle=function(t){return this._throttle_delay=t>0&&t,this._timeout_id&&!this._throttle_delay&&(C(this._timeout_id),this._timeout_id=!1),this.$live_fn.run(),this},Ht.destroy=function(){this.$live_fn.destroy(),this.options.onDestroy&&this.options.onDestroy(),this.options.coreDestroy&&this.options.coreDestroy()};var Kt=function(t,e,n){return function(i){var r=s.call(arguments,1),o=Rt(function(){return t(r)});return new Gt({targets:i,getter:b(o.get,o),setter:e,init_val:n,coreDestroy:function(){o.destroy()}})}},Qt=function(t){return Kt(function(t){return ot(t,Rt.get).join("")},function(e,n){t(e,n)})},Jt=function(t){return function(e){var n,i=s.call(arguments,1);if(0!==i.length)return 1===i.length?n=i[0]:i.length>1&&((n={})[i[0]]=i[1]),new Gt({targets:e,setter:function(e,n){rt(n,function(n,i){t(e,i,n)})},getter:function(){if(I(n))return n.toObject();var t={};return rt(n,function(e,n){t[n]=Rt.get(e)}),t}})}},Zt=Qt(function(t,e){n(t,e)}),te=Qt(function(t,e){t.innerHTML=e}),ee=Qt(function(t,e){t.val=e}),ne=Kt(function(t){return $(ot(t,Rt.get),!0)},function(t,e,n){var i=Mt(n,e),r=" "+t.className+" ";rt(i.removed,function(t){r=r.replace(" "+t.from_item+" "," ")}),r+=ot(i.added,function(t){return t.item}).join(" "),r=w(r),t.className=r},[]),ie=Kt(function(t){var e=ot(t,Rt.get);return ot($(e,!0),Wt)},function(t,e,n){var i=Mt(n,e);rt(i.removed,function(e){var n=function(t,e){var n,i=t.childNodes;if(i.length>e)return n=i[e],t.removeChild(n),n}(t,e.from);this.options.onRemove&&this.options.onRemove.call(this,n,e.from)},this),rt(i.added,function(e){var n=e.item;Ut(n,t,e.to),this.options.onAdd&&this.options.onAdd.call(this,n,e.to)},this),rt(i.moved,function(e){var n=function(t,e,n){var i=t.childNodes;if(i.length>n){var r=i[n];return t&&(n<e&&e++,Ut(r,t,e)),r}}(t,e.to_index,e.from_index);this.options.onMove&&this.options.onMove.call(this,n,e.to_index,e.from_index)},this),this.options.onIndexChange&&rt(i.index_changed,function(t){this.options.onIndexChange.call(this,t.item,t.to,t.from)},this)},function(t){return et(t.childNodes)}),re=Jt(function(t,e,n){var i;t.style[(i=e,i.replace(At,"ms-").replace(Ot,It))]=n}),oe=Jt(function(t,e,n){Ne[e]&&!n?t.removeAttribute(e):t.setAttribute(e,n)}),se=["keyup","input","paste","propertychange","change"],ae=function(t){var e;Q(t)?(t=[t],e=!1):e=!0;var n=Rt(function(){return e?ot(t,function(t){return t.value}):t[0].value}),i=(t.length,b(n.invalidate,n)),r=n.destroy;return n.destroy=function(){rt(se,function(e){rt(t,function(t){R(t,e,i)})}),r.call(n)},rt(se,function(e){rt(t,function(t){N(t,e,i)})}),n};at(Rt,{bindText:Zt,bindHTML:te,bindValue:ee,bindChildren:ie,bindAttr:oe,bindCSS:re,bindClass:ne,inputValue:ae,Binding:Gt});var ue=function(t,e){this._fsm=t,this._name=e,this._id=L()};!function(t){var e=ue.prototype;e.getName=function(){return this._name},e.id=function(){return this._id}}();var le=function(t,e,n,i){this._fsm=t,this._from=e,this._to=n,this._name=i,this._id=L(),this._event=!1};!function(t){var e=le.prototype;e.getFrom=function(){return this._from},e.getTo=function(){return this._to},e.getName=function(){return this._name},e.getFSM=function(){return this._fsm},e.id=function(){return this._id},e.destroy=function(){var t=this._event;t&&t._removeTransition(this),delete this._event,delete this._fsm,delete this._from,delete this._to},e.setEvent=function(t){this._event=t},e.run=function(){var t=this.getFSM();if(t&&t.is(this.getFrom())){var e=et(arguments);e.unshift(this.getTo(),this),t._setState.apply(t,e)}}}();var ce=function(t){this._state_name=t};ce.prototype.matches=function(t){return this._state_name===t||t instanceof ue&&this._state_name===t.getName()};var he=function(){};he.prototype.matches=function(t){return!(t instanceof le)};var fe=function(t,e,n){this.is_pre=t,this.from_state_selector=e,this.to_state_selector=n};fe.prototype.matches=function(t,e){if(t instanceof le&&this.is_pre===e){var n=t.getFrom(),i=t.getTo();return this.from_state_selector.matches(n)&&this.to_state_selector.matches(i)}return!1};var de=function(){this.selectors=et(arguments)};de.prototype.matches=function(){var t=arguments;return q(this.selectors,function(e){return e.matches.apply(e,t)})};var pe=function(t){return"*"===t?new he:new ce(t)},ge=function(t){var e=ot(t.split(","),function(t){return w(t)});if(1===e.length)return pe(e[0]);var n=ot(e,pe);return new de(n)},me=/^([\sa-zA-Z0-9,\-_*]+)((<->|>-<|->|>-|<-|-<)([\sa-zA-Z0-9,\-_*]+))?$/,ve=function(t){var e=t.match(me);if(null===e)return null;if(e[2])return function(t,e,n){var i,r,o=ge(t),s=ge(n);return"<->"===e?(i=new fe(!1,o,s),r=new fe(!1,s,o),new de(i,r)):">-<"===e?(i=new fe(!0,o,s),r=new fe(!0,s,o),new de(i,r)):"->"===e?new fe(!1,o,s):">-"===e?new fe(!0,o,s):"<-"===e?new fe(!1,s,o):"-<"===e?new fe(!0,s,o):null}(e[1],e[3],e[4]);var n=e[1];return ge(n)},ye=0,be=function(e,n,i){this._context=i||t,this._selector=e,this._callback=n,this._id=ye++};!function(t){var e=be.prototype;e.interested_in=function(){return this._selector.matches.apply(this._selector,arguments)},e.run=function(){this._callback.apply(this._context,arguments)}}();var _e=function(){this._states={},this._transitions=[],this._curr_state=null,this._listeners=[],this._chain_state=null,this._did_transition=!1,this.state=Rt(function(){return this._curr_state?this._curr_state._name:null},{context:this}),this.addState.apply(this,$(arguments,!0))};!function(t){var e=_e.prototype,n=function(t,e){return t._states[e]};e.addState=function(){var t;return rt(arguments,function(e){(t=n(this,e))||(t=this._states[e]=new ue(this,e),null===this._curr_state&&(this._curr_state=t))},this),t&&(this._chain_state=t),this},e.getState=function(){return this.state.get()},e.addTransition=function(t,e,n){var i,r,o,s,a=!1;if(0===arguments.length)throw new Error("addTransition expects at least one argument");return 1===arguments.length?(a=!0,i=this._chain_state,r=t):2===arguments.length?X(e)||e instanceof we?(i=this._chain_state,r=t,s=e):(i=t,r=e,a=!0):(i=t,r=e,s=n),G(i)&&!it(this._states,i)&&(this._states[i]=new ue(this,i)),G(r)&&!it(this._states,r)&&(this._states[r]=new ue(this,r)),o=new le(this,i,r),this._transitions.push(o),a?b(o.run,o):(s instanceof we?(s._addTransition(o),o.setEvent(s)):s.call(this,b(o.run,o),this),this)},e._setState=function(t,e,i){var r=this.getState(),o=G(t)?n(this,t):t,s=this._listeners.length>0&&[i,e,o,r].concat(H(arguments,3));if(!o)throw new Error("Could not find state '"+t+"'");this.did_transition=!0,rt(this._listeners,function(t){t.interested_in(e,!0)&&t.run.apply(t,s)}),this._curr_state=o,this.state.invalidate(),rt(this._listeners,function(t){(t.interested_in(e,!1)||t.interested_in(o))&&t.run.apply(t,s)})},e.destroy=function(){this.state.destroy(),this._states={},rt(this._transitions,function(t){t.destroy()}),this._transitions=[],this._curr_state=null},e.startsAt=function(t){var e=n(this,t);return e||(e=this._states[t]=new ue(this,t)),this.did_transition||(this._curr_state=e,this.state.invalidate()),this._chain_state=e,this},e.is=function(t){var e=this.getState();return null!==e&&e===(G(t)?t:t.getName())},e.on=e.addEventListener=function(t,e,n){var i;if(G(t)){if(null===(i=ve(t)))throw new Error("Unrecognized format for state/transition spec.")}else i=t;var r=new be(i,e,n);return this._listeners.push(r),this},e.off=e.removeEventListener=function(t){return this._listeners=st(this._listeners,function(e){return e.callback!==t}),this}}(),at(Rt,{FSM:_e,fsm:function(){return new _e(arguments)},isFSM:function(t){return t instanceof _e}});var we=function(t,e,n,i){this._listeners=[],this._transitions=[],this._on_add_transition=n,this._on_remove_transition=i,this._live_fns={},this._parent=t,this._parent&&this._parent._listeners.push({event:this,filter:e})};!function(e){var n=we.prototype;n.guard=function(t,e){if(!X(t)){var n=t;t=function(t){return t&&t[n]===e}}return new we(this,t)},n._addTransition=function(t){this._transitions.push(t),this._on_add_transition&&(this._live_fns[t.id()]=this._on_add_transition(t)),this._parent&&this._parent._on_add_transition&&this._parent._on_add_transition(t)},n._removeTransition=function(t){if(ht(this._transitions,t)&&this._on_remove_transition){this._on_remove_transition(t);var e=t.id();this._live_fns[e].destroy(),delete this._live_fns[e]}this._parent&&this._parent._on_remove_transition&&this._parent._on_remove_transition(t)},n._fire=function(){var e=arguments;rt(this._transitions,function(t){t.run.apply(t,e)}),rt(this._listeners,function(n){var i=n.event,r=n.filter;r&&!r.apply(t,e)||i._fire.apply(i,e)})}}();var xe=function(e){return e===t||gn(e)};at(Rt,{CJSEvent:we,on:function(e){var n=arguments.length>1?H(arguments):t;return new we(!1,!1,function(t){var i=[],r=!1,o=[],s=b(this._fire,this),a=t.getFSM(),u=t.getFrom(),l=new ce(u),c=new fe(!0,l,new he),h=function(){rt(o,function(t){if("timeout"===t){r&&(C(r),r=!1);var e=Rt.get(n[0]);(!Y(e)||e<0)&&(e=0),r=k(s,e)}else rt(i,function(e){N(e,t,s)})})},f=function(){rt(o,function(t){rt(i,function(e){"timeout"===t?r&&(C(r),r=!1):R(e,t,s)})})};return Rt.liven(function(){var t;f(),t=Rt.get(e),o=ot(t.split(" "),w),i=$(ot(st(Xt(n),xe),vn,!0)),a.on(l,h).on(c,f),a.is(u)&&h()})})}});var ke=function(t){var e={};return rt(t.split(","),function(t){e[t]=!0}),e},Ce=/^<([\-A-Za-z0-9_]+)((?:\s+[a-zA-Z0-9_\-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^>\s]+)))?)*)\s*(\/?)>/,Se=/^<\/([\-A-Za-z0-9_]+)[^>]*>/,Te=/^\{\{([#=!>|{\/])?\s*((?:(?:"[^"]*")|(?:'[^']*')|[^\}])*)\s*(\/?)\}?\}\}/,Ee=/([\-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^\/>\s]+)))?/g,Pe="hb",De="html",Me=ke("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),Oe=ke("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),Ae=ke("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),Ie=ke("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),Ne=ke("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),Re=ke("script,style"),je={state:{parent:["fsm"]},elif:{parent:["if"]},else:{parent:["if","each"]}},Le={elif:{when_open_sibling:["elif","else"]},else:{when_close_parent:["if","each"],when_open_sibling:[]},state:{when_open_sibling:["state"]}},Fe={elif:{follows:["elif"],or_parent:["if"]},else:{follows:["elif"],or_parent:["if","each"]},state:{follows:["state"],or_parent:["fsm"]}},ze=function(t){var e={children:[],type:Ue},n=[e],i=!1,r=[],o=[];return function(t,e){var n,i,r,o,s,a,u=[],l=t;u.last=function(){return this[this.length-1]};for(var c=function(t,n){return n=n.replace(/<!--(.*?)-->/g,"$1").replace(/<!\[CDATA\[(.*?)\]\]>/g,"$1"),e.chars&&e.chars(n),""};t;){if(s=!0,u.last()&&Re[u.last()])t=t.replace(new RegExp("(.*)</"+u.last()+"[^>]*>"),c),d(0,u.last());else if(0===t.indexOf("\x3c!--")?(o=t.indexOf("--\x3e"))>=0&&(e.HTMLcomment&&e.HTMLcomment(t.substring(4,o)),t=t.substring(o+3),s=!1):0===t.indexOf("</")?(a=t.match(Se))&&(t=t.substring(a[0].length),a[0].replace(Se,d),s=!1):0===t.indexOf("<")?(a=t.match(Ce))&&(t=t.substring(a[0].length),a[0].replace(Ce,f),s=!1):0===t.indexOf("{{")&&(a=t.match(Te))&&(t=t.substring(a[0].length),a[0].replace(Te,g),s=!1),s){n=t.indexOf("<"),i=t.indexOf("{{");var h=(o=n<0?i:i<0?n:Math.min(n,i))<0?t:t.substring(0,o);t=o<0?"":t.substring(o),e.chars(h)}if(t==l)throw new Error("Parse Error: "+t);l=t}function f(t,n,i,r){if(n=n.toLowerCase(),Oe[n])for(;u.last()&&Ae[u.last()];)d(0,u.last());if(Ie[n]&&u.last()==n&&d(0,n),(r=Me[n]||!!r)||u.push({type:De,tag:n}),e.startHTML){var o=[];i.replace(Ee,function(t,e){var n=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:Ne[e]?e:"";o.push({name:e,value:n,escaped:n.replace(/(^|[^\\])"/g,'$1\\"')})}),e.startHTML(n,o,r)}}function d(t,e){m(e,De)}function p(){var t,e;for(t=u.length-1;t>=0;t--)if((e=u[t]).type===Pe)return e}function g(t,n,i){var o,s,a=Xn(i);switch(a.type===Rn?a.body.length>0&&a.body[0].type===jn&&(s=a.body[0].name):a.type===jn&&(s=a.name),n){case"{":e.startHB(s,a,!0,!0);break;case">":e.partialHB(s,a);break;case"#":if((o=p())&&it(Le,o.tag)){var l=Le[o.tag];ct(l.when_open_sibling,s)>=0&&(m(o.tag,Pe),o=p())}if(it(je,s)){var c=je[s];if(!o||ct(c.parent,o.tag)<0)throw new Error("'"+s+"' must be inside of a '"+c.parent+"' block")}if(it(Fe,s)){var h=Fe[s];if(ct(h.follows,r)<0&&(!h.or_parent||ct(h.or_parent,o.tag)<0)){var f="'"+s+"' must follow a '"+h.follows[0]+"'";throw h.or_parent&&(f+=" or be inside of a '"+h.or_parent[0]+"' tag"),new Error(f)}}u.push({type:Pe,tag:s}),e.startHB(s,a,!1);break;case"/":m(s,Pe);break;case"!":break;default:e.startHB(s,a,!0,!1)}}function m(t,n){var i,o,s;for(o=u.length-1;o>=0&&(u[o].type!==n||u[o].tag!==t);o-=1);if(o>=0){for(i=u.length-1;i>=o;i--)(s=u[i]).type===Pe?e.endHB&&e.endHB(s.tag):e.endHTML&&e.endHTML(s.tag);u.length=o}n===Pe&&(r=t)}d()}(t,{startHTML:function(t,e,r){i={type:De,tag:t,attributes:e,unary:r,children:[]},B(n).children.push(i),r||n.push(i)},endHTML:function(t){i=n.pop()},HTMLcomment:function(t){i={type:$e,str:t},B(n).children.push(i)},chars:function(t){i={type:We,str:t},B(n).children.push(i)},startHB:function(t,e,s,a){if(s)i={type:He,obj:Ge(e),literal:a,tag:t},B(n).children.push(i);else{var u=!0;switch(i={type:Pe,tag:t,children:[]},t){case"each":i.parsed_content=Ke(e),i.else_child=!1;break;case"unless":case"if":i.reverse="unless"===t,i.sub_conditions=[],i.condition=Ke(e),o.push(i);break;case"elif":case"else":var l=B(n);l.type===Pe&&"each"===l.tag?l.else_child=i:B(o).sub_conditions.push(i),i.condition="else"===t?Xe:Ke(e),u=!1;break;case"each":case"fsm":i.fsm_target=Ke(e),i.sub_states={},r.push(i);break;case"state":var c=e.body[1].name;B(r).sub_states[c]=i,u=!1;break;case"with":i.content=Ke(e)}u&&B(n).children.push(i),n.push(i)}},endHB:function(t){switch(t){case"if":case"unless":o.pop();break;case"fsm":r.pop()}n.pop()},partialHB:function(t,e){i={type:qe,tag:t,content:Ke(e)},B(n).children.push(i)}}),e},Be=function(t){return t.type===He&&t.literal},qe="partial_hb",He="unary_hb",We="chars",Ue="root",$e="comment",Ye=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},Ve=function(t,e,n,i){if(t){var r=e.computed?Je(e,n,i):e.name;return Rt.isMapConstraint(t)?t.get(r):t[r]}},Xe={},Ge=function(t){return t.type===Rn?t.body[0]:t},Ke=function(t){return{type:Rn,body:t.type===Rn?H(t.body):[]}},Qe=function(t){return t.node||t.getNodes()},Je=function(e,n,i){var r,o,s,a,u,l,c;if(e)switch(e.type){case zn:return Rt.get(B(i).this_exp);case Fn:return e.value;case qn:return(r=S[e.operator])?r(Je(e.argument,n,i)):void 0;case Hn:case Wn:return(r=T[e.operator])?r(Je(e.left,n,i),Je(e.right,n,i)):void 0;case jn:if("@"===e.name.charAt(0)){for(l=e.name.slice(1),c=i.length-1;c>=0;c--)if((o=i[c].at)&&it(o,l)){u=o[l];break}}else u=Rt.isMapConstraint(n)?n.get(e.name):n[e.name];return O(u)?u.get():u;case Ln:return o=Je(e.object,n,i),Ve(o,e.property,n,i);case Rn:return Je(e.body[0],n,i);case Yn:return o=B(i).this_exp,Ve(o,e.argument,n,i);case $n:return o=i&&i.length>1?i[i.length-2].this_exp:void 0,Ve(o,e.argument,n,i);case Un:return Je(e.test,n,i)?Je(e.consequent,n,i):Je(e.alternate,n,i);case Bn:if(e.callee.type===Ln?(s=Je(e.callee.object,n,i),o=Ve(s,e.callee.property,n,i)):(s=t,o=Je(e.callee,n,i)),o&&X(o))return a=ot(e.arguments,function(t){return Je(t,n,i)}),o.apply(s,a)}},Ze=function(t){return 3===t.nodeType?Ye(e(t)):Ye((n=t).outerHTML||(i=n,(o=document.createElement("div")).appendChild(i.cloneNode(!0)),r=o.innerHTML,o=null,r));var n,i,r,o},tn=/^\{\{([^\}]+)\}\}/,en={},nn=function(t,e){return t===e||t&&t.is_obj===en&&t.key===e.key&&t.value===e.value},rn=/^(data-)?cjs-out$/,on=/^(data-)?cjs-on-(\w+)$/,sn=function(t,e){var n=H(arguments,2);rt(t,function(t){it(t,e)&&t[e].apply(t,n)})},an=function(t){sn.apply(this,[t,"pause"].concat(H(arguments)))},un=function(t){sn.apply(this,[t,"resume"].concat(H(arguments)))},ln=function(t){sn.apply(this,[t,"destroy"].concat(H(arguments)))},cn=function(t){sn.apply(this,[t,"onAdd"].concat(H(arguments)))},hn=function(t){sn.apply(this,[t,"onRemove"].concat(H(arguments)))},fn=function(e,n,i,r){var o,s,a,u,l,c=e.type;if(c===We)return{type:c,node:x.createTextNode(e.str)};if(c===Ue||c===De){var h,f,d=[];if(o=ot(e.children,function(t){return fn(t,n,i)}),c===Ue)if(r)s=r;else{if(1===o.length&&e.children[0].type===De)return o[0];s=x.createElement("span")}else s=x.createElement(e.tag);if(rt(e.attributes,function(t){var e=t.name,r=t.value;if(e.match(rn))d.push(n[r]=ae(s));else if(h=e.match(on)){var o=h[2];N(s,o,b(n[r],Rt.get(B(i).this_exp)))}else{var a=function(t,e,n){for(var i,r,o,s=!1,a=!1,u=[],l=0,c=!1;t.length>0;){if(0===(i=t.indexOf("{"))){if(r=t.match(tn)){u[l++]=Rt(_(Je,Xn(r[1]),e,n)),t=t.substr(r[0].length),c=!1,s=!0;continue}i++}i<0&&(i=t.length),o=t.substr(0,i),t=t.substr(i),c?u[l-1]=u[l-1]+o:u[l++]=o,a=c=!0}return s?a||1!==u.length?Rt(function(){return ot(u,function(t){return O(t)?t.get():A(t)?t.join(" "):""+t}).join("")}):u[0]:u.join("")}(r,n,i);if(O(a))if("class"===t.name){var u=Rt(function(){return a.get().split(" ")});d.push(a,u,ne(s,u))}else d.push(a,oe(s,e,a));else s.setAttribute(t.name,a)}}),l=e.children,q(l,Be)){var p=function(t,e,n){return Rt(function(){return ot(t,function(t){if(t.type===He)return t.literal?Je(t.val,e,n):Ye(Je(t.val,e,n)+"");var i=Qe(t);return V(i)?ot(i,Ze).join(""):Ze(i)}).join("")})}(o,n,i);f=te(s,p),d.push(p,f)}else{var g=(u=o,Rt(function(){var t=[];return rt(u,function(e){var n=Qe(e);V(n)?t.push.apply(t,n):t.push(n)}),t}));f=ie(s,g),d.push(g,f)}return{node:s,type:c,onAdd:function(){un(d),cn(o)},onRemove:function(){an(d),hn(o)},pause:function(){an(o.concat(d))},resume:function(){un(o.concat(d))},destroy:function(){ln(o.concat(d))}}}if(c===He){var m,v,y=e.obj,w=Rt(function(){return Je(y,n,i)});if(!e.literal){var k=Rt.get(w);gn(k)?m=mn(k):(m=x.createTextNode(""+k),v=Zt(m,w))}return{type:c,literal:e.literal,val:y,node:m,destroy:function(){v&&v.destroy(!0),w.destroy(!0)},pause:function(){v&&v.pause()},resume:function(){v&&v.resume()},onRemove:function(){this.pause()},onAdd:function(){this.resume()}}}if(c===Pe){var C=e.tag;if("each"===C){var S,T=[],E=[];return a=[],{type:c,onRemove:function(){rt(a,hn)},onAdd:function(){rt(a,cn)},pause:function(){rt(a,an)},resume:function(){rt(a,un)},destroy:function(){rt(a,ln),a=[]},getNodes:function(){S=Je(e.parsed_content,n,i),A(S)&&(S=S.toArray()),V(S)?0===S.length&&e.else_child&&(S=[Xe]):I(S)?(S=S.entries(),rt(S,function(t){t.is_obj=en})):(O(S)&&(S=S.get()),S=ot(S,function(t,e){return{key:e,value:t,is_obj:en}}));var t=Mt(T,S,nn),r=[],o=[];T=S,rt(t.index_changed,function(t){var e=E[t.from];e&&e.at&&e.at.index&&e.at.index.set(t.to)}),rt(t.removed,function(t){var e=t.from,n=E[e];o.push.apply(o,a[e]),ft(a,e),n&&n.at&&rt(n.at,function(t){t.destroy(!0)})}),rt(t.added,function(t){var o=t.item,s=t.to,u=o===Xe,l=!u&&(o&&o.is_obj===en?{this_exp:o.value,at:{key:Rt.constraint(o.key)}}:{this_exp:o,at:{index:Rt.constraint(s)}}),c=u?i:i.concat(l),h=u?e.else_child.children:e.children,f=ot(h,function(t){return fn(t,n,c)});a.splice(s,0,f),E.splice(s,0,l),r.push.apply(r,f)},this),rt(t.moved,function(t){var e=t.from_index,n=t.to_index,i=(mdom[e],a[e]),r=E[e];ft(a,e),a.splice(n,0,i),ft(E,e),E.splice(n,0,r)}),hn(o),ln(o),cn(r);var s=ot(a,function(t){return $(ot(t,function(t){return Qe(t)}),!0)});return $(s,!0)}}}if("if"===C||"unless"===C){o=[],a=[];var P=-1;return{type:c,onRemove:function(){hn(a)},onAdd:function(){cn(a)},pause:function(){an(a)},resume:function(){un(a)},destroy:function(){P>=0&&(a=[],P=-1),rt(o,ln)},getNodes:function(){var t,r,s=e.sub_conditions.length,u=!!Rt.get(Je(e.condition,n,i)),l=!1;if(e.reverse&&(u=!u),u)t=0,l=e.children;else if(s>0)for(t=0;t<s;t++)if((u=e.sub_conditions[t]).condition===Xe||Je(u.condition,n,i)){l=u.children,t++;break}return P!==t&&hn(a),l?(o[t]?a=o[t]:(l=0===t?e.children:e.sub_conditions[t-1].children,a=o[t]=ot(l,function(t){return fn(t,n,i)})),r=$(ot(a,Qe),!0)):r=a=[],P!==t&&cn(a),P=t,r}}}if("fsm"===C){var D={},M=!1;return a=[],{pause:function(){an(a)},resume:function(){un(a)},destroy:function(){M&&(ln(a),a=[],M=!1)},onRemove:function(){this.pause()},onAdd:function(){this.resume()},type:c,getNodes:function(){var t,r=Je(e.fsm_target,n,i).getState(),o=function(t){return fn(t,n,i)},s=[];for(t in M!==r&&hn(a),e.sub_states)if(e.sub_states.hasOwnProperty(t)&&r===t){it(D,t)||(D[t]=ot(e.sub_states[t].children,o)),a=D[t],s=$(ot(a,Qe),!0);break}return M!==r&&cn(a),M=r,s}}}if("with"===C){var R=Je(e.content,n,i),j=i.concat({this_exp:R});return o=$(ot(e.children,function(t){return fn(t,R,j)})),{pause:function(){an(o)},resume:function(){un(o)},onRemove:function(){hn(o)},onAdd:function(){cn(o)},destroy:function(){ln(o)},node:$(ot(o,Qe),!0)}}}else{if(c===qe){var L,F,z,H=e.content,W=function(){return H.type===Rn?ot(H.body,function(t){return Je(t,n,i)}):[Je(e.content,n,i)]},U=!1;if(it(dn,e.tag))L=dn[e.tag],F=L.apply(t,W()),z=kn(F);else{if(!it(pn,e.tag))throw new Error("Could not find partial with name '"+e.tag+"'");L=pn[e.tag],z=L.apply(t,W()),F=z.node,U=!0}return{node:F,pause:function(){z&&z.pause(F)},destroy:function(){U?z.destroy(F):Rt.destroyTemplate(F)},onAdd:function(){z&&z.onAdd.apply(z,[F].concat(W()))},onRemove:function(){z&&z.onRemove(F)},resume:function(){z&&z.resume(F)}}}if(c===$e)return{node:x.createComment(e.str)}}return{node:[]}},dn={},pn={},gn=function(t){return $t(t)||Vt(t)||J(t)},mn=function(t){return $t(t)||Vt(t)?t[0]:!!J(t)&&t},vn=function(t){return $t(t)||Vt(t)?et(t):t},yn=[],bn=[],_n=1,wn=function(t,e){var n=fn(this,t,[{this_exp:t}],mn(e)),i=n.node,r=n.id=_n++;return bn[r]=n,yn[r]=i,i.setAttribute("data-cjs-template-instance",r),i},xn=function(t){var e=t.getAttribute("data-cjs-template-instance");return e||(e=ct(yn,t)),e},kn=function(t){var e=xn(t);return e>=0&&bn[e]};at(Rt,{createTemplate:function(t){G(t)||(t=$t(t)||Vt(t)?t.length>0?w(e(t[0])):"":Q(t)?w(e(t)):""+t);var n=ze(t);return arguments.length>=2?wn.apply(n,H(arguments)):b(wn,n)},registerCustomPartial:function(t,e){return pn[t]=function(){return{node:mn(e.createNode.apply(this,arguments)),onAdd:function(){e.onAdd&&e.onAdd.apply(this,arguments)},onRemove:function(){e.onRemove&&e.onRemove.apply(this,arguments)},destroy:function(){e.destroyNode&&e.destroyNode.apply(this,arguments)},pause:function(){e.pause&&e.pause.apply(this,arguments)},resume:function(){e.resume&&e.resume.apply(this,arguments)}}},this},registerPartial:function(t,e){return dn[t]=e,this},unregisterPartial:function(t){return delete dn[t],delete pn[t],this},destroyTemplate:function(t){var e=xn(mn(t)),n=e>=0&&bn[e];return n&&(delete bn[e],n.destroy()),this},pauseTemplate:function(t){var e=kn(t);return e&&e.pause(),this},resumeTemplate:function(t){var e=kn(t);return e&&e.resume(),this},createParsedConstraint:function(t,e){return Rt(function(){try{var n=Xn(Rt.get(t));return n.type===Fn?n.value:Je(n,e,[e])}catch(t){console.error(t)}})}});var Cn,Sn,Tn,En,Pn,Dn,Mn,On,An,In,Nn,Rn="Compound",jn="Identifier",Ln="MemberExpression",Fn="Literal",zn="ThisExpression",Bn="CallExpression",qn="UnaryExpression",Hn="BinaryExpression",Wn="LogicalExpression",Un="ConditionalExpression",$n="ParentExpression",Yn="CurrLevelExpression",Vn=function(t,e){var n=new Error(t+" at character "+e);throw n.index=e,n.dedscription=t,n},Xn=(Sn={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},En=(Tn=function(t){var e,n=0;for(var i in t)(e=i.length)>n&&t.hasOwnProperty(i)&&(n=e);return n})(Cn={"-":!0,"!":!0,"~":!0,"+":!0}),Pn=Tn(Sn),Dn={true:!0,false:!1,null:null},Mn=function(t){return Sn[t]||0},On=function(t,e,n){return{type:"||"===t||"&&"===t?Wn:Hn,operator:t,left:e,right:n}},An=function(t){return t>=48&&t<=57},In=function(t){return 36===t||95===t||t>=65&&t<=90||64===t||t>=97&&t<=122},Nn=function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57},function(t){for(var e,n,i=0,r=t.charAt,o=t.charCodeAt,s=function(e){return r.call(t,e)},a=function(e){return o.call(t,e)},u=t.length,l=function(){for(var t=a(i);32===t||9===t;)t=a(++i)},c=function(){var t,e,n=f();return l(),63!==a(i)?n:(i++,(t=c())||Vn("Expected expression",i),l(),58===a(i)?(i++,(e=c())||Vn("Expected expression",i),{type:Un,test:n,consequent:t,alternate:e}):void Vn("Expected :",i))},h=function(){l();for(var e=t.substr(i,Pn),n=e.length;n>0;){if(Sn.hasOwnProperty(e))return i+=n,e;e=e.substr(0,--n)}return!1},f=function(){var t,e,n,r,o,s,a,u;if(s=d(),!(e=h()))return s;for(o={value:e,prec:Mn(e)},(a=d())||Vn("Expected expression after "+e,i),r=[s,o,a];(e=h())&&0!==(n=Mn(e));){for(o={value:e,prec:n};r.length>2&&n<=r[r.length-2].prec;)a=r.pop(),e=r.pop().value,s=r.pop(),t=On(e,s,a),r.push(t);(t=d())||Vn("Expected expression after "+e,i),r.push(o,t)}for(t=r[u=r.length-1];u>1;)t=On(r[u-1].value,r[u-2],t),u-=2;return t},d=function(){var e,n,r;if(l(),46===(e=a(i))&&47===t.charCodeAt(i+1))return i+=2,{type:Yn,argument:d()};if(46===e&&46===t.charCodeAt(i+1)&&47===t.charCodeAt(i+2))return i+=3,{type:$n,argument:d()};if(An(e)||46===e)return p();if(39===e||34===e)return g();if(In(e)||40===e)return y();for(r=(n=t.substr(i,En)).length;r>0;){if(Cn.hasOwnProperty(n))return i+=r,{type:qn,operator:n,argument:d(),prefix:!0};n=n.substr(0,--r)}return!1},p=function(){for(var t,e="";An(a(i));)e+=s(i++);if(46===a(i))for(e+=s(i++);An(a(i));)e+=s(i++);if("e"===(t=s(i))||"E"===t){for(e+=s(i++),"+"!==(t=s(i))&&"-"!==t||(e+=s(i++));An(a(i));)e+=s(i++);An(a(i-1))||Vn("Expected exponent ("+e+s(i)+")",i)}return In(a(i))&&Vn("Variable names cannot start with a number ("+e+s(i)+")",i),{type:Fn,value:parseFloat(e),raw:e}},g=function(){for(var t,e="",n=s(i++),r=!1;i<u;){if((t=s(i++))===n){r=!0;break}if("\\"===t)switch(t=s(i++)){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v"}else e+=t}return r||Vn('Unclosed quote after "'+e+'"',i),{type:Fn,value:e,raw:n+e+n}},m=function(){var e,n=a(i),r=i;for(In(n)?i++:Vn("Unexpected "+s(i),i);i<u&&(n=a(i),Nn(n));)i++;return e=t.slice(r,i),Dn.hasOwnProperty(e)?{type:Fn,value:Dn[e],raw:e}:"this"===e?{type:zn}:{type:jn,name:e}},v=function(t){for(var e,n,r=[];i<u;){if(l(),(e=a(i))===t){i++;break}44===e?i++:((n=c())&&n.type!==Rn||Vn("Expected comma",i),r.push(n))}return r},y=function(){var t,e;for(e=40===(t=a(i))?b():m(),l(),t=a(i);46===t||91===t||40===t;)i++,46===t?(l(),e={type:Ln,computed:!1,object:e,property:m()}):91===t?(e={type:Ln,computed:!0,object:e,property:c()},l(),93!==(t=a(i))&&Vn("Unclosed [",i),i++):40===t&&(e={type:Bn,arguments:v(41),callee:e}),l(),t=a(i);return e},b=function(){i++;var t=c();if(l(),41===a(i))return i++,t;Vn("Unclosed (",i)},_=[];i<u;)59===(e=a(i))||44===e?i++:91===e&&(i++,n={type:"Array",body:v(93)})?_.push(n):(n=c())?_.push(n):i<u&&Vn('Unexpected "'+s(i)+'"',i);return 1===_.length?_[0]:{type:Rn,body:_}});return Rt}(this);"undefined"!==typeof t&&t.exports&&(t.exports=n)},function(t,e,n){var i;!function(e,n){"use strict";"object"===typeof t&&"object"===typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!==typeof window?window:this,function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,u=o.slice,l=o.concat,c=o.push,h=o.indexOf,f={},d=f.toString,p=f.hasOwnProperty,g=p.toString,m=g.call(Object),v={},y=function(t){return"function"===typeof t&&"number"!==typeof t.nodeType},b=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,noModule:!0};function w(t,e,n){var i,r=(e=e||s).createElement("script");if(r.text=t,n)for(i in _)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function x(t){return null==t?t+"":"object"===typeof t||"function"===typeof t?f[d.call(t)]||"object":typeof t}var k=function(t,e){return new k.fn.init(t,e)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(t){var e=!!t&&"length"in t&&t.length,n=x(t);return!y(t)&&!b(t)&&("array"===n||0===e||"number"===typeof e&&e>0&&e-1 in t)}k.fn=k.prototype={jquery:"3.3.1",constructor:k,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},k.extend=k.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"===typeof s&&(l=s,s=arguments[a]||{},a++),"object"===typeof s||y(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(l&&i&&(k.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&k.isPlainObject(n)?n:{},s[e]=k.extend(l,o,i)):void 0!==i&&(s[e]=i));return s},k.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=a(t))||"function"===typeof(n=p.call(e,"constructor")&&e.constructor)&&g.call(n)===m)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){w(t)},each:function(t,e){var n,i=0;if(S(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(C,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(S(Object(t))?k.merge(n,"string"===typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(S(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return l.apply([],s)},guid:1,support:v}),"function"===typeof Symbol&&(k.fn[Symbol.iterator]=o[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){f["[object "+e+"]"]=e.toLowerCase()});var T=function(t){var e,n,i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,b,_="sizzle"+1*new Date,w=t.document,x=0,k=0,C=st(),S=st(),T=st(),E=function(t,e){return t===e&&(h=!0),0},P={}.hasOwnProperty,D=[],M=D.pop,O=D.push,A=D.push,I=D.slice,N=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+j+"*("+L+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+j+"*\\]",z=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",B=new RegExp(j+"+","g"),q=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),H=new RegExp("^"+j+"*,"+j+"*"),W=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),U=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),$=new RegExp(z),Y=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){f()},rt=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{A.apply(D=I.call(w.childNodes),w.childNodes),D[w.childNodes.length].nodeType}catch(t){A={apply:D.length?function(t,e){O.apply(t,I.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,a,l,c,h,p,v,y=e&&e.ownerDocument,x=e?e.nodeType:9;if(i=i||[],"string"!==typeof t||!t||1!==x&&9!==x&&11!==x)return i;if(!r&&((e?e.ownerDocument||e:w)!==d&&f(e),e=e||d,g)){if(11!==x&&(h=Q.exec(t)))if(o=h[1]){if(9===x){if(!(l=e.getElementById(o)))return i;if(l.id===o)return i.push(l),i}else if(y&&(l=y.getElementById(o))&&b(e,l)&&l.id===o)return i.push(l),i}else{if(h[2])return A.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return A.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!T[t+" "]&&(!m||!m.test(t))){if(1!==x)y=e,v=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,nt):e.setAttribute("id",c=_),a=(p=s(t)).length;a--;)p[a]="#"+c+" "+vt(p[a]);v=p.join(","),y=J.test(t)&&gt(e.parentNode)||e}if(v)try{return A.apply(i,y.querySelectorAll(v)),i}catch(t){}finally{c===_&&e.removeAttribute("id")}}}return u(t.replace(q,"$1"),e,i,r)}function st(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function at(t){return t[_]=!0,t}function ut(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return at(function(e){return e=+e,at(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function gt(t){return t&&"undefined"!==typeof t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=ot.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:w;return s!==d&&9===s.nodeType&&s.documentElement?(p=(d=s).documentElement,g=!o(d),w!==d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(d.getElementsByClassName),n.getById=ut(function(t){return p.appendChild(t).id=_,!d.getElementsByName||!d.getElementsByName(_).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if("undefined"!==typeof e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){var n="undefined"!==typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if("undefined"!==typeof e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return"undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if("undefined"!==typeof e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=K.test(d.querySelectorAll))&&(ut(function(t){p.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+_+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||m.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=K.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",z)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=K.test(p.compareDocumentPosition),b=e||K.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===d||t.ownerDocument===w&&b(w,t)?-1:e===d||e.ownerDocument===w&&b(w,e)?1:c?N(c,t)-N(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===d?-1:e===d?1:r?-1:o?1:c?N(c,t)-N(c,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ct(s[i],a[i]):s[i]===w?-1:a[i]===w?1:0},d):d},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&f(t),e=e.replace(U,"='$1']"),n.matchesSelector&&g&&!T[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,d,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==d&&f(t),b(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==d&&f(t);var r=i.attrHandle[e.toLowerCase()],o=r&&P.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(E),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"===typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:at,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Z,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Z,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return V.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&$.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Z,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+j+")"+t+"("+j+"|$)"))&&C(t,function(t){return e.test("string"===typeof t.className&&t.className||"undefined"!==typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(B," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,d,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!u&&!a,b=!1;if(m){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(b=(d=(l=(c=(h=(f=m)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===x&&l[1])&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===e){c[t]=[x,d,b];break}}else if(y&&(b=d=(l=(c=(h=(f=e)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===x&&l[1]),!1===b)for(;(f=++d&&f&&f[g]||(b=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((c=(h=f[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[x,b]),f!==e)););return(b-=r)===i||b%i===0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[_]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=N(t,o[s])]=!(n[i]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:at(function(t){var e=[],n=[],i=a(t.replace(q,"$1"));return i[_]?at(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return ot(t,e).length>0}}),contains:at(function(t){return t=t.replace(Z,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:at(function(t){return Y.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Z,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return G.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:pt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:pt(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:pt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ft(e);function mt(){}function vt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function yt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=k++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,u){var l,c,h,f=[x,a];if(u){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=c[o])&&l[0]===x&&l[1]===a)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,u))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function _t(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),l&&e.push(a)));return s}function wt(t,e,n,i,r,o){return i&&!i[_]&&(i=wt(i)),r&&!r[_]&&(r=wt(r,o)),at(function(o,s,a,u){var l,c,h,f=[],d=[],p=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?g:_t(g,f,t,a,u),v=n?r||(o?t:p||i)?[]:s:m;if(n&&n(m,v,a,u),i)for(l=_t(v,d),i(l,[],a,u),c=l.length;c--;)(h=l[c])&&(v[d[c]]=!(m[d[c]]=h));if(o){if(r||t){if(r){for(l=[],c=v.length;c--;)(h=v[c])&&l.push(m[c]=h);r(null,v=[],l,u)}for(c=v.length;c--;)(h=v[c])&&(l=r?N(o,h):f[c])>-1&&(o[l]=!(s[l]=h))}}else v=_t(v===s?v.splice(p,v.length):v),r?r(null,s,v,u):A.apply(s,v)})}function xt(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],u=s?1:0,c=yt(function(t){return t===e},a,!0),h=yt(function(t){return N(e,t)>-1},a,!0),f=[function(t,n,i){var r=!s&&(i||n!==l)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];u<o;u++)if(n=i.relative[t[u].type])f=[yt(bt(f),n)];else{if((n=i.filter[t[u].type].apply(null,t[u].matches))[_]){for(r=++u;r<o&&!i.relative[t[r].type];r++);return wt(u>1&&bt(f),u>1&&vt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(q,"$1"),n,u<r&&xt(t.slice(u,r)),r<o&&xt(t=t.slice(r)),r<o&&vt(t))}f.push(n)}return bt(f)}return mt.prototype=i.filters=i.pseudos,i.setFilters=new mt,s=ot.tokenize=function(t,e){var n,r,o,s,a,u,l,c=S[t+" "];if(c)return e?0:c.slice(0);for(a=t,u=[],l=i.preFilter;a;){for(s in n&&!(r=H.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=W.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(q," ")}),a=a.slice(n.length)),i.filter)!(r=V[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):S(t,u).slice(0)},a=ot.compile=function(t,e){var n,r=[],o=[],a=T[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=xt(e[n]))[_]?r.push(a):o.push(a);(a=T(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,u,c){var h,p,m,v=0,y="0",b=o&&[],_=[],w=l,k=o||r&&i.find.TAG("*",c),C=x+=null==w?1:Math.random()||.1,S=k.length;for(c&&(l=s===d||s||c);y!==S&&null!=(h=k[y]);y++){if(r&&h){for(p=0,s||h.ownerDocument===d||(f(h),a=!g);m=t[p++];)if(m(h,s||d,a)){u.push(h);break}c&&(x=C)}n&&((h=!m&&h)&&v--,o&&b.push(h))}if(v+=y,n&&y!==v){for(p=0;m=e[p++];)m(b,_,s,a);if(o){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=M.call(u));_=_t(_)}A.apply(u,_),c&&!o&&_.length>0&&v+e.length>1&&ot.uniqueSort(u)}return c&&(x=C,l=w),b};return n?at(o):o}(o,r))).selector=t}return a},u=ot.select=function(t,e,n,r){var o,u,l,c,h,f="function"===typeof t&&t,d=!r&&s(t=f.selector||t);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&g&&i.relative[u[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(Z,tt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=V.needsContext.test(t)?0:u.length;o--&&(l=u[o],!i.relative[c=l.type]);)if((h=i.find[c])&&(r=h(l.matches[0].replace(Z,tt),J.test(u[0].type)&&gt(e.parentNode)||e))){if(u.splice(o,1),!(t=r.length&&vt(u)))return A.apply(n,r),n;break}}return(f||a(t,d))(r,e,!g,n,!e||J.test(t)&&gt(e.parentNode)||e),n},n.sortStable=_.split("").sort(E).join("")===_,n.detectDuplicates=!!h,f(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||lt(R,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(n);k.find=T,k.expr=T.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=T.uniqueSort,k.text=T.getText,k.isXMLDoc=T.isXML,k.contains=T.contains,k.escapeSelector=T.escape;var E=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&k(t).is(n))break;i.push(t)}return i},P=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},D=k.expr.match.needsContext;function M(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(t,e,n){return y(e)?k.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?k.grep(t,function(t){return t===e!==n}):"string"!==typeof e?k.grep(t,function(t){return h.call(e,t)>-1!==n}):k.filter(e,t,n)}k.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?k.find.matchesSelector(i,t)?[i]:[]:k.find.matches(t,k.grep(e,function(t){return 1===t.nodeType}))},k.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!==typeof t)return this.pushStack(k(t).filter(function(){for(e=0;e<i;e++)if(k.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)k.find(t,r[e],n);return i>1?k.uniqueSort(n):n},filter:function(t){return this.pushStack(A(this,t||[],!1))},not:function(t){return this.pushStack(A(this,t||[],!0))},is:function(t){return!!A(this,"string"===typeof t&&D.test(t)?k(t):t||[],!1).length}});var I,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||I,"string"===typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:N.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),O.test(i[1])&&k.isPlainObject(e))for(i in e)y(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(k):k.makeArray(t,this)}).prototype=k.fn,I=k(s);var R=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(k.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!==typeof t&&k(t);if(!D.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(t){return t?"string"===typeof t?h.call(k(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,n){return E(t,"parentNode",n)},next:function(t){return L(t,"nextSibling")},prev:function(t){return L(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,n){return E(t,"nextSibling",n)},prevUntil:function(t,e,n){return E(t,"previousSibling",n)},siblings:function(t){return P((t.parentNode||{}).firstChild,t)},children:function(t){return P(t.firstChild)},contents:function(t){return M(t,"iframe")?t.contentDocument:(M(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},function(t,e){k.fn[t]=function(n,i){var r=k.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"===typeof i&&(r=k.filter(i,r)),this.length>1&&(j[t]||k.uniqueSort(r),R.test(t)&&r.reverse()),this.pushStack(r)}});var F=/[^\x20\t\r\n\f]+/g;function z(t){return t}function B(t){throw t}function q(t,e,n,i){var r;try{t&&y(r=t.promise)?r.call(t).done(e).fail(n):t&&y(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}k.Callbacks=function(t){t="string"===typeof t?function(t){var e={};return k.each(t.match(F)||[],function(t,n){e[n]=!0}),e}(t):k.extend({},t);var e,n,i,r,o=[],s=[],a=-1,u=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){k.each(n,function(n,i){y(i)?t.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==x(i)&&e(i)})}(arguments),n&&!e&&u()),this},remove:function(){return k.each(arguments,function(t,e){for(var n;(n=k.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?k.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},k.extend({Deferred:function(t){var e=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return k.Deferred(function(n){k.each(e,function(e,i){var r=y(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function s(t,e,i,r){return function(){var a=this,u=arguments,l=function(){var n,l;if(!(t<o)){if((n=i.apply(a,u))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"===typeof n||"function"===typeof n)&&n.then,y(l)?r?l.call(n,s(o,e,z,r),s(o,e,B,r)):(o++,l.call(n,s(o,e,z,r),s(o,e,B,r),s(o,e,z,e.notifyWith))):(i!==z&&(a=void 0,u=[n]),(r||e.resolveWith)(a,u))}},c=r?l:function(){try{l()}catch(n){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==B&&(a=void 0,u=[n]),e.rejectWith(a,u))}};t?c():(k.Deferred.getStackHook&&(c.stackTrace=k.Deferred.getStackHook()),n.setTimeout(c))}}return k.Deferred(function(n){e[0][3].add(s(0,n,y(r)?r:z,n.notifyWith)),e[1][3].add(s(0,n,y(t)?t:z)),e[2][3].add(s(0,n,y(i)?i:B))}).promise()},promise:function(t){return null!=t?k.extend(t,r):r}},o={};return k.each(e,function(t,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add(function(){i=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=u.call(arguments),o=k.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(q(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)q(r[n],s(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&H.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},k.readyException=function(t){n.setTimeout(function(){throw t})};var W=k.Deferred();function U(){s.removeEventListener("DOMContentLoaded",U),n.removeEventListener("load",U),k.ready()}k.fn.ready=function(t){return W.then(t).catch(function(t){k.readyException(t)}),this},k.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==t&&--k.readyWait>0||W.resolveWith(s,[k]))}}),k.ready.then=W.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(k.ready):(s.addEventListener("DOMContentLoaded",U),n.addEventListener("load",U));var $=function(t,e,n,i,r,o,s){var a=0,u=t.length,l=null==n;if("object"===x(n))for(a in r=!0,n)$(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,y(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(k(t),n)})),e))for(;a<u;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):u?e(t[0],n):o},Y=/^-ms-/,V=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function G(t){return t.replace(Y,"ms-").replace(V,X)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Q(){this.expando=k.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"===typeof e)r[G(e)]=n;else for(i in e)r[G(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,n){return void 0===e||e&&"string"===typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(G):(e=G(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||k.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var J=new Q,Z=new Q,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"===typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Z.set(t,e,n)}else n=void 0;return n}k.extend({hasData:function(t){return Z.hasData(t)||J.hasData(t)},data:function(t,e,n){return Z.access(t,e,n)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),k.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Z.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=G(i.slice(5)),nt(o,i,r[i]));J.set(o,"hasDataAttrs",!0)}return r}return"object"===typeof t?this.each(function(){Z.set(this,t)}):$(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=Z.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){Z.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Z.remove(this,t)})}}),k.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),n&&(!i||Array.isArray(n)?i=J.access(t,e,k.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=k.queue(t,e),i=n.length,r=n.shift(),o=k._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){k.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:k.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),k.fn.extend({queue:function(t,e){var n=2;return"string"!==typeof t&&(e=t,t="fx",n--),arguments.length<n?k.queue(this[0],t):void 0===e?this:this.each(function(){var n=k.queue(this,t,e);k._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&k.dequeue(this,t)})},dequeue:function(t){return this.each(function(){k.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=k.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!==typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=J.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&k.contains(t.ownerDocument,t)&&"none"===k.css(t,"display")},at=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};function ut(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return k.css(t,e,"")},u=a(),l=n&&n[3]||(k.cssNumber[e]?"":"px"),c=(k.cssNumber[e]||"px"!==l&&+u)&&rt.exec(k.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;s--;)k.style(t,e,c+l),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),c/=o;c*=2,k.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}var lt={};function ct(t){var e,n=t.ownerDocument,i=t.nodeName,r=lt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=k.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),lt[i]=r,r)}function ht(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=J.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&st(i)&&(r[o]=ct(i))):"none"!==n&&(r[o]="none",J.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}k.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"===typeof t?t?this.show():this.hide():this.each(function(){st(this)?k(this).show():k(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,pt=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var n;return n="undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!==typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&M(t,e)?k.merge([t],n):n}function vt(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var yt,bt,_t=/<|&#?\w+;/;function wt(t,e,n,i,r){for(var o,s,a,u,l,c,h=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===x(o))k.merge(f,o.nodeType?[o]:o);else if(_t.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(dt.exec(o)||["",""])[1].toLowerCase(),u=gt[a]||gt._default,s.innerHTML=u[1]+k.htmlPrefilter(o)+u[2],c=u[0];c--;)s=s.lastChild;k.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(i&&k.inArray(o,i)>-1)r&&r.push(o);else if(l=k.contains(o.ownerDocument,o),s=mt(h.appendChild(o),"script"),l&&vt(s),n)for(c=0;o=s[c++];)pt.test(o.type||"")&&n.push(o);return h}yt=s.createDocumentFragment().appendChild(s.createElement("div")),(bt=s.createElement("input")).setAttribute("type","radio"),bt.setAttribute("checked","checked"),bt.setAttribute("name","t"),yt.appendChild(bt),v.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var xt=s.documentElement,kt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,St=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function Et(){return!1}function Pt(){try{return s.activeElement}catch(t){}}function Dt(t,e,n,i,r,o){var s,a;if("object"===typeof e){for(a in"string"!==typeof n&&(i=i||n,n=void 0),e)Dt(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"===typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Et;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return k().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=k.guid++)),t.each(function(){k.event.add(this,e,r,i,n)})}k.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,d,p,g,m=J.get(t);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&k.find.matchesSelector(xt,r),n.guid||(n.guid=k.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(e){return"undefined"!==typeof k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(F)||[""]).length;l--;)d=g=(a=St.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),d&&(h=k.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=k.event.special[d]||{},c=k.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=u[d])||((f=u[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(d,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),k.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,d,p,g,m=J.hasData(t)&&J.get(t);if(m&&(u=m.events)){for(l=(e=(e||"").match(F)||[""]).length;l--;)if(d=g=(a=St.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),d){for(h=k.event.special[d]||{},f=u[d=(i?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||k.removeEvent(t,d,m.handle),delete u[d])}else for(d in u)k.event.remove(t,d+e[l],n,i,!0);k.isEmptyObject(u)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=k.event.fix(t),u=new Array(arguments.length),l=(J.get(this,"events")||{})[a.type]||[],c=k.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=k.event.handlers.call(this,a,l),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((k.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?k(r,this).index(l)>-1:k.find(r,this,null,[l]).length),s[r]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return l=this,u<e.length&&a.push({elem:l,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Pt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Pt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&M(this,"input"))return this.click(),!1},_default:function(t){return M(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:Et,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Et,isPropagationStopped:Et,isImmediatePropagationStopped:Et,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},k.event.addProp),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){k.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||k.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),k.fn.extend({on:function(t,e,n,i){return Dt(this,t,e,n,i)},one:function(t,e,n,i){return Dt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,k(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"===typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!==typeof e||(n=e,e=void 0),!1===n&&(n=Et),this.each(function(){k.event.remove(this,t,n,e)})}});var Mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ot=/<script|<style|<link/i,At=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Nt(t,e){return M(t,"table")&&M(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function Rt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function jt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Lt(t,e){var n,i,r,o,s,a,u,l;if(1===e.nodeType){if(J.hasData(t)&&(o=J.access(t),s=J.set(e,o),l=o.events))for(r in delete s.handle,s.events={},l)for(n=0,i=l[r].length;n<i;n++)k.event.add(e,r,l[r][n]);Z.hasData(t)&&(a=Z.access(t),u=k.extend({},a),Z.set(e,u))}}function Ft(t,e,n,i){e=l.apply([],e);var r,o,s,a,u,c,h=0,f=t.length,d=f-1,p=e[0],g=y(p);if(g||f>1&&"string"===typeof p&&!v.checkClone&&At.test(p))return t.each(function(r){var o=t.eq(r);g&&(e[0]=p.call(this,r,o.html())),Ft(o,e,n,i)});if(f&&(o=(r=wt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=k.map(mt(r,"script"),Rt)).length;h<f;h++)u=r,h!==d&&(u=k.clone(u,!0,!0),a&&k.merge(s,mt(u,"script"))),n.call(t[h],u,h);if(a)for(c=s[s.length-1].ownerDocument,k.map(s,jt),h=0;h<a;h++)u=s[h],pt.test(u.type||"")&&!J.access(u,"globalEval")&&k.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?k._evalUrl&&k._evalUrl(u.src):w(u.textContent.replace(It,""),c,u))}return t}function zt(t,e,n){for(var i,r=e?k.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||k.cleanData(mt(i)),i.parentNode&&(n&&k.contains(i.ownerDocument,i)&&vt(mt(i,"script")),i.parentNode.removeChild(i));return t}k.extend({htmlPrefilter:function(t){return t.replace(Mt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,u,l,c=t.cloneNode(!0),h=k.contains(t.ownerDocument,t);if(!v.noCloneChecked&&(1===t.nodeType||11===t.nodeType)&&!k.isXMLDoc(t))for(s=mt(c),i=0,r=(o=mt(t)).length;i<r;i++)a=o[i],u=s[i],void 0,"input"===(l=u.nodeName.toLowerCase())&&ft.test(a.type)?u.checked=a.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=a.defaultValue);if(e)if(n)for(o=o||mt(t),s=s||mt(c),i=0,r=o.length;i<r;i++)Lt(o[i],s[i]);else Lt(t,c);return(s=mt(c,"script")).length>0&&vt(s,!h&&mt(t,"script")),c},cleanData:function(t){for(var e,n,i,r=k.event.special,o=0;void 0!==(n=t[o]);o++)if(K(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)r[i]?k.event.remove(n,i):k.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),k.fn.extend({detach:function(t){return zt(this,t,!0)},remove:function(t){return zt(this,t)},text:function(t){return $(this,function(t){return void 0===t?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ft(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Nt(this,t).appendChild(t)})},prepend:function(){return Ft(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Nt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ft(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ft(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return k.clone(this,t,e)})},html:function(t){return $(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"===typeof t&&!Ot.test(t)&&!gt[(dt.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(k.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Ft(this,arguments,function(e){var n=this.parentNode;k.inArray(this,t)<0&&(k.cleanData(mt(this)),n&&n.replaceChild(e,this))},t)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){k.fn[t]=function(t){for(var n,i=[],r=k(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),k(r[s])[e](n),c.apply(i,n.get());return this.pushStack(i)}});var Bt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),qt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ht=new RegExp(ot.join("|"),"i");function Wt(t,e,n){var i,r,o,s,a=t.style;return(n=n||qt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||k.contains(t.ownerDocument,t)||(s=k.style(t,e)),!v.pixelBoxStyles()&&Bt.test(s)&&Ht.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Ut(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xt.appendChild(l).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,u=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",xt.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,u,l=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,k.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var $t=/^(none|table(?!-c[ea]).+)/,Yt=/^--/,Vt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Gt=["Webkit","Moz","ms"],Kt=s.createElement("div").style;function Qt(t){var e=k.cssProps[t];return e||(e=k.cssProps[t]=function(t){if(t in Kt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Gt.length;n--;)if((t=Gt[n]+e)in Kt)return t}(t)||t),e}function Jt(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Zt(t,e,n,i,r,o){var s="width"===e?1:0,a=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=k.css(t,n+ot[s],!0,r)),i?("content"===n&&(u-=k.css(t,"padding"+ot[s],!0,r)),"margin"!==n&&(u-=k.css(t,"border"+ot[s]+"Width",!0,r))):(u+=k.css(t,"padding"+ot[s],!0,r),"padding"!==n?u+=k.css(t,"border"+ot[s]+"Width",!0,r):a+=k.css(t,"border"+ot[s]+"Width",!0,r));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))),u}function te(t,e,n){var i=qt(t),r=Wt(t,e,i),o="border-box"===k.css(t,"boxSizing",!1,i),s=o;if(Bt.test(r)){if(!n)return r;r="auto"}return s=s&&(v.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===k.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(r=parseFloat(r)||0)+Zt(t,e,n||(o?"border":"content"),s,i,r)+"px"}function ee(t,e,n,i,r){return new ee.prototype.init(t,e,n,i,r)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Wt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=G(e),u=Yt.test(e),l=t.style;if(u||(e=Qt(a)),s=k.cssHooks[e]||k.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ut(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(k.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var r,o,s,a=G(e);return Yt.test(e)||(e=Qt(a)),(s=k.cssHooks[e]||k.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Wt(t,e,i)),"normal"===r&&e in Xt&&(r=Xt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),k.each(["height","width"],function(t,e){k.cssHooks[e]={get:function(t,n,i){if(n)return!$t.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,i):at(t,Vt,function(){return te(t,e,i)})},set:function(t,n,i){var r,o=qt(t),s="border-box"===k.css(t,"boxSizing",!1,o),a=i&&Zt(t,e,i,s,o);return s&&v.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Zt(t,e,"border",!1,o)-.5)),a&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=k.css(t,e)),Jt(0,n,a)}}}),k.cssHooks.marginLeft=Ut(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-at(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(t,e){k.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"===typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(k.cssHooks[t+e].set=Jt)}),k.fn.extend({css:function(t,e){return $(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=qt(t),r=e.length;s<r;s++)o[e[s]]=k.css(t,e[s],!1,i);return o}return void 0!==n?k.style(t,e,n):k.css(t,e)},t,e,arguments.length>1)}}),k.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[k.cssProps[t.prop]]&&!k.cssHooks[t.prop]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},k.fx=ee.prototype.init,k.fx.step={};var ne,ie,re=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function se(){ie&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(se):n.setTimeout(se,k.fx.interval),k.fx.tick())}function ae(){return n.setTimeout(function(){ne=void 0}),ne=Date.now()}function ue(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function le(t,e,n){for(var i,r=(ce.tweeners[e]||[]).concat(ce.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function ce(t,e,n){var i,r,o=0,s=ce.prefilters.length,a=k.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=ne||ae(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(i);return a.notifyWith(t,[l,i,n]),i<1&&s?n:(s||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||ae(),duration:n.duration,tweens:[],createTween:function(e,n){var i=k.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=G(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=k.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,l.opts.specialEasing);o<s;o++)if(i=ce.prefilters[o].call(l,t,c,l.opts))return y(i.stop)&&(k._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return k.map(c,le,l),y(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),k.fx.timer(k.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}k.Animation=k.extend(ce,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(F);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ce.tweeners[n]=ce.tweeners[n]||[],ce.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,u,l,c,h="width"in e||"height"in e,f=this,d={},p=t.style,g=t.nodeType&&st(t),m=J.get(t,"fxshow");for(i in n.queue||(null==(s=k._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,k.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],re.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}d[i]=m&&m[i]||k.style(t,i)}if((u=!k.isEmptyObject(e))||!k.isEmptyObject(d))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=m&&m.display)&&(l=J.get(t,"display")),"none"===(c=k.css(t,"display"))&&(l?c=l:(ht([t],!0),l=t.style.display||l,c=k.css(t,"display"),ht([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===k.css(t,"float")&&(u||(f.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,d)u||(m?"hidden"in m&&(g=m.hidden):m=J.access(t,"fxshow",{display:l}),o&&(m.hidden=!g),g&&ht([t],!0),f.done(function(){for(i in g||ht([t]),J.remove(t,"fxshow"),d)k.style(t,i,d[i])})),u=le(g?m[i]:0,i,f),i in m||(m[i]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?ce.prefilters.unshift(t):ce.prefilters.push(t)}}),k.speed=function(t,e,n){var i=t&&"object"===typeof t?k.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return k.fx.off?i.duration=0:"number"!==typeof i.duration&&(i.duration in k.fx.speeds?i.duration=k.fx.speeds[i.duration]:i.duration=k.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&k.dequeue(this,i.queue)},i},k.fn.extend({fadeTo:function(t,e,n,i){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=k.isEmptyObject(t),o=k.speed(e,n,i),s=function(){var e=ce(this,k.extend({},t),o);(r||J.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!==typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=k.timers,s=J.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&oe.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||k.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=k.timers,s=i?i.length:0;for(n.finish=!0,k.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),k.each(["toggle","show","hide"],function(t,e){var n=k.fn[e];k.fn[e]=function(t,i,r){return null==t||"boolean"===typeof t?n.apply(this,arguments):this.animate(ue(e,!0),t,i,r)}}),k.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){k.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),k.timers=[],k.fx.tick=function(){var t,e=0,n=k.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||k.fx.stop(),ne=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ie||(ie=!0,se())},k.fx.stop=function(){ie=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(t,e){return t=k.fx&&k.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var he,fe=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return $(this,k.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){k.removeAttr(this,t)})}}),k.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"===typeof t.getAttribute?k.prop(t,e,n):(1===o&&k.isXMLDoc(t)||(r=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void k.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=k.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&M(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(F);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?k.removeAttr(t,n):t.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(t,e){var n=fe[e]||k.find.attr;fe[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=fe[s],fe[s]=r,r=null!=n(t,e,i)?s:null,fe[s]=o),r}});var de=/^(?:input|select|textarea|button)$/i,pe=/^(?:a|area)$/i;function ge(t){return(t.match(F)||[]).join(" ")}function me(t){return t.getAttribute&&t.getAttribute("class")||""}function ve(t){return Array.isArray(t)?t:"string"===typeof t&&t.match(F)||[]}k.fn.extend({prop:function(t,e){return $(this,k.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[k.propFix[t]||t]})}}),k.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(t)||(e=k.propFix[e]||e,r=k.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):de.test(t.nodeName)||pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(y(t))return this.each(function(e){k(this).addClass(t.call(this,e,me(this)))});if((e=ve(t)).length)for(;n=this[u++];)if(r=me(n),i=1===n.nodeType&&" "+ge(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=ge(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(y(t))return this.each(function(e){k(this).removeClass(t.call(this,e,me(this)))});if(!arguments.length)return this.attr("class","");if((e=ve(t)).length)for(;n=this[u++];)if(r=me(n),i=1===n.nodeType&&" "+ge(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=ge(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"===typeof e&&i?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){k(this).toggleClass(t.call(this,n,me(this),e),e)}):this.each(function(){var e,r,o,s;if(i)for(r=0,o=k(this),s=ve(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=me(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ge(me(n))+" ").indexOf(e)>-1)return!0;return!1}});var ye=/\r/g;k.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=y(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,k(this).val()):t)?r="":"number"===typeof r?r+="":Array.isArray(r)&&(r=k.map(r,function(t){return null==t?"":t+""})),(e=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=k.valHooks[r.type]||k.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"===typeof(n=r.value)?n.replace(ye,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:ge(k.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:r.length;for(i=o<0?u:s?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!M(n.parentNode,"optgroup"))){if(e=k(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=k.makeArray(e),s=r.length;s--;)((i=r[s]).selected=k.inArray(k.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=k.inArray(k(t).val(),e)>-1}},v.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in n;var be=/^(?:focusinfocus|focusoutblur)$/,_e=function(t){t.stopPropagation()};k.extend(k.event,{trigger:function(t,e,i,r){var o,a,u,l,c,h,f,d,g=[i||s],m=p.call(t,"type")?t.type:t,v=p.call(t,"namespace")?t.namespace.split("."):[];if(a=d=u=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!be.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[k.expando]?t:new k.Event(m,"object"===typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:k.makeArray(e,[t]),f=k.event.special[m]||{},r||!f.trigger||!1!==f.trigger.apply(i,e))){if(!r&&!f.noBubble&&!b(i)){for(l=f.delegateType||m,be.test(l+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),u=a;u===(i.ownerDocument||s)&&g.push(u.defaultView||u.parentWindow||n)}for(o=0;(a=g[o++])&&!t.isPropagationStopped();)d=a,t.type=o>1?l:f.bindType||m,(h=(J.get(a,"events")||{})[t.type]&&J.get(a,"handle"))&&h.apply(a,e),(h=c&&a[c])&&h.apply&&K(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),e)||!K(i)||c&&y(i[m])&&!b(i)&&((u=i[c])&&(i[c]=null),k.event.triggered=m,t.isPropagationStopped()&&d.addEventListener(m,_e),i[m](),t.isPropagationStopped()&&d.removeEventListener(m,_e),k.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(t,e,n){var i=k.extend(new k.Event,n,{type:t,isSimulated:!0});k.event.trigger(i,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each(function(){k.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return k.event.trigger(t,e,n,!0)}}),v.focusin||k.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){k.event.simulate(e,t.target,k.event.fix(t))};k.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=J.access(i,e);r||i.addEventListener(t,n,!0),J.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=J.access(i,e)-1;r?J.access(i,e,r):(i.removeEventListener(t,n,!0),J.remove(i,e))}}});var we=n.location,xe=Date.now(),ke=/\?/;k.parseXML=function(t){var e;if(!t||"string"!==typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+t),e};var Ce=/\[\]$/,Se=/\r?\n/g,Te=/^(?:submit|button|image|reset|file)$/i,Ee=/^(?:input|select|textarea|keygen)/i;function Pe(t,e,n,i){var r;if(Array.isArray(e))k.each(e,function(e,r){n||Ce.test(t)?i(t,r):Pe(t+"["+("object"===typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==x(e))i(t,e);else for(r in e)Pe(t+"["+r+"]",e[r],n,i)}k.param=function(t,e){var n,i=[],r=function(t,e){var n=y(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,function(){r(this.name,this.value)});else for(n in t)Pe(n,t[n],e,r);return i.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&Ee.test(this.nodeName)&&!Te.test(t)&&(this.checked||!ft.test(t))}).map(function(t,e){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:n.replace(Se,"\r\n")}}).get()}});var De=/%20/g,Me=/#.*$/,Oe=/([?&])_=[^&]*/,Ae=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ie=/^(?:GET|HEAD)$/,Ne=/^\/\//,Re={},je={},Le="*/".concat("*"),Fe=s.createElement("a");function ze(t){return function(e,n){"string"!==typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(F)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Be(t,e,n,i){var r={},o=t===je;function s(a){var u;return r[a]=!0,k.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!==typeof l||o||r[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),s(l),!1)}),u}return s(e.dataTypes[0])||!r["*"]&&s("*")}function qe(t,e){var n,i,r=k.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&k.extend(!0,t,i),t}Fe.href=we.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Le,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?qe(qe(t,k.ajaxSettings),e):qe(k.ajaxSettings,t)},ajaxPrefilter:ze(Re),ajaxTransport:ze(je),ajax:function(t,e){"object"===typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,u,l,c,h,f,d,p=k.ajaxSetup({},e),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?k(g):k.event,v=k.Deferred(),y=k.Callbacks("once memory"),b=p.statusCode||{},_={},w={},x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Ae.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)C.always(t[C.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||x;return i&&i.abort(e),S(0,e),this}};if(v.promise(C),p.url=((t||p.url||we.href)+"").replace(Ne,we.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(F)||[""],null==p.crossDomain){l=s.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Fe.protocol+"//"+Fe.host!==l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!==typeof p.data&&(p.data=k.param(p.data,p.traditional)),Be(Re,p,e,C),c)return C;for(f in(h=k.event&&p.global)&&0===k.active++&&k.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ie.test(p.type),r=p.url.replace(Me,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(De,"+")):(d=p.url.slice(r.length),p.data&&(p.processData||"string"===typeof p.data)&&(r+=(ke.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Oe,"$1"),d=(ke.test(r)?"&":"?")+"_="+xe+++d),p.url=r+d),p.ifModified&&(k.lastModified[r]&&C.setRequestHeader("If-Modified-Since",k.lastModified[r]),k.etag[r]&&C.setRequestHeader("If-None-Match",k.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Le+"; q=0.01":""):p.accepts["*"]),p.headers)C.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(g,C,p)||c))return C.abort();if(x="abort",y.add(p.complete),C.done(p.success),C.fail(p.error),i=Be(je,p,e,C)){if(C.readyState=1,h&&m.trigger("ajaxSend",[C,p]),c)return C;p.async&&p.timeout>0&&(u=n.setTimeout(function(){C.abort("timeout")},p.timeout));try{c=!1,i.send(_,S)}catch(t){if(c)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,e,s,a){var l,f,d,_,w,x=e;c||(c=!0,u&&n.clearTimeout(u),i=void 0,o=a||"",C.readyState=t>0?4:0,l=t>=200&&t<300||304===t,s&&(_=function(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,C,s)),_=function(t,e,n,i){var r,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(r in l)if((a=r.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(p,_,C,l),l?(p.ifModified&&((w=C.getResponseHeader("Last-Modified"))&&(k.lastModified[r]=w),(w=C.getResponseHeader("etag"))&&(k.etag[r]=w)),204===t||"HEAD"===p.type?x="nocontent":304===t?x="notmodified":(x=_.state,f=_.data,l=!(d=_.error))):(d=x,!t&&x||(x="error",t<0&&(t=0))),C.status=t,C.statusText=(e||x)+"",l?v.resolveWith(g,[f,x,C]):v.rejectWith(g,[C,x,d]),C.statusCode(b),b=void 0,h&&m.trigger(l?"ajaxSuccess":"ajaxError",[C,p,l?f:d]),y.fireWith(g,[C,x]),h&&(m.trigger("ajaxComplete",[C,p]),--k.active||k.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,n){return k.get(t,e,n,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],function(t,e){k[e]=function(t,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),k.ajax(k.extend({url:t,type:e,dataType:r,data:n,success:i},k.isPlainObject(t)&&t))}}),k._evalUrl=function(t){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){k(this).wrapInner(t.call(this,e))}):this.each(function(){var e=k(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){k(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var He={0:200,1223:204},We=k.ajaxSettings.xhr();v.cors=!!We&&"withCredentials"in We,v.ajax=We=!!We,k.ajaxTransport(function(t){var e,i;if(v.cors||We&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!==typeof a.status?o(0,"error"):o(a.status,a.statusText):o(He[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!==typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),k.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),k.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=k("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ue,$e=[],Ye=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||k.expando+"_"+xe++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,s,a=!1!==t.jsonp&&(Ye.test(t.url)?"url":"string"===typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ye,"$1"+r):!1!==t.jsonp&&(t.url+=(ke.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||k.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?k(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,$e.push(r)),s&&y(o)&&o(s[0]),s=o=void 0}),"script"}),v.createHTMLDocument=((Ue=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ue.childNodes.length),k.parseHTML=function(t,e,n){return"string"!==typeof t?[]:("boolean"===typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((i=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(i)):e=s),r=O.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=wt([t],e,o),o&&o.length&&k(o).remove(),k.merge([],r.childNodes)));var i,r,o},k.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),y(e)?(n=e,e=void 0):e&&"object"===typeof e&&(r="POST"),s.length>0&&k.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?k("<div>").append(k.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){k.fn[e]=function(t){return this.on(e,t)}}),k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,l=k.css(t,"position"),c=k(t),h={};"static"===l&&(t.style.position="relative"),a=c.offset(),o=k.css(t,"top"),u=k.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),y(e)&&(e=e.call(t,n,k.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===k.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===k.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=k(t).offset()).top+=k.css(t,"borderTopWidth",!0),r.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-k.css(i,"marginTop",!0),left:e.left-r.left-k.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||xt})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;k.fn[t]=function(i){return $(this,function(t,i,r){var o;if(b(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),k.each(["top","left"],function(t,e){k.cssHooks[e]=Ut(v.pixelPosition,function(t,n){if(n)return n=Wt(t,e),Bt.test(n)?k(t).position()[e]+"px":n})}),k.each({Height:"height",Width:"width"},function(t,e){k.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){k.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!==typeof r),a=n||(!0===r||!0===o?"margin":"border");return $(this,function(e,n,r){var o;return b(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?k.css(e,n,a):k.style(e,n,r,a)},e,s?r:void 0,s)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){k.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),k.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),k.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),k.proxy=function(t,e){var n,i,r;if("string"===typeof e&&(n=t[e],e=t,t=n),y(t))return i=u.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(u.call(arguments)))}).guid=t.guid=t.guid||k.guid++,r},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=M,k.isFunction=y,k.isWindow=b,k.camelCase=G,k.type=x,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return k}.apply(e,[]))||(t.exports=i);var Ve=n.jQuery,Xe=n.$;return k.noConflict=function(t){return n.$===k&&(n.$=Xe),t&&n.jQuery===k&&(n.jQuery=Ve),k},r||(n.jQuery=n.$=k),k})},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"===typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"===typeof t},e.isString=function(t){return"string"===typeof t},e.isSymbol=function(t){return"symbol"===typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"===typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"===typeof t},e.isPrimitive=function(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=t.isBuffer}).call(e,n(62).Buffer)},function(t,e,n){"use strict";var i=n(0);t.exports={longestPath:function(t){var e={};i.forEach(t.sources(),function n(r){var o=t.node(r);if(i.has(e,r))return o.rank;e[r]=!0;var s=i.minBy(i.map(t.outEdges(r),function(e){return n(e.w)-t.edge(e).minlen}));s!==Number.POSITIVE_INFINITY&&void 0!==s&&null!==s||(s=0);return o.rank=s})},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,i,r){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,i)});case 4:return e.nextTick(function(){t.call(null,n,i,r)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(e,n(1))},function(t,e,n){var i=n(62),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=s),o(r,s),s.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},s.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"===typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))r.call(n,l)&&(a[l]=n[l]);if(i){s=i(n);for(var c=0;c<s.length;c++)o.call(n,s[c])&&(a[s[c]]=n[s[c]])}}return a}},function(t,e,n){"use strict";t.exports=n(77)},function(t,e,n){"use strict";var i=n(4);t.exports=a;var r="\0",o="\0",s="\x01";function a(t){this._isDirected=!i.has(t,"directed")||t.directed,this._isMultigraph=!!i.has(t,"multigraph")&&t.multigraph,this._isCompound=!!i.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=i.constant(void 0),this._defaultEdgeLabelFn=i.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function u(t,e){t[e]?t[e]++:t[e]=1}function l(t,e){--t[e]||delete t[e]}function c(t,e,n,o){var a=""+e,u=""+n;if(!t&&a>u){var l=a;a=u,u=l}return a+s+u+s+(i.isUndefined(o)?r:o)}function h(t,e){return c(t,e.v,e.w,e.name)}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(t){return this._label=t,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(t){return i.isFunction(t)||(t=i.constant(t)),this._defaultNodeLabelFn=t,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return i.keys(this._nodes)},a.prototype.sources=function(){var t=this;return i.filter(this.nodes(),function(e){return i.isEmpty(t._in[e])})},a.prototype.sinks=function(){var t=this;return i.filter(this.nodes(),function(e){return i.isEmpty(t._out[e])})},a.prototype.setNodes=function(t,e){var n=arguments,r=this;return i.each(t,function(t){n.length>1?r.setNode(t,e):r.setNode(t)}),this},a.prototype.setNode=function(t,e){return i.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=o,this._children[t]={},this._children[o][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},a.prototype.node=function(t){return this._nodes[t]},a.prototype.hasNode=function(t){return i.has(this._nodes,t)},a.prototype.removeNode=function(t){var e=this;if(i.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],i.each(this.children(t),function(t){e.setParent(t)}),delete this._children[t]),i.each(i.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],i.each(i.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},a.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(i.isUndefined(e))e=o;else{for(var n=e+="";!i.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},a.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},a.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==o)return e}},a.prototype.children=function(t){if(i.isUndefined(t)&&(t=o),this._isCompound){var e=this._children[t];if(e)return i.keys(e)}else{if(t===o)return this.nodes();if(this.hasNode(t))return[]}},a.prototype.predecessors=function(t){var e=this._preds[t];if(e)return i.keys(e)},a.prototype.successors=function(t){var e=this._sucs[t];if(e)return i.keys(e)},a.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return i.union(e,this.successors(t))},a.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},a.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;i.each(this._nodes,function(n,i){t(i)&&e.setNode(i,n)}),i.each(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))});var r={};return this._isCompound&&i.each(e.nodes(),function(t){e.setParent(t,function t(i){var o=n.parent(i);return void 0===o||e.hasNode(o)?(r[i]=o,o):o in r?r[o]:t(o)}(t))}),e},a.prototype.setDefaultEdgeLabel=function(t){return i.isFunction(t)||(t=i.constant(t)),this._defaultEdgeLabelFn=t,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return i.values(this._edgeObjs)},a.prototype.setPath=function(t,e){var n=this,r=arguments;return i.reduce(t,function(t,i){return r.length>1?n.setEdge(t,i,e):n.setEdge(t,i),i}),this},a.prototype.setEdge=function(){var t,e,n,r,o=!1,s=arguments[0];"object"===typeof s&&null!==s&&"v"in s?(t=s.v,e=s.w,n=s.name,2===arguments.length&&(r=arguments[1],o=!0)):(t=s,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],o=!0)),t=""+t,e=""+e,i.isUndefined(n)||(n=""+n);var a=c(this._isDirected,t,e,n);if(i.has(this._edgeLabels,a))return o&&(this._edgeLabels[a]=r),this;if(!i.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[a]=o?r:this._defaultEdgeLabelFn(t,e,n);var l=function(t,e,n,i){var r=""+e,o=""+n;if(!t&&r>o){var s=r;r=o,o=s}var a={v:r,w:o};i&&(a.name=i);return a}(this._isDirected,t,e,n);return t=l.v,e=l.w,Object.freeze(l),this._edgeObjs[a]=l,u(this._preds[e],t),u(this._sucs[t],e),this._in[e][a]=l,this._out[t][a]=l,this._edgeCount++,this},a.prototype.edge=function(t,e,n){var i=1===arguments.length?h(this._isDirected,arguments[0]):c(this._isDirected,t,e,n);return this._edgeLabels[i]},a.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?h(this._isDirected,arguments[0]):c(this._isDirected,t,e,n);return i.has(this._edgeLabels,r)},a.prototype.removeEdge=function(t,e,n){var i=1===arguments.length?h(this._isDirected,arguments[0]):c(this._isDirected,t,e,n),r=this._edgeObjs[i];return r&&(t=r.v,e=r.w,delete this._edgeLabels[i],delete this._edgeObjs[i],l(this._preds[e],t),l(this._sucs[t],e),delete this._in[e][i],delete this._out[t][i],this._edgeCount--),this},a.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=i.values(n);return e?i.filter(r,function(t){return t.v===e}):r}},a.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=i.values(n);return e?i.filter(r,function(t){return t.w===e}):r}},a.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e,n){var i,r,o,s;s=function(t){var e,n,i,r;function o(e,n){var i,r,o,a=e.nodeName.toLowerCase();return"area"===a?(r=(i=e.parentNode).name,!(!e.href||!r||"map"!==i.nodeName.toLowerCase())&&(!!(o=t("img[usemap='#"+r+"']")[0])&&s(o))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a&&e.href||n)&&s(e)}function s(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return o(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),i=isNaN(n);return(i||n>=0)&&o(e,!i)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function s(e,n,r,o){return t.each(i,function(){n-=parseFloat(t.css(e,"padding"+this))||0,r&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}t.fn["inner"+n]=function(e){return void 0===e?o["inner"+n].call(this):this.each(function(){t(this).css(r,s(this,e)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!==typeof e?o["outer"+n].call(this,e):this.each(function(){t(this).css(r,s(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=(n=t.fn.removeData,function(e){return arguments.length?n.call(this,t.camelCase(e)):n.call(this)})),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:(r=t.fn.focus,function(e,n){return"number"===typeof e?this.each(function(){var i=this;setTimeout(function(){t(i).focus(),n&&n.call(i)},e)}):r.apply(this,arguments)}),disableSelection:(i="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(i+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,r=t(this[0]);r.length&&r[0]!==document;){if(("absolute"===(n=r.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}};var a=0,u=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a,u={},l=e.split(".")[0];return e=e.split(".")[1],r=l+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[l]=t[l]||{},o=t[l][e],s=t[l][e]=function(t,e){if(!this._createWidget)return new s(t,e);arguments.length&&this._createWidget(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(a=new n).options=t.widget.extend({},a.options),t.each(i,function(e,i){var r,o;t.isFunction(i)?u[e]=(r=function(){return n.prototype[e].apply(this,arguments)},o=function(t){return n.prototype[e].apply(this,t)},function(){var t,e=this._super,n=this._superApply;return this._super=r,this._superApply=o,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}):u[e]=i}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||e},u,{constructor:s,namespace:l,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var n,i,r=u.call(arguments,1),o=0,s=r.length;o<s;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"===typeof r,s=u.call(arguments,1),a=this;return r=!o&&s.length?t.widget.extend.apply(null,[r].concat(s)):r,o?this.each(function(){var n,o=t.data(this,i);return"instance"===r?(a=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,s))!==o&&void 0!==n?(a=n&&n.jquery?a.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))}),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"===typeof e)if(s={},e=(i=e.split(".")).shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!==typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"===typeof s?o[s]:s).apply(o,arguments)}"string"!==typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var u=i.match(/^([\w:-]*)\s*(.*)$/),l=u[1]+o.eventNamespace,c=u[2];c?r.delegate(c,l,a):n.bind(l,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"===typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"===typeof r&&(r={effect:r});var s,a=r?!0===r||"number"===typeof r?n:r.effect||n:e;"number"===typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}});t.widget;var l=!1;t(document).mouseup(function(){l=!1});t.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!l){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!==typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),l=!0,!0))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):e.which?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),l=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){t.ui=t.ui||{};var e,n,i=Math.max,r=Math.abs,o=Math.round,s=/left|center|right/,a=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,c=/%$/,h=t.fn.position;function f(t,e,n){return[parseFloat(t[0])*(c.test(t[0])?e/100:1),parseFloat(t[1])*(c.test(t[1])?n/100:1)]}function d(e,n){return parseInt(t.css(e,n),10)||0}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var n,i,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return t("body").append(r),n=o.offsetWidth,r.css("overflow","scroll"),n===(i=o.offsetWidth)&&(i=r[0].clientWidth),r.remove(),e=n-i},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||r?n.width():n.outerWidth(),height:i||r?n.height():n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return h.apply(this,arguments);e=t.extend({},e);var c,p,g,m,v,y,b,_,w=t(e.of),x=t.position.getWithinInfo(e.within),k=t.position.getScrollInfo(x),C=(e.collision||"flip").split(" "),S={};return y=9===(_=(b=w)[0]).nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:t.isWindow(_)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:_.preventDefault?{width:0,height:0,offset:{top:_.pageY,left:_.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()},w[0].preventDefault&&(e.at="left top"),p=y.width,g=y.height,m=y.offset,v=t.extend({},m),t.each(["my","at"],function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=s.test(i[0])?i.concat(["center"]):a.test(i[0])?["center"].concat(i):["center","center"]),i[0]=s.test(i[0])?i[0]:"center",i[1]=a.test(i[1])?i[1]:"center",t=u.exec(i[0]),n=u.exec(i[1]),S[this]=[t?t[0]:0,n?n[0]:0],e[this]=[l.exec(i[0])[0],l.exec(i[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=g:"center"===e.at[1]&&(v.top+=g/2),c=f(S.at,p,g),v.left+=c[0],v.top+=c[1],this.each(function(){var s,a,u=t(this),l=u.outerWidth(),h=u.outerHeight(),y=d(this,"marginLeft"),b=d(this,"marginTop"),_=l+y+d(this,"marginRight")+k.width,T=h+b+d(this,"marginBottom")+k.height,E=t.extend({},v),P=f(S.my,u.outerWidth(),u.outerHeight());"right"===e.my[0]?E.left-=l:"center"===e.my[0]&&(E.left-=l/2),"bottom"===e.my[1]?E.top-=h:"center"===e.my[1]&&(E.top-=h/2),E.left+=P[0],E.top+=P[1],n||(E.left=o(E.left),E.top=o(E.top)),s={marginLeft:y,marginTop:b},t.each(["left","top"],function(n,i){t.ui.position[C[n]]&&t.ui.position[C[n]][i](E,{targetWidth:p,targetHeight:g,elemWidth:l,elemHeight:h,collisionPosition:s,collisionWidth:_,collisionHeight:T,offset:[c[0]+P[0],c[1]+P[1]],my:e.my,at:e.at,within:x,elem:u})}),e.using&&(a=function(t){var n=m.left-E.left,o=n+p-l,s=m.top-E.top,a=s+g-h,c={target:{element:w,left:m.left,top:m.top,width:p,height:g},element:{element:u,left:E.left,top:E.top,width:l,height:h},horizontal:o<0?"left":n>0?"right":"center",vertical:a<0?"top":s>0?"bottom":"middle"};p<l&&r(n+o)<p&&(c.horizontal="center"),g<h&&r(s+a)<g&&(c.vertical="middle"),i(r(n),r(o))>i(r(s),r(a))?c.important="horizontal":c.important="vertical",e.using.call(this,t,c)}),u.offset(t.extend(E,{using:a}))})},t.ui.position={fit:{left:function(t,e){var n,r=e.within,o=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,a=t.left-e.collisionPosition.marginLeft,u=o-a,l=a+e.collisionWidth-s-o;e.collisionWidth>s?u>0&&l<=0?(n=t.left+u+e.collisionWidth-s-o,t.left+=u-n):t.left=l>0&&u<=0?o:u>l?o+s-e.collisionWidth:o:u>0?t.left+=u:l>0?t.left-=l:t.left=i(t.left-a,t.left)},top:function(t,e){var n,r=e.within,o=r.isWindow?r.scrollTop:r.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,u=o-a,l=a+e.collisionHeight-s-o;e.collisionHeight>s?u>0&&l<=0?(n=t.top+u+e.collisionHeight-s-o,t.top+=u-n):t.top=l>0&&u<=0?o:u>l?o+s-e.collisionHeight:o:u>0?t.top+=u:l>0?t.top-=l:t.top=i(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,o=e.within,s=o.offset.left+o.scrollLeft,a=o.width,u=o.isWindow?o.scrollLeft:o.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-u,h=l+e.collisionWidth-a-u,f="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];c<0?((n=t.left+f+d+p+e.collisionWidth-a-s)<0||n<r(c))&&(t.left+=f+d+p):h>0&&((i=t.left-e.collisionPosition.marginLeft+f+d+p-u)>0||r(i)<h)&&(t.left+=f+d+p)},top:function(t,e){var n,i,o=e.within,s=o.offset.top+o.scrollTop,a=o.height,u=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-u,h=l+e.collisionHeight-a-u,f="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];c<0?(i=t.top+f+d+p+e.collisionHeight-a-s,t.top+f+d+p>c&&(i<0||i<r(c))&&(t.top+=f+d+p)):h>0&&(n=t.top-e.collisionPosition.marginTop+f+d+p-u,t.top+f+d+p>h&&(n>0||r(n)<h)&&(t.top+=f+d+p))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,r,o,s,a=document.getElementsByTagName("body")[0],u=document.createElement("div");for(s in e=document.createElement(a?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"}),r)e.style[s]=r[s];e.appendChild(u),(i=a||document.documentElement).insertBefore(e,i.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",o=t(u).offset().left,n=o>10&&o<11,e.innerHTML="",i.removeChild(e)}()}();t.ui.position,t.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))):this._activate(e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"===typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r[0]===i[0],s=o&&n.collapsible,a=s?t():r.next(),u={oldHeader:i,oldPanel:i.next(),newHeader:s?t():r,newPanel:a};e.preventDefault(),o&&!n.collapsible||!1===this._trigger("beforeActivate",e,u)||(n.active=!s&&this.headers.index(r),this.active=o?t():r,this._toggle(u),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr("aria-selected","false"),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(t,e,n){var i,r,o,s=this,a=0,u=t.length&&(!e.length||t.index()<e.index()),l=this.options.animate||{},c=u&&l.down||l,h=function(){s._toggleComplete(n)};return"number"===typeof c&&(o=c),"string"===typeof c&&(r=c),r=r||c.easing||l.easing,o=o||c.duration||l.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:h,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?a+=n.now:"content"!==s.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,o,r,h):t.animate(this.showProps,o,r,h)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var n=t(e.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var n,i,r,o,s,a=!0;function u(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,i=this.previousFilter||"",r=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,s=new RegExp("^"+u(r),"i"),n=this.activeMenu.find(this.options.items).filter(function(){return s.test(t(this).text())}),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(e.keyCode),s=new RegExp("^"+u(r),"i"),n=this.activeMenu.find(this.options.items).filter(function(){return s.test(t(this).text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,n=this,i=this.options.icons.submenu,r=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.parent(),r=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),e.attr("aria-labelledby",n.attr("id"))}),(e=r.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);n._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),e.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var n,i,r;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)}});t.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=!!o||!s&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){if(i)return i=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(i){i.target===e.element[0]||i.target===n||t.contains(n,i.target)||e.close()})})},menufocus:function(e,n){var i,r;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),(i=n.item.attr("aria-label")||r.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"===typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||n||i)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"===typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").text(n.label).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}});t.ui.autocomplete;var c,h="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",d=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},p=function(e){var n=e.name,i=e.form,r=t([]);return n&&(n=n.replace(/'/g,"\\'"),r=i?t(i).find("[name='"+n+"'][type=radio]"):t("[name='"+n+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),r};t.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,d),"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,n=this.options,i="checkbox"===this.type||"radio"===this.type,r=i?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(h).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===c&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||t(this).removeClass(r)}).bind("click"+this.eventNamespace,function(t){n.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),i&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];p(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).addClass("ui-state-active"),c=this,e.document.one("mouseup",function(){c=null})}).bind("mouseup"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(n.disabled)return!1;e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var t,e,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(h+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?p(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var e=this.buttonElement.removeClass(f),n=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(n)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),t.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),i=n.filter(":ui-button");n.not(":ui-button").button(),i.button("refresh"),this.buttons=n.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});var g;t.ui.button;function m(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=v(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function v(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(n,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",y)}function y(){t.datepicker._isDisabledDatepicker(g.inline?g.dpDiv.parent()[0]:g.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function b(e,n){for(var i in t.extend(e,n),n)null==n[i]&&(e[i]=n[i]);return e}t.extend(t.ui,{datepicker:{version:"1.11.1"}}),t.extend(m.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return b(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;r="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),r)).settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?v(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](n.append)),e.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||e.focus(this._showDatepicker),"button"!==i&&"both"!==i||(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[a?"before":"after"](n.trigger),n.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,o){var s,a,u,l,c,h=this._dialogInst;return h||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",h)),b(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(a=document.documentElement.clientWidth,u=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+l,u/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,o,s,a,u=this._getInst(e);if(2===arguments.length&&"string"===typeof n)return"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null;r=n||{},"string"===typeof n&&((r={})[n]=i),u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(u,"min"),a=this._getMinMaxDate(u,"max"),b(u.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(u.settings.minDate=this._formatDate(u,s)),null!==a&&void 0!==r.dateFormat&&void 0===r.maxDate&&(u.settings.maxDate=this._formatDate(u,a)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return(r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),(n=t.datepicker._get(o,"onSelect"))?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){var n,i,r,o,s,a,u;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)||(n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(r=(i=t.datepicker._get(n,"beforeShow"))?i.apply(e,[e,n]):{})&&(b(n.settings,r),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return!(o|="fixed"===t(this).css("position"))}),s={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),s=t.datepicker._checkOffset(n,s,o),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),n.inline||(a=t.datepicker._get(n,"showAnim"),u=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[a]?n.dpDiv.show(a,t.datepicker._get(n,"showOptions"),u):n.dpDiv[a||"show"](a?u:null),t.datepicker._shouldFocusInput(n)&&n.input.focus(),t.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4,g=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],o=e.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&y.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-s:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>u&&u>r?Math.abs(n.left+r-u):0),n.top-=Math.min(n.top,n.top+o>l&&l>o?Math.abs(o+a):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return[(n=t(e).offset()).left,n.top]},_hideDatepicker:function(e){var n,i,r,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,(o=this._get(s,"onClose"))&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id===t.datepicker._mainDivId||0!==n.parents("#"+t.datepicker._mainDivId).length||n.hasClass(t.datepicker.markerClassName)||n.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!n.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===i)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,s=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((o=this._getInst(s[0])).selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!==typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).each(function(){t(this).val(r)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"===typeof n?n.toString():n+""))return null;var r,o,s,a,u=0,l=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!==typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,f=(i?i.dayNames:null)||this._defaults.dayNames,d=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,_=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},w=function(t){var e=_(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=new RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),o=n.substring(u).match(r);if(!o)throw"Missing number at position "+u;return u+=o[0].length,parseInt(o[0],10)},x=function(e,i,r){var o=-1,s=t.map(_(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var i=e[1];if(n.substr(u,i.length).toLowerCase()===i.toLowerCase())return o=e[0],u+=i.length,!1}),-1!==o)return o+1;throw"Unknown name at position "+u},k=function(){if(n.charAt(u)!==e.charAt(r))throw"Unexpected literal at position "+u;u++};for(r=0;r<e.length;r++)if(b)"'"!==e.charAt(r)||_("'")?k():b=!1;else switch(e.charAt(r)){case"d":v=w("d");break;case"D":x("D",h,f);break;case"o":y=w("o");break;case"m":m=w("m");break;case"M":m=x("M",d,p);break;case"y":g=w("y");break;case"@":g=(a=new Date(w("@"))).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":g=(a=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":_("'")?k():b=!0;break;default:k()}if(u<n.length&&(s=n.substr(u),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),y>-1)for(m=1,v=y;;){if(v<=(o=this._getDaysInMonth(g,m-1)))break;m++,v-=o}if((a=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,u=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},l=function(t,e,n){var i=""+e;if(u(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return u(t)?i[e]:n[e]},h="",f=!1;if(e)for(i=0;i<t.length;i++)if(f)"'"!==t.charAt(i)||u("'")?h+=t.charAt(i):f=!1;else switch(t.charAt(i)){case"d":h+=l("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),r,o);break;case"o":h+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=l("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),s,a);break;case"y":h+=u("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":u("'")?h+="'":f=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(n,i,s)||r}catch(t){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=null==n||""===n?i:"string"===typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=a.exec(n);u;){switch(u[2]||"d"){case"d":case"D":s+=parseInt(u[1],10);break;case"w":case"W":s+=7*parseInt(u[1],10);break;case"m":case"M":o+=parseInt(u[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(u[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o))}u=a.exec(n)}return new Date(r,o,s)}(n):"number"===typeof n?isNaN(n)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(n):new Date(n.getTime());return(r=r&&"Invalid Date"===r.toString()?i:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,b,_,w,x,k,C,S,T,E,P,D,M,O,A,I,N,R,j,L,F,z,B=new Date,q=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),H=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),U=this._get(t,"hideIfNoPrevNext"),$=this._get(t,"navigationAsDateFormat"),Y=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),G=1!==Y[0]||1!==Y[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-Y[0]*Y[1]+1,J.getDate())),e=Q&&e<Q?Q:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)--Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,n=this._get(t,"prevText"),n=$?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z-X,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=$?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,Z+X,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:q,s=$?this.formatDate(s,a,this._getFormatConfig(t)):s,u=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?u:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(H?"":u)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),f=this._get(t,"dayNames"),d=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),_="",x=0;x<Y[0];x++){for(k="",this.maxRows=4,C=0;C<Y[1];C++){if(S=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),T=" ui-corner-all",E="",G){if(E+="<div class='ui-datepicker-group",Y[1]>1)switch(C){case 0:E+=" ui-datepicker-group-first",T=" ui-corner-"+(H?"right":"left");break;case Y[1]-1:E+=" ui-datepicker-group-last",T=" ui-corner-"+(H?"left":"right");break;default:E+=" ui-datepicker-group-middle",T=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===x?H?o:i:"")+(/all|right/.test(T)&&0===x?H?i:o:"")+this._generateMonthYearHeader(t,Z,tt,Q,J,x>0||C>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",P=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)D=(w+c)%7,P+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+f[D]+"'>"+d[D]+"</span></th>";for(E+=P+"</tr></thead><tbody>",M=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,M)),O=(this._getFirstDayOfMonth(tt,Z)-c+7)%7,A=Math.ceil((O+M)/7),I=G&&this.maxRows>A?this.maxRows:A,this.maxRows=I,N=this._daylightSavingAdjust(new Date(tt,Z,1-O)),R=0;R<I;R++){for(E+="<tr>",j=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",w=0;w<7;w++)L=m?m.apply(t.input?t.input[0]:null,[N]):[!0,""],z=(F=N.getMonth()!==Z)&&!y||!L[0]||Q&&N<Q||J&&N>J,j+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(N.getTime()===S.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+L[1]+(N.getTime()===K.getTime()?" "+this._currentClass:"")+(N.getTime()===q.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":z?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===q.getTime()?" ui-state-highlight":"")+(N.getTime()===K.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);E+=j+"</tr>"}++Z>11&&(Z=0,tt++),k+=E+="</tbody></table>"+(G?"</div>"+(Y[0]>0&&C===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=k}return _+=l,t._keyEvent=!1,_},_generateMonthYearHeader:function(t,e,n,i,r,o,s,a){var u,l,c,h,f,d,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(o||!m)_+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(u=i&&i.getFullYear()===n,l=r&&r.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!u||c>=i.getMonth())&&(!l||c<=r.getMonth())&&(_+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");_+="</select>"}if(y||(b+=_+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),f=(new Date).getFullYear(),p=(d=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?f+parseInt(t,10):parseInt(t,10);return isNaN(e)?f:e})(h[0]),g=Math.max(p,d(h[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"===n?e:0),r=t.drawMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"===typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,u=this._get(t,"yearRange");return u&&(n=u.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!==typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"===typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!==typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"===typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"===typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new m,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.1";t.datepicker;t.widget("ui.draggable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.document[0],i=this.options;try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&t(n.activeElement).blur()}catch(t){}return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(t(!0===i.iframeFix?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"===typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(i=(n=t(r.containment))[0])&&(e="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=r.containment:this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),u=t.pageX,l=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,l=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(u=this.originalPageX),"x"===s.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=i.options,o=t.extend({},n,{item:i.element});i.sortables=[],t(r.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",e,o))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});t.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))})},drag:function(e,n,i){var r=this;t.each(i.sortables,function(){var o=!1,s=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(s.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",e),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",e),i.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,u,l,c,h,f,d,p=i.options,g=p.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)l=(u=i.snapElements[f].left)+i.snapElements[f].width,h=(c=i.snapElements[f].top)+i.snapElements[f].height,v<u-g||m>l+g||b<c-g||y>h+g||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==p.snapMode&&(r=Math.abs(c-b)<=g,o=Math.abs(h-y)<=g,s=Math.abs(u-v)<=g,a=Math.abs(l-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top-i.margins.top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top-i.margins.top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left-i.margins.left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left-i.margins.left)),d=r||o||s||a,"outer"!==p.snapMode&&(r=Math.abs(c-y)<=g,o=Math.abs(h-b)<=g,s=Math.abs(u-m)<=g,a=Math.abs(l-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top-i.margins.top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top-i.margins.top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left-i.margins.left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left-i.margins.left)),!i.snapElements[f].snapping&&(r||o||s||a||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=r||o||s||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}});t.ui.draggable;t.widget("ui.resizable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i,r=n&&"left"===n?"scrollLeft":"scrollTop";return e[r]>0||(e[r]=1,i=e[r]>0,e[r]=0,i)},_create:function(){var e,n,i,r,o=this,s=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},n=0;n<e.length;n++)i=t.trim(e[n]),(r=t("<div class='ui-resizable-handle "+("ui-resizable-"+i)+"'></div>")).css({zIndex:s.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(e){var n,i,r,o;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String&&(this.handles[n]=this.element.children(this.handles[n]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),t(this.handles[n]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=r&&r[1]?r[1]:"se")}),s.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){s.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"===typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),s.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,u=this._change[o];return this._updatePrevProperties(),!!u&&(n=u.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,u,l=this.options;return this._helper&&(r=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,o=i?0:this.sizeDiff.width,s={width:this.helper.width()-o,height:this.helper.height()-r},a=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,u=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,l.animate||this.element.css(t.extend(s,{top:u,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,l=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&l&&(t.left=a-e.minWidth),i&&l&&(t.left=a-e.maxWidth),s&&c&&(t.top=u-e.minHeight),r&&c&&(t.top=u-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseInt(i[e],10)||0,n[e]+=parseInt(r[e],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,u={width:n.size.width-a,height:n.size.height-s},l=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(u,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,u=t(this).resizable("instance"),l=u.options,c=u.element,h=l.containment,f=h instanceof t?h.get(0):/parent/.test(h)?c.parent().get(0):h;f&&(u.containerElement=t(f),/document/.test(h)||h===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(f),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=u._num(e.css("padding"+i))}),u.containerOffset=e.offset(),u.containerPosition=e.position(),u.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=u.containerOffset,r=u.containerSize.height,o=u.containerSize.width,s=u._hasScroll(f,"left")?f.scrollWidth:o,a=u._hasScroll(f)?f.scrollHeight:r,u.parentData={element:f,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,u=s.containerOffset,l=s.position,c=s._aspectRatio||e.shiftKey,h={top:0,left:0},f=s.containerElement,d=!0;f[0]!==document&&/static/.test(f.css("position"))&&(h=u),l.left<(s._helper?u.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-u.left:s.position.left-h.left),c&&(s.size.height=s.size.width/s.aspectRatio,d=!1),s.position.left=a.helper?u.left:0),l.top<(s._helper?u.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-u.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,d=!1),s.position.top=s._helper?u.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-u.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-u.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio,d=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,c&&(s.size.width=s.size.height*s.aspectRatio,d=!1)),d||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),u=s.outerWidth()-e.sizeDiff.width,l=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:u,height:l}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:u,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!==typeof e.alsoResize||e.alsoResize.parentNode?n(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],n(e.alsoResize)):t.each(e.alsoResize,function(t){n(t)})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0},u=function(e,i){t(e).each(function(){var e=t(this),r=t(this).data("ui-resizable-alsoresize"),o={},s=i&&i.length?i:e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,function(t,e){var n=(r[e]||0)+(a[e]||0);n&&n>=0&&(o[e]=n||null)}),e.css(o)})};"object"!==typeof r.alsoResize||r.alsoResize.nodeType?u(r.alsoResize):t.each(r.alsoResize,function(t,e){u(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"===typeof n.ghost?n.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,u="number"===typeof i.grid?[i.grid,i.grid]:i.grid,l=u[0]||1,c=u[1]||1,h=Math.round((r.width-o.width)/l)*l,f=Math.round((r.height-o.height)/c)*c,d=o.width+h,p=o.height+f,g=i.maxWidth&&i.maxWidth<d,m=i.maxHeight&&i.maxHeight<p,v=i.minWidth&&i.minWidth>d,y=i.minHeight&&i.minHeight>p;i.grid=u,v&&(d+=l),y&&(p+=c),g&&(d-=l),m&&(p-=c),/^(se|s|e)$/.test(a)?(n.size.width=d,n.size.height=p):/^(ne)$/.test(a)?(n.size.width=d,n.size.height=p,n.position.top=s.top-f):/^(sw)$/.test(a)?(n.size.width=d,n.size.height=p,n.position.left=s.left-h):((p-c<=0||d-l<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),p-c>0?(n.size.height=p,n.position.top=s.top-f):(p=c-e.height,n.size.height=p,n.position.top=s.top+o.height-p),d-l>0?(n.size.width=d,n.position.left=s.left-h):(d=c-e.height,n.size.width=d,n.position.left=s.left+o.width-d))}});t.ui.resizable,t.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n,i=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(n=this.document[0].activeElement)&&"body"!==n.nodeName.toLowerCase()&&t(n).blur()}catch(t){}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function n(){var e=this.document[0].activeElement;this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.focus()}),e.preventDefault()):(this._delay(function(){i.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,i.click=function(){r.apply(e.element[0],arguments)},o={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,t("<button></button>",i).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,n=this.options;function i(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){t(this).addClass("ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",n,i(r))},drag:function(t,n){e._trigger("drag",t,i(n))},stop:function(r,o){var s=o.offset.left-e.document.scrollLeft(),a=o.offset.top-e.document.scrollTop();n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:e.window},t(this).removeClass("ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",r,i(o))}})},_makeResizable:function(){var e=this,n=this.options,i=n.resizable,r=this.uiDialog.css("position"),o="string"===typeof i?i:"n,e,s,w,se,sw,ne,nw";function s(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,i){t(this).addClass("ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",n,s(i))},resize:function(t,n){e._trigger("resize",t,s(n))},stop:function(i,r){var o=e.uiDialog.offset(),a=o.left-e.document.scrollLeft(),u=o.top-e.document.scrollTop();n.height=e.uiDialog.height(),n.width=e.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(u>=0?"+":"")+u,of:e.window},t(this).removeClass("ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",i,s(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,e){var n,i,r=this.uiDialog;"dialogClass"===t&&r.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&((n=r.is(":data(ui-draggable)"))&&!e&&r.draggable("destroy"),!n&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((i=r.is(":data(ui-resizable)"))&&!e&&r.resizable("destroy"),i&&"string"===typeof e&&r.resizable("option","handles",e),i||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"===typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}});t.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&t.ui.intersect(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e))return r=!0,!1}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left,s=(e.positionAbs||e.position.absolute).top,a=o+e.helperProportions.width,u=s+e.helperProportions.height,l=n.offset.left,c=n.offset.top,h=l+n.proportions().width,f=c+n.proportions().height;switch(i){case"fit":return l<=o&&a<=h&&c<=s&&u<=f;case"intersect":return l<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<h&&c<s+e.helperProportions.height/2&&u-e.helperProportions.height/2<f;case"pointer":return t(r.pageY,c,n.proportions().height)&&t(r.pageX,l,n.proportions().width);case"touch":return(s>=c&&s<=f||u>=c&&u<=f||s<c&&u>f)&&(o>=l&&o<=h||a>=l&&a<=h||o<l&&a>h);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<a.length;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=t.ui.intersect(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r})).length&&((i=t(o[0]).droppable("instance")).greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}};t.ui.droppable;var _,w=t;t.effects={effect:{}},function(t,e){var n,i=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],o=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},s={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=o.support={},l=t("<p>")[0],c=t.each;function h(t,e,n){var i=a[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function f(e){var i=o(),a=i._rgba=[];return e=e.toLowerCase(),c(r,function(t,n){var r,o=n.re.exec(e),u=o&&n.parse(o),l=n.space||"rgba";if(u)return r=i[l](u),i[s[l].cache]=r[s[l].cache],a=i._rgba=r._rgba,!1}),a.length?("0,0,0,0"===a.join()&&t.extend(a,n.transparent),i):n[e]}function d(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}l.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=l.style.backgroundColor.indexOf("rgba")>-1,c(s,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),o.fn=t.extend(o.prototype,{parse:function(e,i,r,a){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(i),i=void 0);var u=this,l=t.type(e),d=this._rgba=[];return void 0!==i&&(e=[e,i,r,a],l="array"),"string"===l?this.parse(f(e)||n._default):"array"===l?(c(s.rgba.props,function(t,n){d[n.idx]=h(e[n.idx],n)}),this):"object"===l?(c(s,e instanceof o?function(t,n){e[n.cache]&&(u[n.cache]=e[n.cache].slice())}:function(n,i){var r=i.cache;c(i.props,function(t,n){if(!u[r]&&i.to){if("alpha"===t||null==e[t])return;u[r]=i.to(u._rgba)}u[r][n.idx]=h(e[t],n,!0)}),u[r]&&t.inArray(null,u[r].slice(0,3))<0&&(u[r][3]=1,i.from&&(u._rgba=i.from(u[r])))}),this):void 0},is:function(t){var e=o(t),n=!0,i=this;return c(s,function(t,r){var o,s=e[r.cache];return s&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],c(r.props,function(t,e){if(null!=s[e.idx])return n=s[e.idx]===o[e.idx]})),n}),n},_space:function(){var t=[],e=this;return c(s,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var n=o(t),i=n._space(),r=s[i],u=0===this.alpha()?o("transparent"):this,l=u[r.cache]||r.to(u._rgba),f=l.slice();return n=n[r.cache],c(r.props,function(t,i){var r=i.idx,o=l[r],s=n[r],u=a[i.type]||{};null!==s&&(null===o?f[r]=s:(u.mod&&(s-o>u.mod/2?o+=u.mod:o-s>u.mod/2&&(o-=u.mod)),f[r]=h((s-o)*e+o,i)))}),this[i](f)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=o(e)._rgba;return o(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,s.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),u=Math.min(i,r,o),l=a-u,c=a+u,h=.5*c;return e=u===a?0:i===a?60*(r-o)/l+360:r===a?60*(o-i)/l+120:60*(i-r)/l+240,n=0===l?0:h<=.5?l/c:l/(2-c),[Math.round(e)%360,n,h,null==s?1:s]},s.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;return[Math.round(255*d(s,o,e+1/3)),Math.round(255*d(s,o,e)),Math.round(255*d(s,o,e-1/3)),r]},c(s,function(e,n){var r=n.props,s=n.cache,a=n.to,u=n.from;o.fn[e]=function(e){if(a&&!this[s]&&(this[s]=a(this._rgba)),void 0===e)return this[s].slice();var n,i=t.type(e),l="array"===i||"object"===i?e:arguments,f=this[s].slice();return c(r,function(t,e){var n=l["object"===i?t:e.idx];null==n&&(n=f[e.idx]),f[e.idx]=h(n,e)}),u?((n=o(u(f)))[s]=f,n):o(f)},c(r,function(n,r){o.fn[n]||(o.fn[n]=function(o){var s,a=t.type(o),u="alpha"===n?this._hsla?"hsla":"rgba":e,l=this[u](),c=l[r.idx];return"undefined"===a?c:("function"===a&&(o=o.call(this,c),a=t.type(o)),null==o&&r.empty?this:("string"===a&&(s=i.exec(o))&&(o=c+parseFloat(s[2])*("+"===s[1]?1:-1)),l[r.idx]=o,this[u](l)))})})}),o.hook=function(e){var n=e.split(" ");c(n,function(e,n){t.cssHooks[n]={set:function(e,i){var r,s,a="";if("transparent"!==i&&("string"!==t.type(i)||(r=f(i)))){if(i=o(r||i),!u.rgba&&1!==i._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}i=i.blend(a&&"transparent"!==a?a:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=o(e.elem,n),e.end=o(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return c(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},n=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(w),function(){var e,n=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function r(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)"string"===typeof r[n=r[i]]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"===typeof r[n]&&(o[n]=r[n]);return o}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(w.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,o,s,a){var u=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",l=u.children?s.find("*").addBack():s;l=l.map(function(){return{el:t(this),start:r(this)}}),(o=function(){t.each(n,function(t,n){e[n]&&s[n+"Class"](e[n])})})(),l=l.map(function(){return this.end=r(this.el[0]),this.diff=function(e,n){var r,o,s={};for(r in n)o=n[r],e[r]!==o&&(i[r]||!t.fx.step[r]&&isNaN(parseFloat(o))||(s[r]=o));return s}(this.start,this.end),this}),s.attr("class",a),l=l.map(function(){var e=this,n=t.Deferred(),i=t.extend({},u,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),u.complete.call(s[0])})})},t.fn.extend({addClass:(e=t.fn.addClass,function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,s){return"boolean"===typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"===typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"===typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!(e&&"number"!==typeof e&&!t.fx.speeds[e])||("string"===typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"===typeof e&&!e.effect))}var i;t.extend(t.effects,{version:"1.11.1",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data("ui-effects-"+e[n],t[0].style[e[n]])},restore:function(t,e){var n,i;for(i=0;i<e.length;i++)null!==e[i]&&(void 0===(n=t.data("ui-effects-"+e[i]))&&(n=""),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){var n=e.apply(this,arguments),i=n.mode,r=n.queue,o=t.effects.effect[n.effect];if(t.fx.off||!o)return i?this[i](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)});function s(e){var i=t(this),r=n.complete,s=n.mode;function a(){t.isFunction(r)&&r.call(i[0]),t.isFunction(e)&&e()}(i.is(":hidden")?"hide"===s:"show"===s)?(i[s](),a()):o.call(i[0],n,a)}return!1===r?this.each(s):this.queue(r||"fx",s)},show:(i=t.fn.show,function(t){if(n(t))return i.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"===typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}})}(),_={},t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){_[e]=function(e){return Math.pow(e,t+2)}}),t.extend(_,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(_,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(-2*t+2)/2}});t.effects,t.effects.effect.blind=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(s,e.mode||"hide"),l=e.direction||"up",c=/up|down|vertical/.test(l),h=c?"height":"width",f=c?"top":"left",d=/up|left|vertical|horizontal/.test(l),p={},g="show"===u;s.parent().is(".ui-effects-wrapper")?t.effects.save(s.parent(),a):t.effects.save(s,a),s.show(),r=(i=t.effects.createWrapper(s).css({overflow:"hidden"}))[h](),o=parseFloat(i.css(f))||0,p[h]=g?r:0,d||(s.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),p[f]=g?o:r+o),g&&(i.css(h,0),d||i.css(f,o+r)),i.animate(p,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===u&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}})},t.effects.effect.bounce=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(s,e.mode||"effect"),l="hide"===u,c="show"===u,h=e.direction||"up",f=e.distance,d=e.times||5,p=2*d+(c||l?1:0),g=e.duration/p,m=e.easing,v="up"===h||"down"===h?"top":"left",y="up"===h||"left"===h,b=s.queue(),_=b.length;for((c||l)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),f||(f=s["top"===v?"outerHeight":"outerWidth"]()/3),c&&((o={opacity:1})[v]=0,s.css("opacity",0).css(v,y?2*-f:2*f).animate(o,g,m)),l&&(f/=Math.pow(2,d-1)),(o={})[v]=0,i=0;i<d;i++)(r={})[v]=(y?"-=":"+=")+f,s.animate(r,g,m).animate(o,g,m),f=l?2*f:f/2;l&&((r={opacity:0})[v]=(y?"-=":"+=")+f,s.animate(r,g,m)),s.queue(function(){l&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,p+1))),s.dequeue()},t.effects.effect.clip=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],u="show"===t.effects.setMode(s,e.mode||"hide"),l="vertical"===(e.direction||"vertical"),c=l?"height":"width",h=l?"top":"left",f={};t.effects.save(s,a),s.show(),i=t.effects.createWrapper(s).css({overflow:"hidden"}),o=(r="IMG"===s[0].tagName?i:s)[c](),u&&(r.css(c,0),r.css(h,o/2)),f[c]=u?o:0,f[h]=u?0:o/2,r.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){u||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}})},t.effects.effect.drop=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(r,e.mode||"hide"),a="show"===s,u=e.direction||"left",l="up"===u||"down"===u?"top":"left",c="up"===u||"left"===u?"pos":"neg",h={opacity:a?1:0};t.effects.save(r,o),r.show(),t.effects.createWrapper(r),i=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(l,"pos"===c?-i:i),h[l]=(a?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+i,r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})},t.effects.effect.explode=function(e,n){var i,r,o,s,a,u,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=l,h=t(this),f="show"===t.effects.setMode(h,e.mode||"hide"),d=h.show().css("visibility","hidden").offset(),p=Math.ceil(h.outerWidth()/c),g=Math.ceil(h.outerHeight()/l),m=[];function v(){m.push(this),m.length===l*c&&function(){h.css({visibility:"visible"}),t(m).remove(),f||h.hide();n()}()}for(i=0;i<l;i++)for(s=d.top+i*g,u=i-(l-1)/2,r=0;r<c;r++)o=d.left+r*p,a=r-(c-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*p,top:-i*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:g,left:o+(f?a*p:0),top:s+(f?u*g:0),opacity:f?0:1}).animate({left:o+(f?0:a*p),top:s+(f?0:u*g),opacity:f?1:0},e.duration||500,e.easing,v)},t.effects.effect.fade=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"toggle");i.animate({opacity:r},{queue:!1,duration:e.duration,easing:e.easing,complete:n})},t.effects.effect.fold=function(e,n){var i,r,o=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"hide"),u="show"===a,l="hide"===a,c=e.size||15,h=/([0-9]+)%/.exec(c),f=!!e.horizFirst,d=u!==f,p=d?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(o,s),o.show(),i=t.effects.createWrapper(o).css({overflow:"hidden"}),r=d?[i.width(),i.height()]:[i.height(),i.width()],h&&(c=parseInt(h[1],10)/100*r[l?0:1]),u&&i.css(f?{height:0,width:c}:{height:c,width:0}),m[p[0]]=u?r[0]:c,v[p[1]]=u?r[1]:0,i.animate(m,g,e.easing).animate(v,g,e.easing,function(){l&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),n()})},t.effects.effect.highlight=function(e,n){var i=t(this),r=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(i,e.mode||"show"),s={backgroundColor:i.css("backgroundColor")};"hide"===o&&(s.opacity=0),t.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&i.hide(),t.effects.restore(i,r),n()}})},t.effects.effect.size=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],u=["width","height","overflow"],l=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],f=t.effects.setMode(s,e.mode||"effect"),d=e.restore||"effect"!==f,p=e.scale||"both",g=e.origin||["middle","center"],m=s.css("position"),v=d?a:["position","top","bottom","left","right","overflow","opacity"],y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===f&&s.show(),i={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===e.mode&&"show"===f?(s.from=e.to||y,s.to=e.from||i):(s.from=e.from||("show"===f?y:i),s.to=e.to||("hide"===f?y:i)),o={from:{y:s.from.height/i.height,x:s.from.width/i.width},to:{y:s.to.height/i.height,x:s.to.width/i.width}},"box"!==p&&"both"!==p||(o.from.y!==o.to.y&&(v=v.concat(c),s.from=t.effects.setTransition(s,c,o.from.y,s.from),s.to=t.effects.setTransition(s,c,o.to.y,s.to)),o.from.x!==o.to.x&&(v=v.concat(h),s.from=t.effects.setTransition(s,h,o.from.x,s.from),s.to=t.effects.setTransition(s,h,o.to.x,s.to))),"content"!==p&&"both"!==p||o.from.y!==o.to.y&&(v=v.concat(l).concat(u),s.from=t.effects.setTransition(s,l,o.from.y,s.from),s.to=t.effects.setTransition(s,l,o.to.y,s.to)),t.effects.save(s,v),s.show(),t.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),g&&(r=t.effects.getBaseline(g,i),s.from.top=(i.outerHeight-s.outerHeight())*r.y,s.from.left=(i.outerWidth-s.outerWidth())*r.x,s.to.top=(i.outerHeight-s.to.outerHeight)*r.y,s.to.left=(i.outerWidth-s.to.outerWidth)*r.x),s.css(s.from),"content"!==p&&"both"!==p||(c=c.concat(["marginTop","marginBottom"]).concat(l),h=h.concat(["marginLeft","marginRight"]),u=a.concat(c).concat(h),s.find("*[width]").each(function(){var n=t(this),i=n.height(),r=n.width(),s=n.outerHeight(),a=n.outerWidth();d&&t.effects.save(n,u),n.from={height:i*o.from.y,width:r*o.from.x,outerHeight:s*o.from.y,outerWidth:a*o.from.x},n.to={height:i*o.to.y,width:r*o.to.x,outerHeight:i*o.to.y,outerWidth:r*o.to.x},o.from.y!==o.to.y&&(n.from=t.effects.setTransition(n,c,o.from.y,n.from),n.to=t.effects.setTransition(n,c,o.to.y,n.to)),o.from.x!==o.to.x&&(n.from=t.effects.setTransition(n,h,o.from.x,n.from),n.to=t.effects.setTransition(n,h,o.to.x,n.to)),n.css(n.from),n.animate(n.to,e.duration,e.easing,function(){d&&t.effects.restore(n,u)})})),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===f&&s.hide(),t.effects.restore(s,v),d||("static"===m?s.css({position:"relative",top:s.to.top,left:s.to.left}):t.each(["top","left"],function(t,e){s.css(e,function(e,n){var i=parseInt(n,10),r=t?s.to.left:s.to.top;return"auto"===n?r+"px":i+r+"px"})})),t.effects.removeWrapper(s),n()}})},t.effects.effect.scale=function(e,n){var i=t(this),r=t.extend(!0,{},e),o=t.effects.setMode(i,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),a=e.direction||"both",u=e.origin,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},c="horizontal"!==a?s/100:1,h="vertical"!==a?s/100:1;r.effect="size",r.queue=!1,r.complete=n,"effect"!==o&&(r.origin=u||["middle","center"],r.restore=!0),r.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),r.to={height:l.height*c,width:l.width*h,outerHeight:l.outerHeight*c,outerWidth:l.outerWidth*h},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),i.effect(r)},t.effects.effect.puff=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"hide"),o="hide"===r,s=parseInt(e.percent,10)||150,a=s/100,u={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:r,complete:n,percent:o?s:100,from:o?u:{height:u.height*a,width:u.width*a,outerHeight:u.outerHeight*a,outerWidth:u.outerWidth*a}}),i.effect(e)},t.effects.effect.pulsate=function(e,n){var i,r=t(this),o=t.effects.setMode(r,e.mode||"show"),s="show"===o,a="hide"===o,u=s||"hide"===o,l=2*(e.times||5)+(u?1:0),c=e.duration/l,h=0,f=r.queue(),d=f.length;for(!s&&r.is(":visible")||(r.css("opacity",0).show(),h=1),i=1;i<l;i++)r.animate({opacity:h},c,e.easing),h=1-h;r.animate({opacity:h},c,e.easing),r.queue(function(){a&&r.hide(),n()}),d>1&&f.splice.apply(f,[1,0].concat(f.splice(d,l+1))),r.dequeue()},t.effects.effect.shake=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(r,e.mode||"effect"),a=e.direction||"left",u=e.distance||20,l=e.times||3,c=2*l+1,h=Math.round(e.duration/c),f="up"===a||"down"===a?"top":"left",d="up"===a||"left"===a,p={},g={},m={},v=r.queue(),y=v.length;for(t.effects.save(r,o),r.show(),t.effects.createWrapper(r),p[f]=(d?"-=":"+=")+u,g[f]=(d?"+=":"-=")+2*u,m[f]=(d?"-=":"+=")+2*u,r.animate(p,h,e.easing),i=1;i<l;i++)r.animate(g,h,e.easing).animate(m,h,e.easing);r.animate(g,h,e.easing).animate(p,h/2,e.easing).queue(function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,c+1))),r.dequeue()},t.effects.effect.slide=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(r,e.mode||"show"),a="show"===s,u=e.direction||"left",l="up"===u||"down"===u?"top":"left",c="up"===u||"left"===u,h={};t.effects.save(r,o),r.show(),i=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(l,c?isNaN(i)?"-"+i:-i:i),h[l]=(a?c?"+=":"-=":c?"-=":"+=")+i,r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})},t.effects.effect.transfer=function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,u=o?s.scrollLeft():0,l=r.offset(),c={top:l.top-a,left:l.left-u,height:r.innerHeight(),width:r.innerWidth()},h=i.offset(),f=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:h.top-a,left:h.left-u,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){f.remove(),n()})},t.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!==typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(e=t(n.options.filter,n.element[0])).addClass("ui-selectee"),e.each(function(){var e=t(this),n=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");if(r)return i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,u=e.pageY;return o>a&&(n=a,a=o,o=n),s>u&&(n=u,u=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:u-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),l=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?l=!(n.left>a||n.right<o||n.top>u||n.bottom<s):"fit"===r.tolerance&&(l=n.left>o&&n.right<a&&n.top>s&&n.bottom<u),l?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this,n=this.element.attr("tabindex");this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:n||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,n){t.preventDefault(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){o.optgroup!==r&&(t("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>");return n.disabled&&i.addClass("ui-state-disabled"),this._setText(i,n.label),i.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(t){t.preventDefault()},click:"_toggle",keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var n=[];e.each(function(e,i){var r=t(i),o=r.parent("optgroup");n.push({element:r,index:e,value:r.attr("value"),label:r.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||r.prop("disabled")})}),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;e<n;e++)o.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=r.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,n="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,s,a,u,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-l.values(e));(r>n||r===n&&(e===l._lastChangedValue||l.values(e)===c.min))&&(r=n,o=t(this),s=e)}),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),a=o.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-a.left-o.width()/2,top:e.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/e)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&n>i||1===e&&n<i)&&(n=i),n!==this.values(e)&&((r=this.values())[e]=n,o=this._trigger("slide",t,{handle:this.handles[e],value:n,values:r}),i=this.values(e?0:1),!1!==o&&this.values(e,n))):n!==this.value()&&!1!==(o=this._trigger("slide",t,{handle:this.handles[e],value:n}))&&this.value(n)},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!n),this._super(e,n),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<r;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,n,i,r,o,s=this.options.range,a=this.options,u=this,l=!this._animateOff&&a.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(u.values(i)-u._valueMin())/(u._valueMax()-u._valueMin())*100,c["horizontal"===u.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[l?"animate":"css"](c,a.animate),!0===u.options.range&&("horizontal"===u.orientation?(0===i&&u.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},a.animate),1===i&&u.range[l?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&u.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&u.range[l?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](c,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var n,i,r,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),!1===this._start(e,o)))return}switch(r=this.options.step,n=i=this.options.values&&this.options.values.length?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(e,o,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,u=a+t.height,l=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||i+l>a&&i+l<u,f="y"===this.options.axis||e+c>o&&e+c<s,d=h&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<u},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,o,s=[],a=[],u=this._connectWith();if(u&&e)for(n=u.length-1;n>=0;n--)for(i=(r=t(u[n])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function l(){s.push(this)}for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(l);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,u,l,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(i=(r=t(f[n])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],i=0,l=(a=h[n][0]).length;i<l;i++)(u=t(a[i])).data(this.widgetName+"-item",s),c.push({item:u,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,o;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var n,i,r,o,s,a,u,l,c,h,f=null,d=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],d=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(r=1e4,o=null,s=(c=f.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",h=c?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[d].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(u=this.items[i].item.offset()[s],l=!1,e[h]-u>this.items[i][a]/2&&(l=!0),Math.abs(e[h]-u)<r&&(r=Math.abs(e[h]-u),o=this.items[i],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"===typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,u=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():u?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():u?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function r(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}for(this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(i.push(function(t){this._trigger("remove",t,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}});function x(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}var k;t.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);void 0!==r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){var n;function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var n=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(n))}"max"!==t&&"min"!==t&&"step"!==t||"string"===typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:x(function(t){this._super(t)}),_parse:function(t){return"string"===typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:x(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:x(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:x(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:x(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());x(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(k=/#.*$/,function(t){var e,n;e=(t=t.cloneNode(!1)).href.replace(k,""),n=location.href.replace(k,"");try{e=decodeURIComponent(e)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return t.hash.length>1&&e===n}),_create:function(){var e=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){if(t(r).attr("aria-controls")===i)return e=n,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){var i=this.tabs.length-1;for(;-1!==t.inArray((e>i&&(e=0),e<0&&(e=i),e),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){"active"!==t?"disabled"!==t?(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._setupDisabled(e):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(n,i){var r,o,s,a=t(i).uniqueId().attr("id"),u=t(i).closest("li"),l=u.attr("aria-controls");e._isLocal(i)?(s=(r=i.hash).substring(1),o=e.element.find(e._sanitizeSelector(r))):(r="#"+(s=u.attr("aria-controls")||t({}).uniqueId()[0].id),(o=e.element.find(r)).length||(o=e._createPanel(s)).insertAfter(e.panels[n-1]||e.tablist),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&u.data("ui-tabs-aria-controls",l),u.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var n,i=0;n=this.tabs[i];i++)!0===e||-1!==t.inArray(i,e)?t(n).addClass("ui-state-disabled").attr("aria-disabled","true"):t(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget).closest("li"),o=r[0]===i[0],s=o&&n.collapsible,a=s?t():this._getPanelForTab(r),u=i.length?this._getPanelForTab(i):t(),l={oldTab:i,oldPanel:u,newTab:s?t():r,newPanel:a};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",e,l)||(n.active=!s&&this.tabs.index(r),this.active=o?t():r,this.xhr&&this.xhr.abort(),u.length||a.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(r),e),this._toggle(e,l))},_toggle:function(e,n){var i=this,r=n.newPanel,o=n.oldPanel;function s(){i.running=!1,i._trigger("activate",e,n)}function a(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&i.options.show?i._show(r,i.options.show,s):(r.show(),s())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),a()),o.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&o.length?n.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(t){return"string"===typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;!1!==n&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setupDisabled(n))},disable:function(e){var n=this.options.disabled;if(!0!==n){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setupDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){s.html(t),i._trigger("load",n,a)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&i.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href"),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),t.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1),e.removeData("ui-tooltip-id"),(i=t.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,n){var i=this;if("disabled"===e)return this[n?"_disable":"_enable"](),void(this.options[e]=n);this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e)})},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i[0],e.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;if("string"===typeof i)return this._open(e,t,i);(n=i.call(t[0],function(n){t.data("ui-tooltip-open")&&r._delay(function(){e&&(e.type=o),this._open(e,t,n)})}))&&this._open(e,t,n)},_open:function(e,n,i){var r,o,s,a,u=t.extend({},this.options.position);function l(t){u.of=t,r.is(":hidden")||r.position(u)}i&&((r=this._find(n)).length?r.find(".ui-tooltip-content").html(i):(n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),this._addDescribedBy(n,r.attr("id")),r.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),i.clone?(a=i.clone()).removeAttr("id").find("[id]").removeAttr("id"):a=i,t("<div>").html(a).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:l}),l(e)):r.position(t.extend({of:n},this.options.position)),this.hiding=!1,this.closing=!1,r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){r.is(":visible")&&(l(u.of),clearInterval(s))},t.fx.interval)),this._trigger("open",e,{tooltip:r}),o={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}},n[0]!==this.element[0]&&(o.remove=function(){this._removeTooltip(r)}),e&&"mouseover"!==e.type||(o.mouseleave="close"),e&&"focusin"!==e.type||(o.focusout="close"),this._on(!0,n,o)))},close:function(e){var n=this,i=t(e?e.currentTarget:this.element),r=this._find(i);this.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),this.hiding=!0,r.stop(!0),this._hide(r,this.options.hide,function(){n._removeTooltip(t(this)),this.hiding=!1,this.closing=!1}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:r}),this.hiding||(this.closing=!1))},_tooltip:function(e){var n=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=n.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]=e,n},_find:function(e){var n=e.data("ui-tooltip-id");return n?t("#"+n):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i[0],e.close(r,!0),t("#"+n).remove(),i.data("ui-tooltip-title")&&(i.attr("title")||i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})},r=[n(15)],void 0===(o="function"===typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(25);e.SDBDoc=i.SDBDoc;const r=n(133);e.SDBClient=r.SDBClient;const o=n(160);e.SDBServer=o.SDBServer;const s=n(42);e.SDBSubDoc=s.SDBSubDoc},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}u((i=i.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const r=n(42),o=n(43),s=n(26);e.SDBDoc=class extends o.OpSubmittable{constructor(t,e,n){super(),this.docIdentifier=t,this.doc=e,this.sdb=n,this.subscribers=[],this.onOp=((t,e)=>{this.subscribers.forEach(n=>n("op",t,e,this.doc.data))}),this.onCreate=(()=>{this.subscribers.forEach(t=>t("create",null,null,this.doc.data))})}subDoc(t){return new r.SDBSubDoc(this,t)}getIdentifier(){return this.docIdentifier}getData(){return this.doc.data}traverse(t){let e=this.getData(),n=e;for(let i=0;i<t.length;i++)try{n=e=e[t[i]]}catch(e){throw new Error(`Could not traverse path ${t}. Object ${n} does not have property ${t[i]}`)}return e}static relative(t,e){const n=t.length;return s.isArrayEqual(t,e.slice(0,n))?e.slice(n):null}fetch(){return new Promise((t,e)=>{this.doc.fetch(n=>{n?e(n):t(this.doc)})})}create(t,e,n){return new Promise((i,r)=>{this.doc.create(t,e,n,()=>{i(this)})})}del(t=!0){return new Promise((e,n)=>{this.doc.del({source:t},t=>{t?n(t):(this.sdb.deleteDoc(this),e())})})}subscribe(t=(()=>null)){return this.subscribers.push(t),1===this.subscribers.length?(this.doc.addListener("op",this.onOp),this.doc.addListener("create",this.onCreate),new Promise((e,n)=>{this.doc.subscribe(i=>{if(t(null,null,null,this.doc.data),i)throw n(i),i;e()})})):(t(null,null,null,this.doc.data),Promise.resolve())}unsubscribe(t){let e;for(;(e=this.subscribers.indexOf(t))>=0;)this.subscribers.splice(e,1);0===this.subscribers.length&&(this.doc.removeListener("op",this.onOp),this.doc.removeListener("create",this.onCreate))}doSubmitOp(t,e=!0){return new Promise((n,i)=>{this.doc.submitOp(t,{source:e},t=>{t?i(t):n(this)})})}createIfEmpty(t,e,n){return i(this,void 0,void 0,function*(){return null===(yield this.fetch()).type?this.create(t,e,n):this})}destroy(){this.doc.destroy(),this.sdb.deleteDoc(this)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayEqual=function(t,e){if(t.length===e.length){for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1},e.extend=function(t,...e){return e.forEach(e=>{if(e)for(let n in e)t[n]=e[n]}),t}},function(t,e){t.exports=function(t,e,n,i,r){this.id=t,this.v=e,this.type=n,this.data=i,this.m=r}},function(t,e,n){(function(e){var i=n(11),r=n(8),o=n(9);function s(t){i.EventEmitter.call(this),this.interval=t&&t.interval}t.exports=s,i.mixin(s),s.prototype.close=function(t){t&&e.nextTick(t)},s.prototype.getMilestoneSnapshot=function(t,n,i,o){var s=new r(5019,"getMilestoneSnapshot MilestoneDB method unimplemented");if(o)return e.nextTick(o,s);this.emit("error",s)},s.prototype.saveMilestoneSnapshot=function(t,n,i){var o=new r(5020,"saveMilestoneSnapshot MilestoneDB method unimplemented");if(i)return e.nextTick(i,o);this.emit("error",o)},s.prototype._isValidVersion=function(t){return o.isValidVersion(t)}}).call(e,n(1))},function(t,e,n){t.exports=r;var i=n(7).EventEmitter;function r(){i.call(this)}n(12)(r,i),r.Readable=n(30),r.Writable=n(151),r.Duplex=n(152),r.Transform=n(153),r.PassThrough=n(154),r.Stream=r,r.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,"function"===typeof t.destroy&&t.destroy())}function l(t){if(c(),0===i.listenerCount(this,"error"))throw t}function c(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",u),n.removeListener("error",l),t.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return n.on("error",l),t.on("error",l),n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t}},function(t,e,n){(e=t.exports=n(59)).Stream=e,e.Readable=e,e.Writable=n(31),e.Duplex=n(13),e.Transform=n(65),e.PassThrough=n(150)},function(t,e,n){"use strict";(function(e,i,r){var o=n(18);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;t.entry=null;for(;i;){var r=i.callback;e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=y;var a,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:o.nextTick;y.WritableState=v;var l=n(16);l.inherits=n(12);var c={deprecate:n(149)},h=n(61),f=n(19).Buffer,d=r.Uint8Array||function(){};var p,g=n(63);function m(){}function v(t,e){a=a||n(13),t=t||{};var i=e instanceof a;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,l=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,r){--e.pendingcb,n?(o.nextTick(r,i),o.nextTick(C,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(r(i),t._writableState.errorEmitted=!0,t.emit("error",i),C(t,e))}(t,n,i,e,r);else{var s=x(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),i?u(_,t,n,s,r):_(t,n,s,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function y(t){if(a=a||n(13),!p.call(y,this)&&!(this instanceof a))return new y(t);this._writableState=new v(t,this),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),h.call(this)}function b(t,e,n,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function _(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),C(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)r[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;r.allBuffers=u,b(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,h=n.callback;if(b(t,e,!1,e.objectMode?1:l.length,l,c,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function k(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),C(t,e)})}function C(t,e){var n=x(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"===typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(k,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}l.inherits(y,h),v.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(v.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===y&&(t&&t._writableState instanceof v)}})):p=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var i,r=this._writableState,s=!1,a=!r.objectMode&&(i=t,f.isBuffer(i)||i instanceof d);return a&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"===typeof e&&(n=e,e=null),a?e="buffer":e||(e=r.defaultEncoding),"function"!==typeof n&&(n=m),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(a||function(t,e,n,i){var r=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(i,s),r=!1),r}(this,r,t,n))&&(r.pendingcb++,s=function(t,e,n,i,r,o){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=f.from(e,n));return e}(e,i,r);i!==s&&(n=!0,r="buffer",i=s)}var a=e.objectMode?1:i.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,a,i,r,o);return u}(this,r,a,t,e,n)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var i=this._writableState;"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,C(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(e,n(1),n(47).setImmediate,n(6))},function(t,e,n){var i=n(10).map;e.checkOp=function(t){if(null==t||"object"!==typeof t)return{code:4004,message:"Missing op"};if(null!=t.create){if("object"!==typeof t.create)return{code:4006,message:"create data must be an object"};var e=t.create.type;if("string"!==typeof e)return{code:4007,message:"Missing create type"};var n=i[e];if(null==n||"object"!==typeof n)return{code:4008,message:"Unknown type"}}else if(null!=t.del){if(!0!==t.del)return{code:4009,message:"del value must be true"}}else if(null==t.op)return{code:4010,message:"Missing op, create, or del"};return null!=t.src&&"string"!==typeof t.src?{code:4011,message:"Invalid src"}:null!=t.seq&&"number"!==typeof t.seq?{code:4012,message:"Invalid seq"}:null==t.src&&null!=t.seq||null!=t.src&&null==t.seq?{code:4013,message:"Both src and seq must be set together"}:null!=t.m&&"object"!==typeof t.m?{code:4014,message:"op.m invalid"}:void 0},e.normalizeType=function(t){return i[t]&&i[t].uri},e.apply=function(t,e){if("object"!==typeof t)return{code:5002,message:"Missing snapshot"};if(null!=t.v&&null!=e.v&&t.v!==e.v)return{code:5003,message:"Version mismatch"};if(e.create){if(t.type)return{code:4016,message:"Document already exists"};var n=e.create,r=i[n.type];if(!r)return{code:4008,message:"Unknown type"};try{t.data=r.create(n.data),t.type=r.uri,t.v++}catch(o){return o}}else if(e.del)t.data=void 0,t.type=null,t.v++;else if(e.op){var o=function(t,e){if(!t.type)return{code:4015,message:"Document does not exist"};if(null==e)return{code:5004,message:"Missing op"};var n=i[t.type];if(!n)return{code:4008,message:"Unknown type"};try{t.data=n.apply(t.data,e)}catch(t){return t}}(t,e.op);if(o)return o;t.v++}else t.v++},e.transform=function(t,e,n){if(null!=e.v&&e.v!==n.v)return{code:5006,message:"Version mismatch"};if(n.del){if(e.create||e.op)return{code:4017,message:"Document was deleted"}}else{if(n.create&&(e.op||e.create||e.del)||n.op&&e.create)return{code:4018,message:"Document was created remotely"};if(n.op&&e.op){if(!t)return{code:5005,message:"Document does not exist"};if("string"===typeof t&&!(t=i[t]))return{code:4008,message:"Unknown type"};try{e.op=t.transform(e.op,n.op,"left")}catch(t){return t}}}null!=e.v&&e.v++}},function(t,e,n){var i=n(49).type;function r(t,e){if(e.type&&e.type!==i.uri)throw new Error(4023,"Cannot project snapshots of type "+e.type);e.data=s(t,e.data)}function o(t,e){if(e.type&&e.type!==i.uri)return!1;if(null==e.data)return!0;if("object"!==typeof e.data||Array.isArray(e.data))return!1;for(var n in e.data)if(!t[n])return!1;return!0}function s(t,e){if(null==e)return e;if("object"!==typeof e||Array.isArray(e))return null;var n={};for(var i in t)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}e.projectSnapshot=r,e.projectSnapshots=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];r(t,i)}},e.projectOp=function(t,e){e.create&&r(t,e.create);e.op&&(e.op=function(t,e){for(var n=[],i=0;i<e.length;i++){var r=e[i],o=r.p;if(0===o.length){var a={p:[]};void 0===r.od&&void 0===r.oi||(void 0!==r.od&&(a.od=s(t,r.od)),void 0!==r.oi&&(a.oi=s(t,r.oi)),n.push(a))}else t[o[0]]&&n.push(r)}return n}(t,e.op))},e.isSnapshotAllowed=o,e.isOpAllowed=function(t,e,n){if(n.create)return o(e,n.create);if(n.op)return(!t||t===i.uri)&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(0===i.p.length)return!1;if(!t[i.p[0]])return!1}return!0}(e,n.op);return!0}},function(t,e,n){"use strict";var i=n(73);function r(){}var o=null,s={};function a(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==r&&d(t,this)}function u(t,e){for(;3===t._83;)t=t._18;if(a._47&&a._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);!function(t,e){i(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null!==n){var i=function(t,e){try{return t(e)}catch(t){return o=t,s}}(n,t._18);i===s?c(e.promise,o):l(e.promise,i)}else 1===t._83?l(e.promise,t._18):c(e.promise,t._18)})}(t,e)}function l(t,e){if(e===t)return c(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=function(t){try{return t.then}catch(t){return o=t,s}}(e);if(n===s)return c(t,o);if(n===t.then&&e instanceof a)return t._83=3,t._18=e,void h(t);if("function"===typeof n)return void d(n.bind(e),t)}t._83=1,t._18=e,h(t)}function c(t,e){t._83=2,t._18=e,a._71&&a._71(t,e),h(t)}function h(t){if(1===t._75&&(u(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)u(t,t._38[e]);t._38=null}}function f(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function d(t,e){var n=!1,i=function(t,e,n){try{t(e,n)}catch(t){return o=t,s}}(t,function(t){n||(n=!0,l(e,t))},function(t){n||(n=!0,c(e,t))});n||i!==s||(n=!0,c(e,o))}t.exports=a,a._47=null,a._71=null,a._44=r,a.prototype.then=function(t,e){if(this.constructor!==a)return function(t,e,n){return new t.constructor(function(i,o){var s=new a(r);s.then(i,o),u(t,new f(e,n,s))})}(this,t,e);var n=new a(r);return u(this,new f(t,e,n)),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(84),r=n(85),o=n(7),s=n(2);class a extends o.EventEmitter{constructor(){super(),this.states=new Map,this.stateLabels=new Map,this.transitions=new Map,this.transitionLabels=new Map,this.statePayloadToString=(t=>`${t}`),this.transitionPayloadToString=(t=>`${t}`);this.startState=this.activeState=new i.StartState,this.states.set("(start)",this.startState),this.stateLabels.set(this.startState,"(start)"),this.startState.setIsActive(!0),this.addStateListeners(this.startState)}setStatePayloadToString(t){this.statePayloadToString=t}setTransitionPayloadToString(t){this.transitionPayloadToString=t}getStateLabel(t){return this.stateLabels.get(t)}hasState(t){return this.states.has(t)}getState(t){return this.states.get(t)}getStatePayload(t){if(this.hasState(t))return this.getState(t).getPayload();throw new Error(`Could not find state with label ${t}`)}setStatePayload(t,e){if(this.hasState(t))return this.getState(t).setPayload(e),this;throw new Error(`Could not find state with label ${t}`)}getTransition(t){return this.transitions.get(t)}hasTransition(t){return this.transitions.has(t)}getTransitionLabel(t){return this.transitionLabels.get(t)}getTransitionPayload(t){if(this.hasTransition(t))return this.getTransition(t).getPayload();throw new Error(`Could not find transition ${t}`)}setTransitionPayload(t,e){if(this.hasTransition(t))return this.getTransition(t).setPayload(e),this;throw new Error(`Could not find transition ${t}`)}getTransitionAlias(t){if(this.hasTransition(t))return this.getTransition(t).getAlias();throw new Error(`Could not find transition ${t}`)}setTransitionAlias(t,e){if(this.hasTransition(t))return this.getTransition(t).setAlias(e),this;throw new Error(`Could not find transition ${t}`)}fireTransition(t,e,n){if(this.hasTransition(t)){return this.getTransition(t).fire(e,n),this}const i=this.activeState._getOutgoingTransitions();for(let r=0;r<i.length;r++){const o=i[r],s=o.getAlias();if(s&&s===t){o.fire(e,n);break}}}getFireFunction(t){return this.fireTransition.bind(this,t)}addState(t,e=this.getUniqueStateLabel()){if(this.hasState(e))throw new Error(`State container already has a state with label ${e}`);{const n=new i.State(t);return this.states.set(e,n),this.stateLabels.set(n,e),this.addStateListeners(n),this.emit("stateAdded",{state:e,payload:t}),this.emit("update"),e}}removeState(t){const e=this.getState(t);if(t===this.getStartState())throw new Error(`Cannot remove start state ${t}`);if(e)return e.remove(),this;throw new Error(`State container does not have a state with label ${t}`)}addTransition(t,e,n,i,o=this.getUniqueTransitionLabel()){if(!this.hasState(t))throw new Error(`State container does not have a state with label ${t}`);if(!this.hasState(e))throw new Error(`State container does not have a state with label ${e}`);if(this.hasTransition(o))throw new Error(`Container already has a transition with label ${o}`);const s=this.getState(t),a=this.getState(e),u=new r.Transition(s,a,n,i);return this.transitions.set(o,u),this.transitionLabels.set(u,o),this.emit("transitionAdded",{transition:o,from:t,to:e,alias:n,payload:i}),this.emit("update"),this.addTransitionListeners(u),o}removeTransition(t){if(this.hasTransition(t)){return this.getTransition(t).remove(),this}throw new Error("Could not find transition")}getActiveState(){return this.getStateLabel(this.activeState)}setActiveState(t){if(!this.hasState(t))throw new Error(`State container does not have a state with label ${t}`);return this.activeState&&this.activeState.setIsActive(!1),this.getState(t).setIsActive(!0),this}getStates(){return Array.from(this.states.keys())}getTransitions(){return Array.from(this.transitions.keys())}getUniqueStateLabel(){let t=0;for(;this.hasState(`state_${t}`);)t++;return`state_${t}`}getUniqueTransitionLabel(){let t=0;for(;this.hasTransition(`transition_${t}`);)t++;return`transition_${t}`}getStartState(){return this.getStateLabel(this.startState)}isStartState(t){if(!this.hasState(t))throw new Error(`State container does not have a state with label ${t}`);return this.getState(t).isStartState()}getOutgoingTransitions(t){if(!this.hasState(t))throw new Error(`State container does not have a state with label ${t}`);return this.getState(t)._getOutgoingTransitions().map(t=>this.getTransitionLabel(t))}getIncomingTransitions(t){if(!this.hasState(t))throw new Error(`State container does not have a state with label ${t}`);return this.getState(t)._getIncomingTransitions().map(t=>this.getTransitionLabel(t))}getTransitionTo(t){if(!this.hasTransition(t))throw new Error(`State container does not have a transition with label ${t}`);const e=this.getTransition(t);return this.getStateLabel(e.getToState())}getTransitionFrom(t){if(!this.hasTransition(t))throw new Error(`State container does not have a transition with label ${t}`);const e=this.getTransition(t);return this.getStateLabel(e.getFromState())}setTransitionTo(t,e){if(!this.hasTransition(t))throw new Error(`State container does not have a transition with label ${t}`);if(!this.hasState(e))throw new Error(`State container does not have a state with label ${e}`);return this.getTransition(t).setToState(this.getState(e)),this}setTransitionFrom(t,e){if(!this.hasTransition(t))throw new Error(`State container does not have a transition with label ${t}`);if(!this.hasState(e))throw new Error(`State container does not have a state with label ${e}`);return this.getTransition(t).setFromState(this.getState(e)),this}toString(){const t="~".repeat(40),e=this.getActiveState(),n=(t,e)=>{const n=e-t.length;return n>0?t+" ".repeat(n):t};let i=`${t}\n${(t=>{const e=t.length,n=Math.round((40-e)/2);return" ".repeat(n)+t})("FSM")}\n${t}\n`;return this.getStates().forEach(t=>{i+=`${e===t?"*":" "}${n(t+":",10)} ${this.statePayloadToString(this.getStatePayload(t))}\n`;const r=this.getOutgoingTransitions(t);r.length>0&&r.forEach(t=>{i+=n(`${" ".repeat(4)} --(${t})--\x3e ${this.getTransitionTo(t)}`,30),i+=`: ${this.transitionPayloadToString(this.getTransitionPayload(t))}\n`})}),i}destroy(){this.states.clear(),this.stateLabels.clear(),this.transitions.clear(),this.transitionLabels.clear(),this.emit("destroyed"),this.emit("update")}getStartTransition(){const t=this.getOutgoingTransitions(this.getStartState());return t.length>0?t[0]:null}addStateListeners(t){const e=this.getStateLabel(t);t.on("active",n=>{const i=this.activeState;let r;if(i)try{r=this.getStateLabel(i)}catch(t){}this.activeState=t,this.emit("activeStateChanged",{state:e,oldActiveState:r}),this.emit("update")}),t.on("payloadChanged",t=>{const{payload:n}=t;this.emit("statePayloadChanged",{state:e,payload:n}),this.emit("update")}),t.on("removed",n=>{this.states.delete(e),this.stateLabels.delete(t),this.emit("stateRemoved",{state:e}),this.emit("update")})}addTransitionListeners(t){const e=this.getTransitionLabel(t);t.on("fromStateChanged",t=>{const{oldFrom:n,state:i}=t;this.emit("transitionFromStateChanged",{transition:e,oldFrom:this.getStateLabel(n),state:this.getStateLabel(i)}),this.emit("update")}),t.on("toStateChanged",t=>{const{oldTo:n,state:i}=t;this.emit("transitionToStateChanged",{transition:e,oldTo:this.getStateLabel(n),state:this.getStateLabel(i)}),this.emit("update")}),t.on("payloadChanged",t=>{const{payload:n}=t;this.emit("transitionPayloadChanged",{transition:e,payload:n}),this.emit("update")}),t.on("fire",t=>{this.emit("transitionFiredEvent",{transition:e,eligible:t.eligible,event:t.event}),this.emit("update")}),t.on("aliasChanged",t=>{const{alias:n}=t;this.emit("transitionAliasChanged",{transition:e,alias:n}),this.emit("update")}),t.on("removed",n=>{const i=this.getTransitionTo(e),r=this.getTransitionFrom(e);this.transitions.delete(e),this.transitionLabels.delete(t),this.emit("transitionRemoved",{transition:e,oldFrom:r,oldTo:i}),this.emit("update")})}static fromJSON(t){const e=new a;return e.addState(t.initial,t.initial),s.keys(t.states).forEach(n=>{n!==t.initial&&e.addState("",n)}),e.addTransition("(start)",t.initial,"start"),s.forEach(t.states,(t,n)=>{s.forEach(t.on,(t,i)=>{let r;r=s.isString(t)?t:s.keys(t)[0],e.addTransition(n,r,i,i)})}),e}toJSON(){const t={initial:this.getTransitionTo(this.getOutgoingTransitions(this.getStartState())[0]),states:{}},{states:e}=t;return this.getStates().forEach(e=>{e!==this.getStartState()&&(t.states[e]={on:{}},this.getOutgoingTransitions(e).forEach(n=>{const i=this.getTransitionPayload(n)+"";t.states[e].on[i]=this.getTransitionTo(n)}))}),t}serialize(){const t={startState:this.getStartState(),states:{},transitions:{}},e=this.getActiveState();return this.getStates().forEach(n=>{t.states[n]={payload:this.getStatePayload(n),active:e===n}}),this.getTransitions().forEach(e=>{t.transitions[e]={payload:this.getTransitionPayload(e),alias:this.getTransitionAlias(e),from:this.getTransitionFrom(e),to:this.getTransitionTo(e)}}),t}static deserialize(t,e=new a){return s.each(t.states,(n,i)=>{const{active:r,payload:o}=n;i===t.startState?e.setStatePayload(i,o):e.addState(o,i),r&&e.setActiveState(i)}),s.each(t.transitions,(t,n)=>{const{from:i,to:r,payload:o,alias:s}=t;e.addTransition(i,r,s,o,n)}),e}}e.FSM=a},function(t,e,n){var i=n(4),r=n(37);t.exports=function(t,e,n,i){return function(t,e,n,i){var o,s,a={},u=new r,l=function(t){var e=t.v!==o?t.v:t.w,i=a[e],r=n(t),l=s.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+r);l<i.distance&&(i.distance=l,i.predecessor=o,u.decrease(e,l))};t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;a[t]={distance:n},u.add(t,n)});for(;u.size()>0&&(o=u.removeMin(),(s=a[o]).distance!==Number.POSITIVE_INFINITY);)i(o).forEach(l);return a}(t,String(e),n||o,i||function(e){return t.outEdges(e)})};var o=i.constant(1)},function(t,e,n){var i=n(4);function r(){this._arr=[],this._keyIndices={}}t.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(t){return t.key})},r.prototype.has=function(t){return i.has(this._keyIndices,t)},r.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!i.has(n,t)){var r=this._arr,o=r.length;return n[t]=o,r.push({key:t,priority:e}),this._decrease(o),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},r.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},r.prototype._heapify=function(t){var e=this._arr,n=2*t,i=n+1,r=t;n<e.length&&(r=e[n].priority<e[r].priority?n:r,i<e.length&&(r=e[i].priority<e[r].priority?i:r),r!==t&&(this._swap(t,r),this._heapify(r)))},r.prototype._decrease=function(t){for(var e,n=this._arr,i=n[t].priority;0!==t&&!(n[e=t>>1].priority<i);)this._swap(t,e),t=e},r.prototype._swap=function(t,e){var n=this._arr,i=this._keyIndices,r=n[t],o=n[e];n[t]=o,n[e]=r,i[o.key]=t,i[r.key]=e}},function(t,e,n){var i=n(4);t.exports=function(t){var e=0,n=[],r={},o=[];return t.nodes().forEach(function(s){i.has(r,s)||function s(a){var u=r[a]={onStack:!0,lowlink:e,index:e++};if(n.push(a),t.successors(a).forEach(function(t){i.has(r,t)?r[t].onStack&&(u.lowlink=Math.min(u.lowlink,r[t].index)):(s(t),u.lowlink=Math.min(u.lowlink,r[t].lowlink))}),u.lowlink===u.index){var l,c=[];do{l=n.pop(),r[l].onStack=!1,c.push(l)}while(a!==l);o.push(c)}}(s)}),o}},function(t,e,n){var i=n(4);function r(t){var e={},n={},r=[];if(i.each(t.sinks(),function s(a){if(i.has(n,a))throw new o;i.has(e,a)||(n[a]=!0,e[a]=!0,i.each(t.predecessors(a),s),delete n[a],r.push(a))}),i.size(e)!==t.nodeCount())throw new o;return r}function o(){}t.exports=r,r.CycleException=o},function(t,e,n){var i=n(4);t.exports=function(t,e,n){i.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),o=[],s={};return i.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,r,o,s,a){i.has(o,n)||(o[n]=!0,r||a.push(n),i.each(s(n),function(n){t(e,n,r,o,s,a)}),r&&a.push(n))}(t,e,"post"===n,s,r,o)}),o}},function(t,e,n){"use strict";var i=n(0),r=n(5).Graph,o=n(17).slack;function s(t,e){return i.forEach(t.nodes(),function n(r){i.forEach(e.nodeEdges(r),function(i){var s=i.v,a=r===s?i.w:s;t.hasNode(a)||o(e,i)||(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))})}),t.nodeCount()}function a(t,e){return i.minBy(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return o(e,n)})}function u(t,e,n){i.forEach(t.nodes(),function(t){e.node(t).rank+=n})}t.exports=function(t){var e,n,i=new r({directed:!1}),l=t.nodes()[0],c=t.nodeCount();i.setNode(l,{});for(;s(i,t)<c;)e=a(i,t),n=i.hasNode(e.v)?o(t,e):-o(t,e),u(i,t,n);return i}},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}u((i=i.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const r=n(25),o=n(43),s=n(26);e.SDBSubDoc=class extends o.OpSubmittable{constructor(t,e){super(),this.doc=t,this.path=e,this.subscriptionShims=new Map}subscribe(t=(()=>null)){const e=(e,n,i,o)=>{if("op"===e){const o=[];if(n.forEach(t=>{const e=r.SDBDoc.relative(this.path,t.p);e&&o.push({op:t,rp:e})}),o.length>0){const n=o.map(({op:t,rp:e})=>s.extend({},t,{p:e}));t&&t(e,n,i,this.getData())}}else t&&t(e,n,i,this.getData())};return this.subscriptionShims.has(t)?this.subscriptionShims.set(t,this.subscriptionShims.get(t).concat([e])):this.subscriptionShims.set(t,[e]),this.doc.subscribe(e)}unsubscribe(t){this.subscriptionShims.has(t)&&(this.subscriptionShims.get(t).forEach(t=>this.doc.unsubscribe(t)),this.subscriptionShims.delete(t))}getData(){try{return this.doc.traverse(this.path)}catch(t){return null}}doSubmitOp(t,e=!0){return i(this,void 0,void 0,function*(){const n=t.map(t=>s.extend({},t,{p:this.path.concat(t.p)}));return yield this.doc.submitOp(n,e),this})}traverse(t){return this.doc.traverse(this.path.concat(t))}}},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}u((i=i.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});e.OpSubmittable=class{constructor(){}submitObjectReplaceOp(t,e,n=this.traverse(t)){return i(this,void 0,void 0,function*(){return yield this.submitOp([{p:t,oi:e,od:n}])})}submitObjectInsertOp(t,e){return i(this,void 0,void 0,function*(){return yield this.submitOp([{p:t,oi:e}])})}submitObjectDeleteOp(t,e=this.traverse(t)){return i(this,void 0,void 0,function*(){return yield this.submitOp([{p:t,od:e}])})}submitListReplaceOp(t,e,n=this.traverse(t)){return i(this,void 0,void 0,function*(){return yield this.submitOp([{p:t,li:e,ld:n}])})}submitListInsertOp(t,e){return i(this,void 0,void 0,function*(){return yield this.submitOp([{p:t,li:e}])})}submitListDeleteOp(t,e=this.traverse(t)){return i(this,void 0,void 0,function*(){return yield this.submitOp([{p:t,ld:e}])})}submitNumberAddOp(t,e){return i(this,void 0,void 0,function*(){return yield this.submitOp([{p:t,na:e}])})}submitListSpliceOp(t,e,n,...r){return i(this,void 0,void 0,function*(){const i=[],o=this.traverse(t);for(let r=e+n-1;r>=e;r--){const e=t.concat([r]);i.push({p:e,ld:o[r]})}const s=r.map((n,i)=>({p:t.concat([e+i]),li:n})),a=Array.prototype.concat(i,s);return yield this.submitOp(a)})}submitListPushOp(t,...e){return i(this,void 0,void 0,function*(){const n=this.traverse(t).length,i=e.map((e,i)=>({p:t.concat(n+i),li:e}));return yield this.submitOp(i)})}submitListUnshiftOp(t,...e){return i(this,void 0,void 0,function*(){const n=e.map((e,n)=>({p:t.concat(n),li:e}));return yield this.submitOp(n)})}submitOp(t,e){return this.doSubmitOp(t,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(45),r=n(25);e.SDB=class{constructor(){this.docs=new Map}getDocIdentifier(t,e){return[t,e]}get(t,e){const n=this.getDocIdentifier(t,e);let i;if(this.docs.has(n))i=this.docs.get(n);else{const o=this.connection.get(t,e);i=new r.SDBDoc(n,o,this),this.docs.set(n,i)}return i}static registerType(t){i.types.register(t)}deleteDoc(t){this.docs.delete(t.getIdentifier())}}},function(t,e,n){var i=n(134);t.exports=i,i.Agent=n(48),i.Backend=i,i.DB=n(55),i.Error=n(8),i.MemoryDB=n(54),i.MemoryMilestoneDB=n(158),i.MemoryPubSub=n(56),i.MilestoneDB=n(28),i.ot=n(32),i.projections=n(33),i.PubSub=n(57),i.QueryEmitter=n(66),i.SubmitRequest=n(67),i.types=n(10)},function(t,e,n){(function(n,i,r){var o;!function(){var s,a={};function u(){}function l(t){return t}function c(t){return!!t}function h(t){return!t}var f="object"===typeof self&&self.self===self&&self||"object"===typeof n&&n.global===n&&n||this;function d(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function p(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}null!=f&&(s=f.async),a.noConflict=function(){return f.async=s,a};var g=Object.prototype.toString,m=Array.isArray||function(t){return"[object Array]"===g.call(t)};function v(t){return m(t)||"number"===typeof t.length&&t.length>=0&&t.length%1===0}function y(t,e){for(var n=-1,i=t.length;++n<i;)e(t[n],n,t)}function b(t,e){for(var n=-1,i=t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function _(t){return b(Array(t),function(t,e){return e})}function w(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var x=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};function k(t){var e,n,i=-1;return v(t)?(e=t.length,function(){return++i<e?i:null}):(n=x(t),e=n.length,function(){return++i<e?n[i]:null})}function C(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i)}}}function S(t){return function(e,n,i){return t(e,i)}}var T="function"===typeof i&&i,E=T?function(t){T(t)}:function(t){setTimeout(t,0)};function P(t){return function(e,n,i){i=p(i||u);var r=k(e=e||[]);if(t<=0)return i(null);var o=!1,s=0,a=!1;!function u(){if(o&&s<=0)return i(null);for(;s<t&&!a;){var l=r();if(null===l)return o=!0,void(s<=0&&i(null));s+=1,n(e[l],l,d(function(t){s-=1,t?(i(t),a=!0):u()}))}}()}}function D(t){return function(e,n,i){return t(a.eachOf,e,n,i)}}function M(t){return function(e,n,i,r){return t(P(n),e,i,r)}}function O(t){return function(e,n,i){return t(a.eachOfSeries,e,n,i)}}function A(t,e,n,i){i=p(i||u);var r=v(e=e||[])?[]:{};t(e,function(t,e,i){n(t,function(t,n){r[e]=n,i(t)})},function(t){i(t,r)})}function I(t,e,n,i){var r=[];t(e,function(t,e,i){n(t,function(n){n&&r.push({index:e,value:t}),i()})},function(){i(b(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function N(t,e,n,i){I(t,e,function(t,e){n(t,function(t){e(!t)})},i)}function R(t,e,n){return function(i,r,o,s){function a(){s&&s(n(!1,void 0))}function u(t,i,r){if(!s)return r();o(t,function(i){s&&e(i)&&(s(n(!0,t)),s=o=!1),r()})}arguments.length>3?t(i,r,u,a):(s=o,o=r,t(i,u,a))}}function j(t,e){return e}function L(t,e,n){n=n||u;var i=v(e)?[]:{};t(e,function(t,e,n){t(C(function(t,r){r.length<=1&&(r=r[0]),i[e]=r,n(t)}))},function(t){n(t,i)})}function F(t,e,n,i){var r=[];t(e,function(t,e,i){n(t,function(t,e){r=r.concat(e||[]),i(t)})},function(t){i(t,r)})}function z(t,e,n){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");function i(t,e,n,i){if(null!=i&&"function"!==typeof i)throw new Error("task callback must be a function");if(t.started=!0,m(e)||(e=[e]),0===e.length&&t.idle())return a.setImmediate(function(){t.drain()});y(e,function(e){var r={data:e,callback:i||u};n?t.tasks.unshift(r):t.tasks.push(r),t.tasks.length===t.concurrency&&t.saturated()}),a.setImmediate(t.process)}function r(t,e){return function(){o-=1;var n=!1,i=arguments;y(e,function(t){y(s,function(e,i){e!==t||n||(s.splice(i,1),n=!0)}),t.callback.apply(t,i)}),t.tasks.length+o===0&&t.drain(),t.process()}}var o=0,s=[],l={tasks:[],concurrency:e,payload:n,saturated:u,empty:u,drain:u,started:!1,paused:!1,push:function(t,e){i(l,t,!1,e)},kill:function(){l.drain=u,l.tasks=[]},unshift:function(t,e){i(l,t,!0,e)},process:function(){for(;!l.paused&&o<l.concurrency&&l.tasks.length;){var e=l.payload?l.tasks.splice(0,l.payload):l.tasks.splice(0,l.tasks.length),n=b(e,function(t){return t.data});0===l.tasks.length&&l.empty(),o+=1,s.push(e[0]);var i=d(r(l,e));t(n,i)}},length:function(){return l.tasks.length},running:function(){return o},workersList:function(){return s},idle:function(){return l.tasks.length+o===0},pause:function(){l.paused=!0},resume:function(){if(!1!==l.paused){l.paused=!1;for(var t=Math.min(l.concurrency,l.tasks.length),e=1;e<=t;e++)a.setImmediate(l.process)}}};return l}function B(t){return C(function(e,n){e.apply(null,n.concat([C(function(e,n){"object"===typeof console&&(e?console.error&&console.error(e):console[t]&&y(n,function(e){console[t](e)}))})]))})}function q(t){return function(e,n,i){t(_(e),n,i)}}function H(t){return C(function(e,n){var i=C(function(n){var i=this,r=n.pop();return t(e,function(t,e,r){t.apply(i,n.concat([r]))},r)});return n.length?i.apply(this,n):i})}function W(t){return C(function(e){var n=e.pop();e.push(function(){var t=arguments;i?a.setImmediate(function(){n.apply(null,t)}):n.apply(null,t)});var i=!0;t.apply(this,e),i=!1})}"object"===typeof r&&"function"===typeof r.nextTick?a.nextTick=r.nextTick:a.nextTick=E,a.setImmediate=T?E:a.nextTick,a.forEach=a.each=function(t,e,n){return a.eachOf(t,S(e),n)},a.forEachSeries=a.eachSeries=function(t,e,n){return a.eachOfSeries(t,S(e),n)},a.forEachLimit=a.eachLimit=function(t,e,n,i){return P(e)(t,S(n),i)},a.forEachOf=a.eachOf=function(t,e,n){n=p(n||u);for(var i,r=k(t=t||[]),o=0;null!=(i=r());)o+=1,e(t[i],i,d(s));function s(t){o--,t?n(t):null===i&&o<=0&&n(null)}0===o&&n(null)},a.forEachOfSeries=a.eachOfSeries=function(t,e,n){n=p(n||u);var i=k(t=t||[]),r=i();!function o(){var s=!0;if(null===r)return n(null);e(t[r],r,d(function(t){if(t)n(t);else{if(null===(r=i()))return n(null);s?a.setImmediate(o):o()}})),s=!1}()},a.forEachOfLimit=a.eachOfLimit=function(t,e,n,i){P(e)(t,n,i)},a.map=D(A),a.mapSeries=O(A),a.mapLimit=M(A),a.inject=a.foldl=a.reduce=function(t,e,n,i){a.eachOfSeries(t,function(t,i,r){n(e,t,function(t,n){e=n,r(t)})},function(t){i(t,e)})},a.foldr=a.reduceRight=function(t,e,n,i){var r=b(t,l).reverse();a.reduce(r,e,n,i)},a.transform=function(t,e,n,i){3===arguments.length&&(i=n,n=e,e=m(t)?[]:{}),a.eachOf(t,function(t,i,r){n(e,t,i,r)},function(t){i(t,e)})},a.select=a.filter=D(I),a.selectLimit=a.filterLimit=M(I),a.selectSeries=a.filterSeries=O(I),a.reject=D(N),a.rejectLimit=M(N),a.rejectSeries=O(N),a.any=a.some=R(a.eachOf,c,l),a.someLimit=R(a.eachOfLimit,c,l),a.all=a.every=R(a.eachOf,h,h),a.everyLimit=R(a.eachOfLimit,h,h),a.detect=R(a.eachOf,l,j),a.detectSeries=R(a.eachOfSeries,l,j),a.detectLimit=R(a.eachOfLimit,l,j),a.sortBy=function(t,e,n){function i(t,e){var n=t.criteria,i=e.criteria;return n<i?-1:n>i?1:0}a.map(t,function(t,n){e(t,function(e,i){e?n(e):n(null,{value:t,criteria:i})})},function(t,e){if(t)return n(t);n(null,b(e.sort(i),function(t){return t.value}))})},a.auto=function(t,e,n){"function"===typeof arguments[1]&&(n=e,e=null),n=p(n||u);var i=x(t),r=i.length;if(!r)return n(null);e||(e=r);var o={},s=0,l=!1,c=[];function h(t){c.unshift(t)}function f(){r--,y(c.slice(0),function(t){t()})}h(function(){r||n(null,o)}),y(i,function(i){if(!l){for(var r,u=m(t[i])?t[i]:[t[i]],d=C(function(t,e){if(s--,e.length<=1&&(e=e[0]),t){var r={};c=function(t,e){r[e]=t},y(x(u=o),function(t){c(u[t],t)}),r[i]=e,l=!0,n(t,r)}else o[i]=e,a.setImmediate(f);var u,c}),p=u.slice(0,u.length-1),g=p.length;g--;){if(!(r=t[p[g]]))throw new Error("Has nonexistent dependency in "+p.join(", "));if(m(r)&&w(r,i)>=0)throw new Error("Has cyclic dependencies")}v()?(s++,u[u.length-1](d,o)):h(function t(){v()&&(s++,(e=w(c,t))>=0&&c.splice(e,1),u[u.length-1](d,o));var e})}function v(){return s<e&&(t=function(t,e){return t&&o.hasOwnProperty(e)},n=!0,y(p,function(e,i,r){n=t(n,e,i,r)}),n)&&!o.hasOwnProperty(i);var t,n}})},a.retry=function(t,e,n){var i=5,r=0,o=[],s={times:i,interval:r};var u=arguments.length;if(u<1||u>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");function l(t,e){function n(t,n){return function(i){t(function(t,e){i(!t||n,{err:t,result:e})},e)}}function i(t){return function(e){setTimeout(function(){e(null)},t)}}for(;s.times;){var r=!(s.times-=1);o.push(n(s.task,r)),!r&&s.interval>0&&o.push(i(s.interval))}a.series(o,function(e,n){n=n[n.length-1],(t||s.callback)(n.err,n.result)})}return u<=2&&"function"===typeof t&&(n=e,e=t),"function"!==typeof t&&function(t,e){if("number"===typeof e)t.times=parseInt(e,10)||i;else{if("object"!==typeof e)throw new Error("Unsupported argument type for 'times': "+typeof e);t.times=parseInt(e.times,10)||i,t.interval=parseInt(e.interval,10)||r}}(s,t),s.callback=n,s.task=e,s.callback?l():l},a.waterfall=function(t,e){if(e=p(e||u),!m(t)){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();!function t(n){return C(function(i,r){if(i)e.apply(null,[i].concat(r));else{var o=n.next();o?r.push(t(o)):r.push(e),W(n).apply(null,r)}})}(a.iterator(t))()},a.parallel=function(t,e){L(a.eachOf,t,e)},a.parallelLimit=function(t,e,n){L(P(e),t,n)},a.series=function(t,e){L(a.eachOfSeries,t,e)},a.iterator=function(t){return function e(n){function i(){return t.length&&t[n].apply(null,arguments),i.next()}return i.next=function(){return n<t.length-1?e(n+1):null},i}(0)},a.apply=C(function(t,e){return C(function(n){return t.apply(null,e.concat(n))})}),a.concat=D(F),a.concatSeries=O(F),a.whilst=function(t,e,n){if(n=n||u,t()){var i=C(function(r,o){r?n(r):t.apply(this,o)?e(i):n.apply(null,[null].concat(o))});e(i)}else n(null)},a.doWhilst=function(t,e,n){var i=0;return a.whilst(function(){return++i<=1||e.apply(this,arguments)},t,n)},a.until=function(t,e,n){return a.whilst(function(){return!t.apply(this,arguments)},e,n)},a.doUntil=function(t,e,n){return a.doWhilst(t,function(){return!e.apply(this,arguments)},n)},a.during=function(t,e,n){n=n||u;var i=C(function(e,i){e?n(e):(i.push(r),t.apply(this,i))}),r=function(t,r){t?n(t):r?e(i):n(null)};t(r)},a.doDuring=function(t,e,n){var i=0;a.during(function(t){i++<1?t(null,!0):e.apply(this,arguments)},t,n)},a.queue=function(t,e){return z(function(e,n){t(e[0],n)},e,1)},a.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}var i=a.queue(t,e);return i.push=function(t,e,r){!function(t,e,i,r){if(null!=r&&"function"!==typeof r)throw new Error("task callback must be a function");if(t.started=!0,m(e)||(e=[e]),0===e.length)return a.setImmediate(function(){t.drain()});y(e,function(e){var o={data:e,priority:i,callback:"function"===typeof r?r:u};t.tasks.splice(function(t,e,n){for(var i=-1,r=t.length-1;i<r;){var o=i+(r-i+1>>>1);n(e,t[o])>=0?i=o:r=o-1}return i}(t.tasks,o,n)+1,0,o),t.tasks.length===t.concurrency&&t.saturated(),a.setImmediate(t.process)})}(i,t,e,r)},delete i.unshift,i},a.cargo=function(t,e){return z(t,1,e)},a.log=B("log"),a.dir=B("dir"),a.memoize=function(t,e){var n={},i={},r=Object.prototype.hasOwnProperty;e=e||l;var o=C(function(o){var s=o.pop(),u=e.apply(null,o);r.call(n,u)?a.setImmediate(function(){s.apply(null,n[u])}):r.call(i,u)?i[u].push(s):(i[u]=[s],t.apply(null,o.concat([C(function(t){n[u]=t;var e=i[u];delete i[u];for(var r=0,o=e.length;r<o;r++)e[r].apply(null,t)})])))});return o.memo=n,o.unmemoized=t,o},a.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},a.times=q(a.map),a.timesSeries=q(a.mapSeries),a.timesLimit=function(t,e,n,i){return a.mapLimit(_(t),e,n,i)},a.seq=function(){var t=arguments;return C(function(e){var n=this,i=e[e.length-1];"function"==typeof i?e.pop():i=u,a.reduce(t,e,function(t,e,i){e.apply(n,t.concat([C(function(t,e){i(t,e)})]))},function(t,e){i.apply(n,[t].concat(e))})})},a.compose=function(){return a.seq.apply(null,Array.prototype.reverse.call(arguments))},a.applyEach=H(a.eachOf),a.applyEachSeries=H(a.eachOfSeries),a.forever=function(t,e){var n=d(e||u),i=W(t);!function t(e){if(e)return n(e);i(t)}()},a.ensureAsync=W,a.constant=C(function(t){var e=[null].concat(t);return function(t){return t.apply(this,e)}}),a.wrapSync=a.asyncify=function(t){return C(function(e){var n,i,r,o=e.pop();try{n=t.apply(this,e)}catch(t){return o(t)}("function"===(r=typeof(i=n))||"object"===r&&i)&&"function"===typeof n.then?n.then(function(t){o(null,t)}).catch(function(t){o(t.message?t:new Error(t))}):o(null,n)})},"object"===typeof t&&t.exports?t.exports=a:void 0===(o=function(){return a}.apply(e,[]))||(t.exports=o)}()}).call(e,n(6),n(47).setImmediate,n(1))},function(t,e,n){(function(t){var i="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(135),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(e,n(6))},function(t,e,n){(function(e){var i=n(136),r=n(9),o=n(10);function s(t,e){this.backend=t,this.stream=e,this.clientId=i(),this.connectTime=Date.now(),this.subscribedDocs={},this.subscribedQueries={},this.closed=!1,this.custom={},this.send({a:"init",protocol:1,id:this.clientId,type:o.defaultType.uri})}function a(t){var e,n,i,r=t.r;if(r){e=[];for(var o=0;o<r.length;o++){var s=r[o],a=s[0],u=s[1];e.push(a),null==u?n?n.push(a):n=[a]:(i||(i={}),i[a]=u)}}var l=t.o||{};return l.ids=e,l.fetch=n,l.fetchOps=i,l}function u(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=c(i);r.d=i.id,e.push(r)}return e}function l(t){var e={};for(var n in t)e[n]=c(t[n]);return e}function c(t){var e={v:t.v,data:t.data};return o.defaultType!==o.map[t.type]&&(e.type=t.type),e}t.exports=s,s.prototype.close=function(t){t&&console.warn("Agent closed due to error",this.clientId,t.stack||t),this.closed||this.stream.end()},s.prototype._cleanup=function(){for(var t in this.closed=!0,this.subscribedDocs){var e=this.subscribedDocs[t];for(var n in e){e[n].destroy()}}for(var n in this.subscribedDocs={},this.subscribedQueries){this.subscribedQueries[n].destroy()}this.subscribedQueries={}},s.prototype._subscribeToStream=function(t,e,n){if(this.closed)return n.destroy();var i=this.subscribedDocs[t]||(this.subscribedDocs[t]={}),o=i[e];o&&o.destroy(),i[e]=n;var s=this;n.on("data",function(n){n.error?console.error("Doc subscription stream error",t,e,n.error):s._isOwnOp(t,n)||s._sendOp(t,e,n)}),n.on("end",function(){var n=s.subscribedDocs[t];n&&(delete n[e],r.hasKeys(n)||delete s.subscribedDocs[t])})},s.prototype._subscribeToQuery=function(t,e,n,i){var r=this.subscribedQueries[e];r&&r.destroy(),this.subscribedQueries[e]=t;var o=this;t.onExtra=function(t){o.send({a:"q",id:e,extra:t})},t.onDiff=function(t){for(var n=0;n<t.length;n++){var i=t[n];"insert"===i.type&&(i.values=u(i.values))}o.send({a:"q",id:e,diff:t})},t.onError=function(t){console.error("Query subscription stream error",n,i,t)},t.onOp=function(t){var e=t.d;o._isOwnOp(n,t)||o._sendOp(n,e,t)},t._open()},s.prototype._isOwnOp=function(t,e){return this.clientId===e.src&&t===(e.i||e.c)},s.prototype.send=function(t){this.closed||(this.backend.emit("send",this,t),this.stream.write(t))},s.prototype._sendOp=function(t,e,n){var i={a:"op",c:t,d:e,v:n.v,src:n.src,seq:n.seq};n.op&&(i.op=n.op),n.create&&(i.create=n.create),n.del&&(i.del=!0),this.send(i)},s.prototype._sendOps=function(t,e,n){for(var i=0;i<n.length;i++)this._sendOp(t,e,n[i])},s.prototype._reply=function(t,e,n){if(e)return"string"===typeof e?t.error={code:4001,message:e}:(e.stack&&console.warn(e.stack),t.error={code:e.code,message:e.message}),void this.send(t);n||(n={}),n.a=t.a,t.id?n.id=t.id:(t.c&&(n.c=t.c),t.d&&(n.d=t.d),t.b&&!n.data&&(n.b=t.b)),this.send(n)},s.prototype._open=function(){if(!this.closed){this.backend.agentsCount++,this.stream.isServer||this.backend.remoteAgentsCount++;var t=this;this.stream.on("data",function(e){if(!t.closed){if("object"!==typeof e){return t.close({code:4e3,message:"Received non-object message"})}var n={data:e};t.backend.trigger("receive",t,n,function(e){var i=function(e,i){t._reply(n.data,e,i)};if(e)return i(e);t._handleMessage(n.data,i)})}}),this.stream.on("end",function(){t.backend.agentsCount--,t.stream.isServer||t.backend.remoteAgentsCount--,t._cleanup()})}},s.prototype._checkRequest=function(t){if("qf"===t.a||"qs"===t.a||"qu"===t.a){if("number"!==typeof t.id)return"Missing query ID"}else if("op"===t.a||"f"===t.a||"s"===t.a||"u"===t.a){if(null!=t.c&&"string"!==typeof t.c)return"Invalid collection";if(null!=t.d&&"string"!==typeof t.d)return"Invalid id";if("op"===t.a&&null!=t.v&&("number"!==typeof t.v||t.v<0))return"Invalid version"}else if("bf"===t.a||"bs"===t.a||"bu"===t.a){if(null!=t.c&&"string"!==typeof t.c)return"Invalid collection";if("object"!==typeof t.b)return"Invalid bulk subscribe data"}},s.prototype._handleMessage=function(t,e){try{var n=this._checkRequest(t);if(n)return e({code:4e3,message:n});switch(t.a){case"qf":return this._queryFetch(t.id,t.c,t.q,a(t),e);case"qs":return this._querySubscribe(t.id,t.c,t.q,a(t),e);case"qu":return this._queryUnsubscribe(t.id,e);case"bf":return this._fetchBulk(t.c,t.b,e);case"bs":return this._subscribeBulk(t.c,t.b,e);case"bu":return this._unsubscribeBulk(t.c,t.b,e);case"f":return this._fetch(t.c,t.d,t.v,e);case"s":return this._subscribe(t.c,t.d,t.v,e);case"u":return this._unsubscribe(t.c,t.d,e);case"op":var i=this._createOp(t);return i?this._submit(t.c,t.d,i,e):e({code:4e3,message:"Invalid op message"});case"nf":return this._fetchSnapshot(t.c,t.d,t.v,e);default:e({code:4e3,message:"Invalid or unknown message"})}}catch(t){e(t)}},s.prototype._queryFetch=function(t,e,n,i,r){this.backend.queryFetch(this,e,n,i,function(t,e,n){if(t)return r(t);var i={data:u(e),extra:n};r(null,i)})},s.prototype._querySubscribe=function(t,e,n,i,r){var o,s=this,a=1;function c(t){if(t)return r(t);--a||r(null,o)}i.fetch&&(a++,this.backend.fetchBulk(this,e,i.fetch,function(t,e){if(t)return c(t);o={data:l(e)},c()})),i.fetchOps&&(a++,this._fetchBulkOps(e,i.fetchOps,c)),this.backend.querySubscribe(this,e,n,i,function(i,r,a,l){return i?c(i):this.closed?r.destroy():(s._subscribeToQuery(r,t,e,n),void(a?(o={data:u(a),extra:l},c()):r.queryPoll(c)))})},s.prototype._queryUnsubscribe=function(t,n){var i=this.subscribedQueries[t];i&&(i.destroy(),delete this.subscribedQueries[t]),e.nextTick(n)},s.prototype._fetch=function(t,e,n,i){null==n?this.backend.fetch(this,t,e,function(t,e){if(t)return i(t);i(null,{data:c(e)})}):this._fetchOps(t,e,n,i)},s.prototype._fetchOps=function(t,e,n,i){var r=this;this.backend.getOps(this,t,e,n,null,function(n,o){if(n)return i(n);r._sendOps(t,e,o),i()})},s.prototype._fetchBulk=function(t,e,n){Array.isArray(e)?this.backend.fetchBulk(this,t,e,function(t,e){if(t)return n(t);n(null,{data:l(e)})}):this._fetchBulkOps(t,e,n)},s.prototype._fetchBulkOps=function(t,e,n){var i=this;this.backend.getOpsBulk(this,t,e,null,function(e,r){if(e)return n(e);for(var o in r){var s=r[o];i._sendOps(t,o,s)}n()})},s.prototype._subscribe=function(t,e,n,i){var r=this;this.backend.subscribe(this,t,e,n,function(n,o,s){if(n)return i(n);r._subscribeToStream(t,e,o),s?i(null,{data:c(s)}):i()})},s.prototype._subscribeBulk=function(t,e,n){var i=this;this.backend.subscribeBulk(this,t,e,function(e,r,o){if(e)return n(e);for(var s in r)i._subscribeToStream(t,s,r[s]);o?n(null,{data:l(o)}):n()})},s.prototype._unsubscribe=function(t,n,i){var r=this.subscribedDocs[t],o=r&&r[n];o&&o.destroy(),e.nextTick(i)},s.prototype._unsubscribeBulk=function(t,n,i){var r=this.subscribedDocs[t];if(!r)return e.nextTick(i);for(var o=0;o<n.length;o++){var s=r[n[o]];s&&s.destroy()}e.nextTick(i)},s.prototype._submit=function(t,e,n,i){var r=this;this.backend.submit(this,t,e,n,null,function(o,s){var a={src:n.src,seq:n.seq,v:n.v};if(o)return 4001===o.code?i(null,a):i(o);r._sendOps(t,e,s),i(null,a)})},s.prototype._createOp=function(t){var e=t.src||this.clientId;return t.op?new function(t,e,n,i){this.src=t,this.seq=e,this.v=n,this.op=i,this.m=null}(e,t.seq,t.v,t.op):t.create?new function(t,e,n,i){this.src=t,this.seq=e,this.v=n,this.create=i,this.m=null}(e,t.seq,t.v,t.create):t.del?new function(t,e,n,i){this.src=t,this.seq=e,this.v=n,this.del=i,this.m=null}(e,t.seq,t.v,t.del):void 0},s.prototype._fetchSnapshot=function(t,e,n,i){this.backend.fetchSnapshot(this,t,e,n,i)}}).call(e,n(1))},function(t,e,n){t.exports={type:n(137)}},function(t,e){t.exports=function(t,e,n,i){var r=function(t,n,i,r){e(i,t,n,"left"),e(r,n,t,"right")},o=t.transformX=function(t,e){n(t),n(e);for(var s=[],a=0;a<e.length;a++){for(var u=e[a],l=[],c=0;c<t.length;){var h=[];if(r(t[c],u,l,h),c++,1!==h.length){if(0===h.length){for(var f=c;f<t.length;f++)i(l,t[f]);u=null;break}for(var d=o(t.slice(c),h),p=0;p<d[0].length;p++)i(l,d[0][p]);for(var g=0;g<d[1].length;g++)i(s,d[1][g]);u=null;break}u=h[0]}null!=u&&i(s,u),t=l}return[t,s]};t.transform=function(t,n,i){if("left"!==i&&"right"!==i)throw new Error("type must be 'left' or 'right'");return 0===n.length?t:1===t.length&&1===n.length?e([],t[0],n[0],i):"left"===i?o(t,n)[0]:o(n,t)[1]}}},function(t,e,n){(function(e){var i=n(52),r=n(53),o=n(140),s=n(11),a=n(8),u=n(10),l=n(9);function c(t){return 0===t.readyState||1===t.readyState?"connecting":"disconnected"}function h(t){s.EventEmitter.call(this),this.collections={},this.nextQueryId=1,this.nextSnapshotRequestId=1,this.queries={},this._snapshotRequests={},this.seq=1,this.id=null,this.agent=null,this.debug=!1,this.state=c(t),this.bindToSocket(t)}function f(t){return t.hasPending()}function d(t){return t.hasWritePending()}t.exports=h,s.mixin(h),h.prototype.bindToSocket=function(t){this.socket&&(this.socket.close(),this.socket.onmessage=null,this.socket.onopen=null,this.socket.onerror=null,this.socket.onclose=null),this.socket=t;var n=c(t);this._setState(n),this.canSend=!1;var i=this;t.onmessage=function(t){try{var n="string"===typeof t.data?JSON.parse(t.data):t.data}catch(e){return void console.warn("Failed to parse message",t)}i.debug&&console.log("RECV",JSON.stringify(n));var r={data:n};if(i.emit("receive",r),r.data)try{i.handleMessage(r.data)}catch(t){e.nextTick(function(){i.emit("error",t)})}},t.onopen=function(){i._setState("connecting")},t.onerror=function(t){i.emit("connection error",t)},t.onclose=function(t){"closed"===t||"Closed"===t?i._setState("closed",t):"stopped"===t||"Stopped by server"===t?i._setState("stopped",t):i._setState("disconnected",t)}},h.prototype.handleMessage=function(t){var e=null;switch(t.error&&((e=new Error(t.error.message)).code=t.error.code,e.data=t,delete t.error),t.a){case"init":return 1!==t.protocol?(e=new a(4019,"Invalid protocol version"),this.emit("error",e)):u.map[t.type]!==u.defaultType?(e=new a(4020,"Invalid default type"),this.emit("error",e)):"string"!==typeof t.id?(e=new a(4021,"Invalid client id"),this.emit("error",e)):(this.id=t.id,void this._setState("connected"));case"qf":return void((n=this.queries[t.id])&&n._handleFetch(e,t.data,t.extra));case"qs":return void((n=this.queries[t.id])&&n._handleSubscribe(e,t.data,t.extra));case"qu":return;case"q":var n;if(!(n=this.queries[t.id]))return;return e?n._handleError(e):(t.diff&&n._handleDiff(t.diff),void(t.hasOwnProperty("extra")&&n._handleExtra(t.extra)));case"bf":return this._handleBulkMessage(t,"_handleFetch");case"bs":return this._handleBulkMessage(t,"_handleSubscribe");case"bu":return this._handleBulkMessage(t,"_handleUnsubscribe");case"nf":return this._handleSnapshotFetch(e,t);case"f":return void((i=this.getExisting(t.c,t.d))&&i._handleFetch(e,t.data));case"s":return void((i=this.getExisting(t.c,t.d))&&i._handleSubscribe(e,t.data));case"u":return void((i=this.getExisting(t.c,t.d))&&i._handleUnsubscribe(e));case"op":var i;return void((i=this.getExisting(t.c,t.d))&&i._handleOp(e,t));default:console.warn("Ignoring unrecognized message",t)}},h.prototype._handleBulkMessage=function(t,e){if(t.data)for(var n in t.data){(r=this.getExisting(t.c,n))&&r[e](t.error,t.data[n])}else if(Array.isArray(t.b))for(var i=0;i<t.b.length;i++){n=t.b[i];(r=this.getExisting(t.c,n))&&r[e](t.error)}else if(t.b)for(var n in t.b){var r;(r=this.getExisting(t.c,n))&&r[e](t.error)}else console.error("Invalid bulk message",t)},h.prototype._reset=function(){this.seq=1,this.id=null,this.agent=null},h.prototype._setState=function(t,e){if(this.state!==t){if("connecting"===t&&"disconnected"!==this.state&&"stopped"!==this.state&&"closed"!==this.state||"connected"===t&&"connecting"!==this.state){var n=new a(5007,"Cannot transition directly from "+this.state+" to "+t);return this.emit("error",n)}for(var i in this.state=t,this.canSend="connected"===t,"disconnected"!==t&&"stopped"!==t&&"closed"!==t||this._reset(),this.startBulk(),this.queries){this.queries[i]._onConnectionStateChanged()}for(var r in this.collections){var o=this.collections[r];for(var i in o)o[i]._onConnectionStateChanged()}for(var i in this._snapshotRequests){this._snapshotRequests[i]._onConnectionStateChanged()}this.endBulk(),this.emit(t,e),this.emit("state",t,e)}},h.prototype.startBulk=function(){this.bulk||(this.bulk={})},h.prototype.endBulk=function(){if(this.bulk)for(var t in this.bulk){var e=this.bulk[t];this._sendBulk("f",t,e.f),this._sendBulk("s",t,e.s),this._sendBulk("u",t,e.u)}this.bulk=null},h.prototype._sendBulk=function(t,e,n){if(n){var i,r=[],o={},s=0;for(var a in n){var u=n[a];null==u?r.push(a):(o[a]=u,i=a,s++)}if(1===r.length){a=r[0];this.send({a:t,c:e,d:a})}else r.length&&this.send({a:"b"+t,c:e,b:r});if(1===s){var l=o[i];this.send({a:t,c:e,d:i,v:l})}else s&&this.send({a:"b"+t,c:e,b:o})}},h.prototype._sendAction=function(t,e,n){if(this._addDoc(e),this.bulk){var i=this.bulk[e.collection]||(this.bulk[e.collection]={}),r=i[t]||(i[t]={}),o=r.hasOwnProperty(e.id);return r[e.id]=n,o}var s={a:t,c:e.collection,d:e.id,v:n};this.send(s)},h.prototype.sendFetch=function(t){return this._sendAction("f",t,t.version)},h.prototype.sendSubscribe=function(t){return this._sendAction("s",t,t.version)},h.prototype.sendUnsubscribe=function(t){return this._sendAction("u",t)},h.prototype.sendOp=function(t,e){this._addDoc(t);var n={a:"op",c:t.collection,d:t.id,v:t.version,src:e.src,seq:e.seq};e.op&&(n.op=e.op),e.create&&(n.create=e.create),e.del&&(n.del=e.del),this.send(n)},h.prototype.send=function(t){this.debug&&console.log("SEND",JSON.stringify(t)),this.emit("send",t),this.socket.send(JSON.stringify(t))},h.prototype.close=function(){this.socket.close()},h.prototype.getExisting=function(t,e){if(this.collections[t])return this.collections[t][e]},h.prototype.get=function(t,e){var n=this.collections[t]||(this.collections[t]={}),r=n[e];return r||(r=n[e]=new i(this,t,e),this.emit("doc",r)),r},h.prototype._destroyDoc=function(t){var e=this.collections[t.collection];e&&(delete e[t.id],l.hasKeys(e)||delete this.collections[t.collection])},h.prototype._addDoc=function(t){var e=this.collections[t.collection];e||(e=this.collections[t.collection]={}),e[t.id]!==t&&(e[t.id]=t)},h.prototype._createQuery=function(t,e,n,i,o){var s=this.nextQueryId++,a=new r(t,this,s,e,n,i,o);return this.queries[s]=a,a.send(),a},h.prototype._destroyQuery=function(t){delete this.queries[t.id]},h.prototype.createFetchQuery=function(t,e,n,i){return this._createQuery("qf",t,e,n,i)},h.prototype.createSubscribeQuery=function(t,e,n,i){return this._createQuery("qs",t,e,n,i)},h.prototype.hasPending=function(){return!!(this._firstDoc(f)||this._firstQuery(f)||this._firstSnapshotRequest())},h.prototype.hasWritePending=function(){return!!this._firstDoc(d)},h.prototype.whenNothingPending=function(t){var n=this._firstDoc(f);if(n)n.once("nothing pending",this._nothingPendingRetry(t));else{var i=this._firstQuery(f);if(i)i.once("ready",this._nothingPendingRetry(t));else{var r=this._firstSnapshotRequest();r?r.once("ready",this._nothingPendingRetry(t)):e.nextTick(t)}}},h.prototype._nothingPendingRetry=function(t){var n=this;return function(){e.nextTick(function(){n.whenNothingPending(t)})}},h.prototype._firstDoc=function(t){for(var e in this.collections){var n=this.collections[e];for(var i in n){var r=n[i];if(t(r))return r}}},h.prototype._firstQuery=function(t){for(var e in this.queries){var n=this.queries[e];if(t(n))return n}},h.prototype._firstSnapshotRequest=function(){for(var t in this._snapshotRequests)return this._snapshotRequests[t]},h.prototype.fetchSnapshot=function(t,e,n,i){"function"===typeof n&&(i=n,n=null);var r=this.nextSnapshotRequestId++,s=new o(this,r,t,e,n,i);this._snapshotRequests[s.requestId]=s,s.send()},h.prototype._handleSnapshotFetch=function(t,e){var n=this._snapshotRequests[e.id];n&&(delete this._snapshotRequests[e.id],n._handleResponse(t,e))}}).call(e,n(1))},function(t,e,n){(function(e){var i=n(11),r=n(8),o=n(10);function s(t,e,n){i.EventEmitter.call(this),this.connection=t,this.collection=e,this.id=n,this.version=null,this.type=null,this.data=void 0,this.inflightFetch=[],this.inflightSubscribe=[],this.inflightUnsubscribe=[],this.pendingFetch=[],this.subscribed=!1,this.wantSubscribe=!1,this.inflightOp=null,this.pendingOps=[],this.type=null,this.applyStack=null,this.preventCompose=!1}function a(t,e,n){if(e){var i=t.pop();t.push(function(t){i&&i(t),n&&n(t)})}else t.push(n)}function u(t,e){if(t.del)return delete(n=e).op,delete n.create,void delete n.del;var n;if(e.del)return new r(4017,"Document was deleted");if(e.create)return new r(4018,"Document alredy created");if(e.op){if(t.create)return new r(4018,"Document already created");if(t.type.transformX){var i=t.type.transformX(t.op,e.op);t.op=i[0],e.op=i[1]}else{var o=t.type.transform(t.op,e.op,"left"),s=t.type.transform(e.op,t.op,"right");t.op=o,e.op=s}}}function l(t,e){for(var n=!1,i=0;i<t.length;i++){var r=t[i];r&&(r(e),n=!0)}return n}t.exports=s,i.mixin(s),s.prototype.destroy=function(t){var e=this;e.whenNothingPending(function(){e.wantSubscribe?e.unsubscribe(function(n){if(n)return t?t(n):e.emit("error",n);e.connection._destroyDoc(e),t&&t()}):(e.connection._destroyDoc(e),t&&t())})},s.prototype._setType=function(t){if("string"===typeof t&&(t=o.map[t]),t)this.type=t;else{if(null!==t){var e=new r(4008,"Missing type "+t);return this.emit("error",e)}this.type=t,this.data=void 0}},s.prototype.ingestSnapshot=function(t,e){if(!t)return e&&e();if("number"!==typeof t.v){var n=new r(5008,"Missing version in ingested snapshot. "+this.collection+"."+this.id);return e?e(n):this.emit("error",n)}if(this.type||this.hasWritePending()){if(null==this.version){if(this.hasWritePending())return e&&this.once("no write pending",e);n=new r(5009,"Cannot ingest snapshot in doc with null version. "+this.collection+"."+this.id);return e?e(n):this.emit("error",n)}return t.v>this.version?this.fetch(e):e&&e()}if(this.version>t.v)return e&&e();this.version=t.v;var i=void 0===t.type?o.defaultType:t.type;this._setType(i),this.data=this.type&&this.type.deserialize?this.type.deserialize(t.data):t.data,this.emit("load"),e&&e()},s.prototype.whenNothingPending=function(t){this.hasPending()?this.once("nothing pending",t):t()},s.prototype.hasPending=function(){return!!(this.inflightOp||this.pendingOps.length||this.inflightFetch.length||this.inflightSubscribe.length||this.inflightUnsubscribe.length||this.pendingFetch.length)},s.prototype.hasWritePending=function(){return!(!this.inflightOp&&!this.pendingOps.length)},s.prototype._emitNothingPending=function(){this.hasWritePending()||(this.emit("no write pending"),this.hasPending()||this.emit("nothing pending"))},s.prototype._emitResponseError=function(t,e){if(e)return e(t),void this._emitNothingPending();this._emitNothingPending(),this.emit("error",t)},s.prototype._handleFetch=function(t,e){var n=this.inflightFetch.shift();if(t)return this._emitResponseError(t,n);this.ingestSnapshot(e,n),this._emitNothingPending()},s.prototype._handleSubscribe=function(t,e){var n=this.inflightSubscribe.shift();if(t)return this._emitResponseError(t,n);this.wantSubscribe&&(this.subscribed=!0),this.ingestSnapshot(e,n),this._emitNothingPending()},s.prototype._handleUnsubscribe=function(t){var e=this.inflightUnsubscribe.shift();if(t)return this._emitResponseError(t,e);e&&e(),this._emitNothingPending()},s.prototype._handleOp=function(t,e){if(t)return this.inflightOp?(4002===t.code&&(t=null),this._rollback(t)):this.emit("error",t);if(this.inflightOp&&e.src===this.inflightOp.src&&e.seq===this.inflightOp.seq)this._opAcknowledged(e);else if(null==this.version||e.v>this.version)this.fetch();else if(!(e.v<this.version)){if(this.inflightOp)if(i=u(this.inflightOp,e))return this._hardRollback(i);for(var n=0;n<this.pendingOps.length;n++){var i;if(i=u(this.pendingOps[n],e))return this._hardRollback(i)}this.version++,this._otApply(e,!1)}},s.prototype._onConnectionStateChanged=function(){if(this.connection.canSend)this.flush(),this._resubscribe();else if(this.inflightOp&&(this.pendingOps.unshift(this.inflightOp),this.inflightOp=null),this.subscribed=!1,(this.inflightFetch.length||this.inflightSubscribe.length)&&(this.pendingFetch=this.pendingFetch.concat(this.inflightFetch,this.inflightSubscribe),this.inflightFetch.length=0,this.inflightSubscribe.length=0),this.inflightUnsubscribe.length){var t=this.inflightUnsubscribe;this.inflightUnsubscribe=[],l(t)}},s.prototype._resubscribe=function(){var t=this.pendingFetch;if(this.pendingFetch=[],this.wantSubscribe)return t.length?void this.subscribe(function(e){l(t,e)}):void this.subscribe();t.length&&this.fetch(function(e){l(t,e)})},s.prototype.fetch=function(t){if(this.connection.canSend){var e=this.connection.sendFetch(this);a(this.inflightFetch,e,t)}else this.pendingFetch.push(t)},s.prototype.subscribe=function(t){if(this.wantSubscribe=!0,this.connection.canSend){var e=this.connection.sendSubscribe(this);a(this.inflightSubscribe,e,t)}else this.pendingFetch.push(t)},s.prototype.unsubscribe=function(t){if(this.wantSubscribe=!1,this.subscribed=!1,this.connection.canSend){var n=this.connection.sendUnsubscribe(this);a(this.inflightUnsubscribe,n,t)}else t&&e.nextTick(t)},s.prototype.flush=function(){this.connection.canSend&&!this.inflightOp&&!this.paused&&this.pendingOps.length&&this._sendOp()},s.prototype._otApply=function(t,e){if(t.op){if(!this.type){var n=new r(4015,"Cannot apply op to uncreated document. "+this.collection+"."+this.id);return this.emit("error",n)}if(!e&&this.type===o.defaultType&&t.op.length>1){this.applyStack||(this.applyStack=[]);for(var i=this.applyStack.length,s=0;s<t.op.length;s++){for(var a={op:[t.op[s]]},l=i;l<this.applyStack.length;l++){var c=u(this.applyStack[l],a);if(c)return this._hardRollback(c)}this.emit("before op",a.op,e),this.data=this.type.apply(this.data,a.op),this.emit("op",a.op,e)}return void this._popApplyStack(i)}return this.emit("before op",t.op,e),this.data=this.type.apply(this.data,t.op),void this.emit("op",t.op,e)}if(t.create)return this._setType(t.create.type),this.data=this.type.deserialize?this.type.createDeserialized?this.type.createDeserialized(t.create.data):this.type.deserialize(this.type.create(t.create.data)):this.type.create(t.create.data),void this.emit("create",e);if(t.del){var h=this.data;return this._setType(null),void this.emit("del",h,e)}},s.prototype._sendOp=function(){var t=this.connection.id;if(t){this.inflightOp||(this.inflightOp=this.pendingOps.shift());var e=this.inflightOp;if(!e){var n=new r(5010,"No op to send on call to _sendOp");return this.emit("error",n)}e.sentAt=Date.now(),e.retries=null==e.retries?0:e.retries+1,null==e.seq&&(e.seq=this.connection.seq++),this.connection.sendOp(this,e),null==e.src&&(e.src=t)}},s.prototype._submit=function(t,n,i){if(n||(n=!0),t.op){if(!this.type){var o=new r(4015,"Cannot submit op. Document has not been created. "+this.collection+"."+this.id);return i?i(o):this.emit("error",o)}this.type.normalize&&(t.op=this.type.normalize(t.op))}this._pushOp(t,i),this._otApply(t,n);var s=this;e.nextTick(function(){s.flush()})},s.prototype._pushOp=function(t,e){if(this.applyStack)this.applyStack.push(t);else{var n=this._tryCompose(t);if(n)return void n.callbacks.push(e)}t.type=this.type,t.callbacks=[e],this.pendingOps.push(t)},s.prototype._popApplyStack=function(t){if(t>0)this.applyStack.length=t;else{var e=this.applyStack[0];if(this.applyStack=null,e)if(-1!==(i=this.pendingOps.indexOf(e)))for(var n=this.pendingOps.splice(i),i=0;i<n.length;i++){e=n[i];var r=this._tryCompose(e);r?r.callbacks=r.callbacks.concat(e.callbacks):this.pendingOps.push(e)}}},s.prototype._tryCompose=function(t){if(!this.preventCompose){var e=this.pendingOps[this.pendingOps.length-1];if(e)return e.create&&t.op?(e.create.data=this.type.apply(e.create.data,t.op),e):e.op&&t.op&&this.type.compose?(e.op=this.type.compose(e.op,t.op),e):void 0}},s.prototype.submitOp=function(t,e,n){"function"===typeof e&&(n=e,e=null);var i={op:t},r=e&&e.source;this._submit(i,r,n)},s.prototype.create=function(t,e,n,i){if("function"===typeof e?(i=e,n=null,e=null):"function"===typeof n&&(i=n,n=null),e||(e=o.defaultType.uri),this.type){var s=new r(4016,"Document already exists");return i?i(s):this.emit("error",s)}var a={create:{type:e,data:t}},u=n&&n.source;this._submit(a,u,i)},s.prototype.del=function(t,e){if("function"===typeof t&&(e=t,t=null),!this.type){var n=new r(4015,"Document does not exist");return e?e(n):this.emit("error",n)}var i=t&&t.source;this._submit({del:!0},i,e)},s.prototype.pause=function(){this.paused=!0},s.prototype.resume=function(){this.paused=!1,this.flush()},s.prototype._opAcknowledged=function(t){if(this.inflightOp.create)this.version=t.v;else if(t.v!==this.version)return console.warn("Invalid version from server. Expected: "+this.version+" Received: "+t.v,t),this.fetch();this.version++,this._clearInflightOp()},s.prototype._rollback=function(t){var e=this.inflightOp;if(e.op&&e.type.invert){e.op=e.type.invert(e.op);for(var n=0;n<this.pendingOps.length;n++){var i=u(this.pendingOps[n],e);if(i)return this._hardRollback(i)}return this._otApply(e,!1),void this._clearInflightOp(t)}this._hardRollback(t)},s.prototype._hardRollback=function(t){var e=this.inflightOp,n=this.pendingOps;this._setType(null),this.version=null,this.inflightOp=null,this.pendingOps=[];var i=this;this.fetch(function(){for(var r=e&&l(e.callbacks,t),o=0;o<n.length;o++)l(n[o].callbacks,t);if(t&&!r)return i.emit("error",t)})},s.prototype._clearInflightOp=function(t){var e=l(this.inflightOp.callbacks,t);if(this.inflightOp=null,this.flush(),this._emitNothingPending(),t&&!e)return this.emit("error",t)}}).call(e,n(1))},function(t,e,n){(function(e){var i=n(11);function r(t,e,n,r,o,s,a){i.EventEmitter.call(this),this.action=t,this.connection=e,this.id=n,this.collection=r,this.query=o,this.results=null,s&&s.results&&(this.results=s.results,delete s.results),this.extra=void 0,this.options=s,this.callback=a,this.ready=!1,this.sent=!1}t.exports=r,i.mixin(r),r.prototype.hasPending=function(){return!this.ready},r.prototype.send=function(){if(this.connection.canSend){var t={a:this.action,id:this.id,c:this.collection,q:this.query};if(this.options&&(t.o=this.options),this.results){for(var e=[],n=0;n<this.results.length;n++){var i=this.results[n];e.push([i.id,i.version])}t.r=e}this.connection.send(t),this.sent=!0}},r.prototype.destroy=function(t){this.connection.canSend&&"qs"===this.action&&this.connection.send({a:"qu",id:this.id}),this.connection._destroyQuery(this),t&&e.nextTick(t)},r.prototype._onConnectionStateChanged=function(){this.connection.canSend&&!this.sent?this.send():this.sent=!1},r.prototype._handleFetch=function(t,e,n){this.connection._destroyQuery(this),this._handleResponse(t,e,n)},r.prototype._handleSubscribe=function(t,e,n){this._handleResponse(t,e,n)},r.prototype._handleResponse=function(t,e,n){var i=this.callback;if(this.callback=null,t)return this._finishResponse(t,i);if(!e)return this._finishResponse(null,i);var r=this,o=1,s=function(t){if(t)return r._finishResponse(t,i);--o||r._finishResponse(null,i)};if(Array.isArray(e))o+=e.length,this.results=this._ingestSnapshots(e,s),this.extra=n;else for(var a in e){o++;var u=e[a];this.connection.get(u.c||this.collection,a).ingestSnapshot(u,s)}s()},r.prototype._ingestSnapshots=function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i],o=this.connection.get(r.c||this.collection,r.d);o.ingestSnapshot(r,e),n.push(o)}return n},r.prototype._finishResponse=function(t,e){if(this.emit("ready"),this.ready=!0,t)return this.connection._destroyQuery(this),e?e(t):this.emit("error",t);e&&e(null,this.results,this.extra)},r.prototype._handleError=function(t){this.emit("error",t)},r.prototype._handleDiff=function(t){for(var e=0;e<t.length;e++){"insert"===(n=t[e]).type&&(n.values=this._ingestSnapshots(n.values))}for(e=0;e<t.length;e++){var n;switch((n=t[e]).type){case"insert":var i=n.values;Array.prototype.splice.apply(this.results,[n.index,0].concat(i)),this.emit("insert",i,n.index);break;case"remove":var r=n.howMany||1,o=this.results.splice(n.index,r);this.emit("remove",o,n.index);break;case"move":r=n.howMany||1;var s=this.results.splice(n.from,r);Array.prototype.splice.apply(this.results,[n.to,0].concat(s)),this.emit("move",s,n.from,n.to)}}this.emit("changed",this.results)},r.prototype._handleExtra=function(t){this.extra=t,this.emit("extra",t)}}).call(e,n(1))},function(t,e,n){(function(e){var i=n(55),r=n(27);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t),this.docs={},this.ops={},this.closed=!1}function s(t){return void 0===t?void 0:JSON.parse(JSON.stringify(t))}t.exports=o,o.prototype=Object.create(i.prototype),o.prototype.close=function(t){this.closed=!0,t&&t()},o.prototype.commit=function(t,n,i,r,o,s){var a=this;if("function"!==typeof s)throw new Error("Callback required");e.nextTick(function(){var e=a._getVersionSync(t,n);if(r.v!==e+1)return s(null,!1);var o=a._writeOpSync(t,n,i);return o?s(o):(o=a._writeSnapshotSync(t,n,r))?s(o):void s(null,!0)})},o.prototype.getSnapshot=function(t,n,i,r,o){var s=i&&i.$submit||r&&r.metadata,a=this;if("function"!==typeof o)throw new Error("Callback required");e.nextTick(function(){var e=a._getSnapshotSync(t,n,s);o(null,e)})},o.prototype.getOps=function(t,n,i,r,o,a){var u=o&&o.metadata,l=this;if("function"!==typeof a)throw new Error("Callback required");e.nextTick(function(){var e=l._getOpLogSync(t,n);null==r&&(r=e.length);var o=s(e.slice(i,r));if(!u)for(var c=0;c<o.length;c++)delete o[c].m;a(null,o)})},o.prototype.query=function(t,n,i,r,o){var s=r&&r.metadata,a=this;if("function"!==typeof o)throw new Error("Callback required");e.nextTick(function(){var e=a.docs[t],i=[];for(var u in e||{}){var l=a._getSnapshotSync(t,u,s);i.push(l)}try{var c=a._querySync(i,n,r);o(null,c.snapshots,c.extra)}catch(t){o(t)}})},o.prototype._querySync=function(t,e,n){return{snapshots:t}},o.prototype._writeOpSync=function(t,e,n){this._getOpLogSync(t,e)[n.v]=s(n)},o.prototype._writeSnapshotSync=function(t,e,n){var i=this.docs[t]||(this.docs[t]={});n.type?i[e]=s(n):delete i[e]},o.prototype._getSnapshotSync=function(t,e,n){var i,o=this.docs[t],a=o&&o[e];if(a){var u=s(a.data),l=n?s(a.m):null;i=new r(e,a.v,a.type,u,l)}else{var c=this._getVersionSync(t,e);i=new r(e,c,null,void 0,null)}return i},o.prototype._getOpLogSync=function(t,e){var n=this.ops[t]||(this.ops[t]={});return n[e]||(n[e]=[])},o.prototype._getVersionSync=function(t,e){var n=this.ops[t];return n&&n[e]&&n[e].length||0}}).call(e,n(1))},function(t,e,n){var i=n(46),r=n(8);function o(t){this.pollDebounce=t&&t.pollDebounce}t.exports=o,o.prototype.projectsSnapshots=!1,o.prototype.disableSubscribe=!1,o.prototype.close=function(t){t&&t()},o.prototype.commit=function(t,e,n,i,o,s){s(new r(5011,"commit DB method unimplemented"))},o.prototype.getSnapshot=function(t,e,n,i,o){o(new r(5012,"getSnapshot DB method unimplemented"))},o.prototype.getSnapshotBulk=function(t,e,n,r,o){var s={},a=this;i.each(e,function(e,i){a.getSnapshot(t,e,n,r,function(t,n){if(t)return i(t);s[e]=n,i()})},function(t){if(t)return o(t);o(null,s)})},o.prototype.getOps=function(t,e,n,i,o,s){s(new r(5013,"getOps DB method unimplemented"))},o.prototype.getOpsToSnapshot=function(t,e,n,i,r,o){var s=i.v;this.getOps(t,e,n,s,r,o)},o.prototype.getOpsBulk=function(t,e,n,r,o){var s={},a=this;i.forEachOf(e,function(e,i,o){var u=n&&n[i];a.getOps(t,i,e,u,r,function(t,e){if(t)return o(t);s[i]=e,o()})},function(t){if(t)return o(t);o(null,s)})},o.prototype.getCommittedOpVersion=function(t,e,n,i,r,o){this.getOpsToSnapshot(t,e,0,n,r,function(t,e){if(t)return o(t);for(var n=e.length;n--;){var r=e[n];if(i.src===r.src&&i.seq===r.seq)return o(null,r.v)}o()})},o.prototype.query=function(t,e,n,i,o){o(new r(4022,"query DB method unimplemented"))},o.prototype.queryPoll=function(t,e,n,i){this.query(t,e,{},n,function(t,e,n){if(t)return i(t);for(var r=[],o=0;o<e.length;o++)r.push(e[o].id);i(null,r,n)})},o.prototype.queryPollDoc=function(t,e,n,i,o){o(new r(5014,"queryPollDoc DB method unimplemented"))},o.prototype.canPollDoc=function(){return!1},o.prototype.skipPoll=function(){return!1}},function(t,e,n){(function(e){var i=n(57);function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}t.exports=r,r.prototype=Object.create(i.prototype),r.prototype._subscribe=function(t,n){n&&e.nextTick(n)},r.prototype._unsubscribe=function(t,n){n&&e.nextTick(n)},r.prototype._publish=function(t,n,i){var r=this;e.nextTick(function(){for(var e=0;e<t.length;e++){var o=t[e];r.subscribed[o]&&r._emit(o,n)}i&&i()})}}).call(e,n(1))},function(t,e,n){(function(e){var i=n(11),r=n(142),o=n(8),s=n(9);function a(t){if(!(this instanceof a))return new a(t);i.EventEmitter.call(this),this.prefix=t&&t.prefix,this.nextStreamId=1,this.streamsCount=0,this.streams={},this.subscribed={};var e=this;this._defaultCallback=function(t){if(t)return e.emit("error",t)}}function u(t){var e={};for(var n in t)e[n]=t[n];return e}t.exports=a,i.mixin(a),a.prototype.close=function(t){for(var n in this.streams){var i=this.streams[n];for(var r in i)i[r].destroy()}t&&e.nextTick(t)},a.prototype._subscribe=function(t,n){e.nextTick(function(){n(new o(5015,"_subscribe PubSub method unimplemented"))})},a.prototype._unsubscribe=function(t,n){e.nextTick(function(){n(new o(5016,"_unsubscribe PubSub method unimplemented"))})},a.prototype._publish=function(t,n,i){e.nextTick(function(){i(new o(5017,"_publish PubSub method unimplemented"))})},a.prototype.subscribe=function(t,n){n||(n=this._defaultCallback),this.prefix&&(t=this.prefix+" "+t);var i=this;this.subscribed[t]?e.nextTick(function(){var e=i._createStream(t);n(null,e)}):this._subscribe(t,function(e){if(e)return n(e);i.subscribed[t]=!0;var r=i._createStream(t);n(null,r)})},a.prototype.publish=function(t,e,n){if(n||(n=this._defaultCallback),this.prefix)for(var i=0;i<t.length;i++)t[i]=this.prefix+" "+t[i];this._publish(t,e,n)},a.prototype._emit=function(t,e){var n=this.streams[t];if(n)for(var i in n){var r=u(e);n[i].pushOp(r.c,r.d,r)}},a.prototype._createStream=function(t){var e=new r,n=this;e.once("close",function(){n._removeStream(t,e)}),this.streamsCount++;var i=this.streams[t]||(this.streams[t]={});return e.id=this.nextStreamId++,i[e.id]=e,e},a.prototype._removeStream=function(t,e){var n=this.streams[t];n&&(this.streamsCount--,delete n[e.id],s.hasKeys(n)||(delete this.streams[t],delete this.subscribed[t],this._unsubscribe(t,this._defaultCallback)))}}).call(e,n(1))},function(t,e,n){(function(t,i){var r=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,s=String(t).replace(r,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),u=i[n];n<o;u=i[++n])g(u)||!_(u)?s+=" "+u:s+=" "+a(u);return s},e.deprecate=function(n,r){if(y(t.process))return function(){return e.deprecate(n,r).apply(this,arguments)};if(!0===i.noDeprecation)return n;var o=!1;return function(){if(!o){if(i.throwDeprecation)throw new Error(r);i.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var o,s={};function a(t,n){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(n)?i.showHidden=n:n&&e._extend(i,n),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=u),c(i,t,i.depth)}function u(t,e){var n=a.styles[e];return n?"\x1b["+a.colors[n][0]+"m"+t+"\x1b["+a.colors[n][1]+"m":t}function l(t,e){return t}function c(t,n,i){if(t.customInspect&&n&&k(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return v(r)||(r=c(t,r,i)),r}var o=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(m(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),x(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(k(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return h(n)}var l,_="",C=!1,S=["{","}"];(d(n)&&(C=!0,S=["[","]"]),k(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),x(n)&&(_=" "+h(n)),0!==s.length||C&&0!=n.length?i<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=C?function(t,e,n,i,r){for(var o=[],s=0,a=e.length;s<a;++s)E(e,String(s))?o.push(f(t,e,n,i,String(s),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(t,e,n,i,r,!0))}),o}(t,n,i,a,s):s.map(function(e){return f(t,n,i,a,e,C)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(l,_,S)):S[0]+_+S[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,i,r,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),E(i,r)||(s="["+r+"]"),a||(t.seen.indexOf(u.value)<0?(a=g(n)?c(t,u.value,null):c(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),y(s)){if(o&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"===typeof t}function g(t){return null===t}function m(t){return"number"===typeof t}function v(t){return"string"===typeof t}function y(t){return void 0===t}function b(t){return _(t)&&"[object RegExp]"===C(t)}function _(t){return"object"===typeof t&&null!==t}function w(t){return _(t)&&"[object Date]"===C(t)}function x(t){return _(t)&&("[object Error]"===C(t)||t instanceof Error)}function k(t){return"function"===typeof t}function C(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(y(o)&&(o=Object({NODE_ENV:"production",PUBLIC_URL:"/touchui"}).NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var n=i.pid;s[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else s[t]=function(){};return s[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=v,e.isSymbol=function(t){return"symbol"===typeof t},e.isUndefined=y,e.isRegExp=b,e.isObject=_,e.isDate=w,e.isError=x,e.isFunction=k,e.isPrimitive=function(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=n(143);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":"),[t.getDate(),T[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(12),e._extend=function(t,e){if(!e||!_(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(e,n(6),n(1))},function(t,e,n){"use strict";(function(e,i){var r=n(18);t.exports=b;var o,s=n(60);b.ReadableState=y;n(7).EventEmitter;var a=function(t,e){return t.listeners(e).length},u=n(61),l=n(19).Buffer,c=e.Uint8Array||function(){};var h=n(16);h.inherits=n(12);var f=n(146),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=n(147),m=n(63);h.inherits(b,u);var v=["error","close","destroy","pause","resume"];function y(t,e){o=o||n(13),t=t||{};var i=e instanceof o;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(64).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function b(t){if(o=o||n(13),!(this instanceof b))return new b(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function _(t,e,n,i,r){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,C(t)}(t,s)):(r||(o=function(t,e){var n;i=e,l.isBuffer(i)||i instanceof c||"string"===typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var i;return n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"===typeof e||s.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),i?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):T(t,s)):w(t,s,e,!1))):i||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&C(t)),T(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"===typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=l.from(t,e),e=""),n=!0),_(this,t,e,!1,n)},b.prototype.unshift=function(t){return _(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return p||(p=n(64).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var x=8388608;function k(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function C(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r.nextTick(S,t):S(t))}function S(t){d("emit readable"),t.emit("readable"),M(t)}function T(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(E,t,e))}function E(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function P(t){d("readable nexttick read 0"),t.read(0)}function D(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),M(t),e.flowing&&!e.reading&&t.read(0)}function M(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,r=n.data;t-=r.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?r+=o:r+=o.slice(0,t),0===(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}(t,e):function(t,e){var n=l.allocUnsafe(t),i=e.head,r=1;i.data.copy(n),t-=i.data.length;for(;i=i.next;){var o=i.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=o.slice(s));break}++r}return e.length-=r,n}(t,e);return i}(t,e.buffer,e.decoder),n);var n}function A(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r.nextTick(I,e,t))}function I(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function N(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?A(this):C(this),null;if(0===(t=k(t,e))&&e.ended)return 0===e.length&&A(this),null;var i,r=e.needReadable;return d("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",r=!0),e.ended||e.reading?d("reading or ended",r=!1):r&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=k(n,e))),null===(i=t>0?O(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&A(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==i.stdout&&t!==i.stderr?c:b;function l(e,i){d("onunpipe"),e===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),t.removeListener("close",v),t.removeListener("finish",y),t.removeListener("drain",h),t.removeListener("error",m),t.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",g),f=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function c(){d("onend"),t.end()}o.endEmitted?r.nextTick(u):n.once("end",u),t.on("unpipe",l);var h=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,M(t))}}(n);t.on("drain",h);var f=!1;var p=!1;function g(e){d("ondata"),p=!1,!1!==t.write(e)||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==N(o.pipes,t))&&!f&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(e){d("onerror",e),b(),t.removeListener("error",m),0===a(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",y),b()}function y(){d("onfinish"),t.removeListener("close",v),b()}function b(){d("unpipe"),n.unpipe(t)}return n.on("data",g),function(t,e,n){if("function"===typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",m),t.once("close",v),t.once("finish",y),t.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var i=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var s=N(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},b.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&C(this):r.nextTick(P,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(D,t,e))}(this,t)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var r in t.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(r){(d("wrapped data"),n.decoder&&(r=n.decoder.write(r)),!n.objectMode||null!==r&&void 0!==r)&&((n.objectMode||r&&r.length)&&(e.push(r)||(i=!0,t.pause())))}),t)void 0===this[r]&&"function"===typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var o=0;o<v.length;o++)t.on(v[o],this.emit.bind(this,v[o]));return this._read=function(e){d("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=O}).call(e,n(6),n(1))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(7).EventEmitter},function(t,e,n){"use strict";(function(t){var i=n(144),r=n(145),o=n(60);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,i){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,i):"string"===typeof e?function(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(e,n),r=(t=a(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(i=e.length)!==i?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=a(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=a(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function d(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(i)return B(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function m(t,e,n,i,r){if(0===t.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof e&&(e=u.from(e,i)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,i,r);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,i,r){var o,s=1,a=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var c=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function y(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function b(t,e,n,i){return H(B(e,t.length-n),t,n,i)}function _(t,e,n,i){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function w(t,e,n,i){return _(t,e,n,i)}function x(t,e,n,i){return H(q(e),t,n,i)}function k(t,e,n,i){return H(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function C(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,u,l=t[r],c=null,h=l>239?4:l>223?3:l>191?2:1;if(r+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128===(192&(o=t[r+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[r+1],s=t[r+2],128===(192&o)&&128===(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=h}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=T));return n}(i)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,i){return c(e),e<=0?a(t,e):void 0!==n?"string"===typeof i?a(t,e).fill(n,i):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=u.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return E(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,i,r){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var o=r-i,s=n-e,a=Math.min(o,s),l=this.slice(i,r),c=t.slice(e,n),h=0;h<a;++h)if(l[h]!==c[h]){o=l[h],s=c[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function E(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function P(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function D(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=z(t[o]);return r}function M(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function O(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function A(t,e,n,i,r,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function I(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function N(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function R(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,i,o){return o||R(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function L(t,e,n,i,o){return o||R(t,0,n,8),r.write(t,e,n,i,52,8),n+8}u.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var r=e-t;n=new u(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},u.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||A(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||A(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);A(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);A(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,i){if("string"===typeof t){if("string"===typeof e?(i=e,e=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:B(new u(t,i).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function H(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(e,n(6))},function(t,e,n){"use strict";var i=n(18);function r(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(i.nextTick(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";var i=n(19).Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!==typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=l,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=c,this.end=h,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function s(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},o.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=s(e[i]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=s(e[i]))>=0)return r>0&&(t.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=s(e[i]))>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=o;var i=n(13),r=n(16);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"===typeof this._flush?this._flush(function(e,n){a(t,e,n)}):a(this,null,null)}function a(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=n(12),r.inherits(o,i),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){var i=n(155),r=n(156),o=n(8),s=n(9);function a(t,e,n,i){this.backend=t.backend,this.agent=t.agent,this.db=t.db,this.index=t.index,this.query=t.query,this.collection=t.collection,this.fields=t.fields,this.options=t.options,this.snapshotProjection=t.snapshotProjection,this.stream=e,this.ids=n,this.extra=i,this.skipPoll=this.options.skipPoll||s.doNothing,this.canPollDoc=this.db.canPollDoc(this.collection,this.query),this.pollDebounce="number"===typeof this.options.pollDebounce?this.options.pollDebounce:"number"===typeof this.db.pollDebounce?this.db.pollDebounce:0,this.pollInterval="number"===typeof this.options.pollInterval?this.options.pollInterval:"number"===typeof this.db.pollInterval?this.db.pollInterval:0,this._polling=!1,this._pendingPoll=null,this._pollDebounceId=null,this._pollIntervalId=null}t.exports=a,a.prototype._open=function(){var t=this;this._defaultCallback=function(e){e&&t.onError(e)},t.stream.on("data",function(e){if(e.error)return t.onError(e.error);t._update(e)}),t.stream.on("end",function(){t.destroy()}),this._flushPoll()},a.prototype.destroy=function(){clearTimeout(this._pollDebounceId),clearTimeout(this._pollIntervalId),this.stream.destroy()},a.prototype._emitTiming=function(t,e){this.backend.emit("timing",t,Date.now()-e,this)},a.prototype._update=function(t){var e=t.d;-1!==this.ids.indexOf(e)&&this.onOp(t);try{if(this.db.skipPoll(this.collection,e,t,this.query))return this._defaultCallback();if(this.skipPoll(this.collection,e,t,this.query))return this._defaultCallback()}catch(t){return this._defaultCallback(t)}this.canPollDoc?this.queryPollDoc(e,this._defaultCallback):this.queryPoll(this._defaultCallback)},a.prototype._flushPoll=function(){if(!this._polling&&!this._pollDebounceId)if(this._pendingPoll)this.queryPoll();else if(this.pollInterval){var t=this;this._pollIntervalId=setTimeout(function(){t._pollIntervalId=null,t.queryPoll(t._defaultCallback)},this.pollInterval)}},a.prototype.queryPoll=function(t){var e=this;if(this._polling||this._pollDebounceId)this._pendingPoll?this._pendingPoll.push(t):this._pendingPoll=[t];else{this._polling=!0;var n=this._pendingPoll;this._pendingPoll=null,this.pollDebounce&&(this._pollDebounceId=setTimeout(function(){e._pollDebounceId=null,e._flushPoll()},this.pollDebounce)),clearTimeout(this._pollIntervalId);var o=Date.now();this.db.queryPoll(this.collection,this.query,this.options,function(s,a,u){if(s)return e._finishPoll(s,t,n);e._emitTiming("queryEmitter.poll",o),r(e.extra,u)||(e.extra=u,e.onExtra(u));var l=i(e.ids,a);if(l.length){e.ids=a;var c=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r instanceof i.InsertDiff)for(var o=0;o<r.values.length;o++)e.push(r.values[o])}return e}(l);c.length?e.db.getSnapshotBulk(e.collection,c,e.fields,null,function(r,s){if(r)return e._finishPoll(r,t,n);var a=e.backend._getSnapshotsFromMap(c,s),u=e.backend.SNAPSHOT_TYPES.current;e.backend._sanitizeSnapshots(e.agent,e.snapshotProjection,e.collection,a,u,function(r){if(r)return e._finishPoll(r,t,n);e._emitTiming("queryEmitter.pollGetSnapshotBulk",o);var a=function(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r];if(o instanceof i.InsertDiff){for(var s=[],a=0;a<o.values.length;a++){var u=o.values[a];s.push(e[u])}n.push(new i.InsertDiff(o.index,s))}else n.push(o)}return n}(l,s);e.onDiff(a),e._finishPoll(r,t,n)})}):(e.onDiff(l),e._finishPoll(s,t,n))}else e._finishPoll(s,t,n)})}},a.prototype._finishPoll=function(t,e,n){if(this._polling=!1,e&&e(t),n)for(var i=0;i<n.length;i++)(e=n[i])&&e(t);this._flushPoll()},a.prototype.queryPollDoc=function(t,e){var n=this,r=Date.now();this.db.queryPollDoc(this.collection,t,this.query,this.options,function(o,s){if(o)return e(o);n._emitTiming("queryEmitter.pollDoc",r);var a=n.ids.indexOf(t);if(-1===a&&s){var u=n.ids.push(t)-1;n.db.getSnapshot(n.collection,t,n.fields,null,function(t,o){if(t)return e(t);var s=[o],a=n.backend.SNAPSHOT_TYPES.current;n.backend._sanitizeSnapshots(n.agent,n.snapshotProjection,n.collection,s,a,function(t){if(t)return e(t);n.onDiff([new i.InsertDiff(u,s)]),n._emitTiming("queryEmitter.pollDocGetSnapshot",r),e()})})}else{if(-1!==a&&!s)return n.ids.splice(a,1),n.onDiff([new i.RemoveDiff(a,1)]),e();e()}})},a.prototype.onError=a.prototype.onDiff=a.prototype.onExtra=a.prototype.onOp=function(){throw new o(5018,"Required QueryEmitter listener not assigned")}},function(t,e,n){var i=n(32),r=n(33);function o(t,e,n,i,r,o){this.backend=t,this.agent=e;var s=t.projections[n];this.index=n,this.projection=s,this.collection=s?s.target:n,this.id=i,this.op=r,this.options=o,this.start=Date.now(),this._addOpMeta(),this.action=null,this.custom={},this.saveMilestoneSnapshot=null,this.suppressPublish=t.suppressPublish,this.maxRetries=t.maxSubmitRetries,this.retries=0,this.snapshot=null,this.ops=[],this.channels=null}t.exports=o,o.prototype.submit=function(t){var e=this,n=this.backend,i=this.collection,r=this.id,o=this.op;n.db.getSnapshot(i,r,{$submit:!0},null,function(s,a){if(s)return t(s);if(e.snapshot=a,e._addSnapshotMeta(),null==o.v){if(o.create&&a.type&&o.src)return void n.db.getCommittedOpVersion(i,r,a,o,null,function(n,i){if(n)return t(n);null==i?t(e.alreadyCreatedError()):(o.v=i,t(e.alreadySubmittedError()))});o.v=a.v}if(o.v===a.v)return e.apply(t);if(o.v>a.v)return t(e.newerVersionError());var u=o.v;n.db.getOpsToSnapshot(i,r,u,a,null,function(n,i){return n?t(n):i.length!==a.v-u?t(e.missingOpsError()):(n=e._transformOp(i))?t(n):o.v!==a.v?t(e.versionAfterTransformError()):void e.apply(t)})})},o.prototype.apply=function(t){var e=this.projection;if(e&&!r.isOpAllowed(this.snapshot.type,e.fields,this.op))return t(this.projectionError());this.channels=this.backend.getChannels(this.collection,this.id);var n=this;this.backend.trigger("apply",this.agent,this,function(e){return e?t(e):(e=i.apply(n.snapshot,n.op))?t(e):void n.commit(t)})},o.prototype.commit=function(t){var e=this,n=this.backend;n.trigger("commit",this.agent,this,function(i){if(i)return t(i);n.db.commit(e.collection,e.id,e.op,e.snapshot,e.options,function(i,r){if(i)return t(i);if(!r)return e.retry(t);if(!e.suppressPublish){var o=e.op;o.c=e.collection,o.d=e.id,o.m=void 0,e.collection!==e.index&&(o.i=e.index),n.pubsub.publish(e.channels,o)}e._shouldSaveMilestoneSnapshot(e.snapshot)&&e.backend.milestoneDb.saveMilestoneSnapshot(e.collection,e.snapshot),t()})})},o.prototype.retry=function(t){if(this.retries++,null!=this.maxRetries&&this.retries>this.maxRetries)return t(this.maxRetriesError());this.backend.emit("timing","submit.retry",Date.now()-this.start,this),this.submit(t)},o.prototype._transformOp=function(t){for(var e=this.snapshot.type,n=0;n<t.length;n++){var r=t[n];if(this.op.src&&this.op.src===r.src&&this.op.seq===r.seq)return this.alreadySubmittedError();if(this.op.v!==r.v)return this.versionDuringTransformError();var o=i.transform(e,this.op,r);if(o)return o;this.ops.push(r)}},o.prototype._addOpMeta=function(){this.op.m={ts:this.start},this.op.create&&(this.op.create.type=i.normalizeType(this.op.create.type))},o.prototype._addSnapshotMeta=function(){var t=this.snapshot.m||(this.snapshot.m={});this.op.create?t.ctime=this.start:this.op.del&&(this.op.m.data=this.snapshot.data),t.mtime=this.start},o.prototype._shouldSaveMilestoneSnapshot=function(t){return null===this.saveMilestoneSnapshot?t&&t.v%this.backend.milestoneDb.interval===0:this.saveMilestoneSnapshot},o.prototype.alreadySubmittedError=function(){return{code:4001,message:"Op already submitted"}},o.prototype.rejectedError=function(){return{code:4002,message:"Op submit rejected"}},o.prototype.alreadyCreatedError=function(){return{code:4010,message:"Invalid op submitted. Document already created"}},o.prototype.newerVersionError=function(){return{code:4011,message:"Invalid op submitted. Op version newer than current snapshot"}},o.prototype.projectionError=function(){return{code:4012,message:"Invalid op submitted. Operation invalid in projected collection"}},o.prototype.missingOpsError=function(){return{code:5001,message:"Op submit failed. DB missing ops needed to transform it up to the current snapshot version"}},o.prototype.versionDuringTransformError=function(){return{code:5002,message:"Op submit failed. Versions mismatched during op transform"}},o.prototype.versionAfterTransformError=function(){return{code:5003,message:"Op submit failed. Op version mismatches snapshot after op transform"}},o.prototype.maxRetriesError=function(){return{code:5004,message:"Op submit failed. Maximum submit retries exceeded"}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(14),a=n(2),u=n(163),l=n(7),c=n(164),h=function(t){var e=0;return a.each(t,function(t){e+=t}),e/t.length},f=function(t,e,n,i){return Math.pow(t-n,2)+Math.pow(e-i,2)},d=function(){return(new Date).getTime()},p=[];function g(t){a.filter(p,function(t){return!t.isSatisfied()});var e=d();s.wait(),a.each(p,function(e){var n=e.options.downInside,i=e.options.downOutside;n&&(a.isArray(n)||(n=[n])),i&&(a.isArray(i)||(i=[i])),a.each(t.changedTouches,function(t){var r=!0,o=!0;n&&(r=a.every(n,function(e){var n=e.toString();return!!c.isPointInsidePath(n,t.pageX,t.pageY)})),i&&(o=a.every(i,function(e){var n=e.toString();return!c.isPointInsidePath(n,t.pageX,t.pageY)})),r&&o&&e.addUsableFinger(t)})}),a.each(t.changedTouches,function(t){o.put(parseInt(t.identifier),s({x:t.pageX,y:t.pageY,id:t.identifier,startX:t.clientX,startY:t.clientY,force:t.force,downAt:e,movedAt:e,pressed:!0,claimedBy:[],usedBy:[]}))}),y(t.changedTouches),s.signal(),t.preventDefault(),t.stopPropagation()}function m(t){var e=d();s.wait(),a.each(t.changedTouches,function(t){o.get(parseInt(t.identifier)).put("x",t.clientX).put("y",t.clientY).put("force",t.force).put("movedAt",e)}),s.signal(),t.preventDefault(),t.stopPropagation()}function v(t){var e=d();s.wait(),a.each(p,function(e){e.removeUsableFingers(t.changedTouches)});var n=a.filter(p,function(t){return t.isSatisfied()}),i=a.filter(n,function(e){return e.usesAnyTouch(t.changedTouches)});a.each(i,function(t){t.preUnsatisfied()});a.each(t.changedTouches,function(t){o.get(parseInt(t.identifier)).put("x",t.clientX).put("y",t.clientY).put("movedAt",e).put("force",t.force).put("pressed",!1)}),y(!1,t.changedTouches),s.signal(),t.preventDefault(),t.stopPropagation()}function y(t,e,n){var i=function(){var t=o.toObject(),e={},n={},i=o.keys(),r=i.length;a.each(t,function(t,i){e[i]=t.toObject(),n[i]={},n[i][i]=0});for(var s=0;s<r-1;s++){var u=i[s],l=e[u];if(l.pressed)for(var c=s+1;c<r;c++){var h=i[c],f=e[h],d=Math.sqrt(Math.pow(l.x-f.x,2)+Math.pow(l.y-f.y,2));n[u][h]=n[h][u]=d}}return n}();a.each(p,function(n){n.pruneClaimedFingers(),n.pruneTimedOutUsableFingers();var r,o,s,u=n.isSatisfied(),l=n.getUsableFingers(),c=n.getUsingFingers(),d=l.length,p=c.length,g=n.options.numFingers;if(u&&e){if(l.length<g)n.postUnsatisfied();else for(r=0;r<p;r++)if(l.indexOf(c[r])<0){n.postUnsatisfied();break}}else if(!u&&t&&l.length>=g)if(g>1){var m=a.keys(S),v=!1;if(l.length===g)m=l;else{var y,b,_,w,x,k=[],C=!1;for(r=0;r<d;r++)for(y=l[r],o=r+1;o<d;o++)if(b=l[o],_=i[y][b],k.length<g||_<C){for(w=!1,x={identifiers:[y,b],distance:_},s=0;s<k.length;s++)if(_<k[s].distance){k.splice(s,0,x),w=!0;break}w||(k.push(x),C=_),k.length>g&&k.splice(g,g-k.length),C=a.last(k).distance}var S={};a.each(k,function(t){S[t.identifiers[0]]=S[t.identifiers[1]]=!0}),m=a.keys(S)}if(n.options.maxRadius){v=!0;var T=a.map(m,function(t){return T.get(t)}),E={x:h(a.map(T,"x")),y:h(a.map(T,"y"))},P=Math.pow(n.options.maxRadius,2);a.every(T,function(t){return f(t.x,t.y,E.x,E.y)<=P})&&(v=!0)}else v=!0;v&&n.postSatisfied(m)}else n.postSatisfied([l[0]])})}var b=2*Math.PI,_=function(t){function e(n){var i=t.call(this)||this;return i.options=n,i._id=e.tc_id++,i.startForce=s(0),i.$force=s(function(){var t=i.$usingTouchInfo.get();return t.length>0?h(a.map(t,"force")):0}),i.$startForce=s(0),i.$endForce=s(0),i.$usableFingers=s([]),i.$usingFingers=s([]),i.$satisfied=s(!1),i.$usingTouchInfo=s(function(){var t=[];return i.$usingFingers.forEach(function(e){var n=o.get(parseInt(e)).toObject();t.push(n)},i),t}),i.$startCenter=s.constraint({x:!1,y:!1}),i.$center=s(function(){var t=i.$usingTouchInfo.get();return t.length>0?{x:h(a.map(t,"x")),y:h(a.map(t,"y"))}:{x:!1,y:!1}}),i.$endCenter=s(!1),i.$startRadius=s(function(){var t,e=i.$usingTouchInfo.get(),n=i.$startCenter.get();return e.length>0&&(a.each(e,function(e){var i=f(n.x,n.y,e.startX,e.startY);(!t||i<t)&&(t=i)}),Math.sqrt(t))}),i.$radius=s(function(){var t,e=i.$usingTouchInfo.get(),n=i.$center.get();return e.length>0&&(a.each(e,function(e){var i=f(n.x,n.y,e.x,e.y);(!t||i<t)&&(t=i)}),Math.sqrt(t))}),i.$endRadius=s(!1),i.$rotation=s(function(){if(i.$usingFingers.toArray().length>1){for(var t=i.$usingTouchInfo.get(),e=i.$startCenter.get(),n=i.$center.get(),r=a.map(t,function(t){for(var i=Math.atan2(t.y-n.y,t.x-n.x),r=Math.atan2(t.startY-e.y,t.startX-e.x);i<0;)i+=b;for(;r<0;)r+=b;for(var o=r-i;o<0;)o+=b;return o}),o=h(r);o>=Math.PI;)o-=b;return o}return!1}),i.$endRotation=s(!1),i.$scale=s(function(){if(i.$usingFingers.toArray().length>1){var t=i.$usingTouchInfo.get(),e=i.$startCenter.get(),n=i.$center.get(),r=h(a.map(t,function(t){return Math.sqrt(Math.pow(t.startX-e.x,2)+Math.pow(t.startY-e.y,2))}));return h(a.map(t,function(t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}))/r}return!1}),i.$endScale=s(!1),i.$claimed=s(!1),i.$xConstraint=i.$center.prop("x"),i.$yConstraint=i.$center.prop("y"),i.$startXConstraint=i.$startCenter.prop("x"),i.$startYConstraint=i.$startCenter.prop("y"),i.$endXConstraint=i.$endCenter.prop("x"),i.$endYConstraint=i.$endCenter.prop("y"),i.crossEvents=[],i.sid=i.id,i.options=a.extend({},e.optionDefaults,i.options),p.push(i),1===p.length&&(o=s({}),window.addEventListener("touchstart",g),window.addEventListener("touchmove",m),window.addEventListener("touchend",v),window.addEventListener("touchcancel",v)),i}return r(e,t),e.prototype.addCrossListener=function(t,e){var n=new u.CrossEvent({cluster:this,path:t,callback:e});return this.crossEvents.push(n),this},e.prototype.removeCrossListener=function(t,e){for(var n=0;n<this.crossEvents.length;n++){var i=this.crossEvents[n];i.getCallback()===e&&i.getPath()===t&&(i.destroy(),this.crossEvents.splice(n,1),n--)}return this},e.prototype.destroy=function(t){var e=p.indexOf(this);e>=0&&(p.splice(e,1),0===p.length&&(o.destroy(!0),o=null,window.removeEventListener("touchstart",g),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",v),window.removeEventListener("touchcancel",v))),this.$usableFingers.destroy(!0),this.$usingFingers.destroy(!0),this.$usingTouchInfo.destroy(!0),this.$startCenter.destroy(!0),this.$center.destroy(!0),this.$endCenter.destroy(!0),this.$scale.destroy(!0),this.$endScale.destroy(!0),this.$endRotation.destroy(!0),this.$startRadius.destroy(!0),this.$radius.destroy(!0),this.$endRadius.destroy(!0),this.$radius.destroy(!0),this.$claimed.destroy(!0),this.$xConstraint.destroy(!0),this.$startXConstraint.destroy(!0),this.$startYConstraint.destroy(!0),this.$endXConstraint.destroy(!0),this.$endYConstraint.destroy(!0),this.$force.destroy(!0),this.$startForce.destroy(!0),this.$endForce.destroy(!0)},e.prototype.isGreedy=function(){return this.options.greedy},e.prototype.isSatisfied=function(){return this.$satisfied.get()},e.prototype.isSatisfiedConstraint=function(){return this.$satisfied},e.prototype.preUnsatisfied=function(){this.$endCenter.set(this.$center.get()),this.$endRadius.set(this.$radius.get()),this.$endRotation.set(this.$rotation.get()),this.$endScale.set(this.$scale.get()),this.$endForce.set(this.$force.get())},e.prototype.postUnsatisfied=function(){s.wait(),this.$usingFingers.forEach(function(t){var e=o.get(parseInt(t)),n=e.get("usedBy"),i=e.get("claimedBy"),r=n.indexOf(this);r>=0&&n.splice(r,1),(r=i.indexOf(this))>=0&&i.splice(r,1)},this),this.$satisfied.set(!1),this.$claimed.set(!1),this.$usableFingers.setValue([]),this.$usingFingers.setValue([]),this.$startCenter.set({x:!1,y:!1}),this.emit("unsatisfied"),s.signal()},e.prototype.postSatisfied=function(t){var e=this;s.wait(),this.$satisfied.set(!0),this.$usingFingers.setValue(t),a.each(t,function(t){o.get(parseInt(t)).get("usedBy").push(e)});var n=this.$usingTouchInfo.get();if(n.length>0){var i=h(a.map(n,"startX")),r=h(a.map(n,"startY"));this.$startCenter.set({x:i,y:r})}else this.$startCenter.set({x:!1,y:!1});var u=h(a.map(n,"force"));this.$startForce.set(u),this.emit("satisfied"),this.isGreedy()&&this.claimTouches(),s.signal()},e.prototype.getX=function(){return this.$xConstraint.get()},e.prototype.getY=function(){return this.$yConstraint.get()},e.prototype.getXConstraint=function(){return this.$xConstraint},e.prototype.getYConstraint=function(){return this.$yConstraint},e.prototype.getStartX=function(){return this.$startXConstraint.get()},e.prototype.getStartY=function(){return this.$startYConstraint.get()},e.prototype.getStartXConstraint=function(){return this.$startXConstraint},e.prototype.getStartYConstraint=function(){return this.$startYConstraint},e.prototype.getEndX=function(){return this.$endXConstraint.get()},e.prototype.getEndY=function(){return this.$endYConstraint.get()},e.prototype.getEndXConstraint=function(){return this.$endXConstraint},e.prototype.getEndYConstraint=function(){return this.$endYConstraint},e.prototype.getRadius=function(){return this.$radius.get()},e.prototype.getRadiusConstraint=function(){return this.$radius},e.prototype.getStartRadius=function(){return this.$startRadius.get()},e.prototype.getStartRadiusConstraint=function(){return this.$radius.get()},e.prototype.getEndRadius=function(){return this.$endRadius.get()},e.prototype.getEndRadiusConstraint=function(){return this.$endRadius},e.prototype.getRotation=function(){return this.$rotation.get()},e.prototype.getRotationConstraint=function(){return this.$rotation},e.prototype.getEndRotation=function(){return this.$endRotation.get()},e.prototype.getEndRotationConstraint=function(){return this.$endRotation},e.prototype.getScale=function(){return this.$scale.get()},e.prototype.getScaleConstraint=function(){return this.$scale},e.prototype.getEndScale=function(){return this.$endScale.get()},e.prototype.getEndScaleConstraint=function(){return this.$endScale},e.prototype.getForce=function(){return this.$force.get()},e.prototype.getForceConstraint=function(){return this.$force},e.prototype.getStartForce=function(){return this.$startForce.get()},e.prototype.getStartForceConstraint=function(){return this.$startForce},e.prototype.getEndForce=function(){return this.$endForce.get()},e.prototype.getEndForceConstraint=function(){return this.$endForce},e.prototype.setOption=function(t,e){1===arguments.length?a.extend(this.options,t):arguments.length>1&&(this.options[t]=e)},e.prototype.usesTouch=function(t){var e=t.identifier;return this.$usingFingers.indexOf(e)>=0},e.prototype.usesAnyTouch=function(t){var e=this;return a.some(t,function(t){return e.usesTouch(t)})},e.prototype.removeUsableFinger=function(t){var e=this.$usableFingers.indexOf(t.identifier);e>=0&&this.$usableFingers.splice(e,1)},e.prototype.removeUsableFingers=function(t){var e=this;a.each(t,function(t){return e.removeUsableFinger(t)})},e.prototype.addUsableFinger=function(t){this.$usableFingers.push(t.identifier)},e.prototype.addUsableFingers=function(t){var e=this;a.each(t,function(t){return e.addUsableFinger(t)})},e.prototype.getUsableFingers=function(){return this.$usableFingers.toArray()},e.prototype.getUsingFingers=function(){return this.$usingFingers.toArray()},e.prototype.pruneClaimedFingers=function(){for(var t=this.getUsableFingers(),e=(d(),t.length),n=0;n<e;n++){var i=o.get(t[n]).get("claimedBy");i.length>0&&i.indexOf(this)<0&&(this.$usableFingers.splice(n,1),t.splice(n,1),n--,e--)}},e.prototype.pruneTimedOutUsableFingers=function(){if(this.options.maxTouchInterval)for(var t=this.getUsableFingers(),e=t.length,n=d(),i=0;i<e;i++){if(!(n-o.get(t[i]).get("downAt")>this.options.maxTouchInterval))break;i}},e.prototype.getTouches=function(){return this.$usingTouchInfo.get()},e.prototype.claimTouches=function(){s.wait(),this.$claimed.set(!0),this.$usingFingers.forEach(function(t){var e=o.get(t),n=e.get("claimedBy"),i=e.get("usedBy");n.push(this);var r=[];i.forEach(function(t,e){t!==this&&(r[e]=t)},this),r.reverse(),r.forEach(function(t,e){t&&(t.preUnsatisfied(),t.postUnsatisfied(),i.splice(e,1))})},this),s.signal()},e.prototype.disclaimTouches=function(){s.wait(),this.$claimed.set(!1),this.$usingFingers.forEach(function(t){var e=o.get(t).get("claimedBy"),n=e.indexOf(this);n>=0&&e.splice(n,1)},this),s.signal()},e.prototype.claimsTouches=function(){return this.$claimed.get()},e.prototype.id=function(){return this._id},e.optionDefaults={downInside:!1,downOutside:!1,numFingers:1,maxRadius:null,maxTouchInterval:500,greedy:!1},e.tc_id=0,e}(l.EventEmitter);e.TouchCluster=_},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(14),a=n(7),u=n(2),l=function(t){function e(){var e=t.call(this)||this;return e.paths=[],e}return r(e,t),e.prototype.addPath=function(t){this.paths.push(t),this.emit("pathCreated",t)},e.prototype.destroy=function(t){for(var e=0;e<this.paths.length;e++)if(this.paths[e]===t){this.paths.splice(e,1),this.emit("pathDestroyed",t);break}},e}(a.EventEmitter);e.PathList=l,function(t){t[t.IF=0]="IF",t[t.WHILE=1]="WHILE"}(o||(o={})),e.pathList=new l;var c=function(){function t(){this.tree=s.array(),this.curr_tree_node=this.tree,this.stack=[this.tree],this.m=this.relativeMoveTo,this.moveTo=this.relativeMoveTo,this.M=this.absoluteMoveTo,this.l=this.relativeLineTo,this.lineTo=this.relativeLineTo,this.L=this.absoluteLineTo,this.h=this.relativeHorizontalLineTo,this.H=this.absoluteHorizontalLineTo,this.v=this.relativeVerticalLineTo,this.V=this.absoluteVerticalLineTo,this.c=this.relativeCurveTo,this.C=this.absoluteCurveTo,this.s=this.relativeSmoothCurveTo,this.S=this.absoluteSmoothCurveTo,this.q=this.relativeQuadraticCurveTo,this.Q=this.absoluteQuadraticCurveTo,this.t=this.relativeSmoothQuadraticCurveTo,this.T=this.absoluteSmoothQuadraticCurveTo,this.a=this.relativeArc,this.A=this.absoluteArc,this.Z=this.close,e.pathList.addPath(this)}return t.prototype.clear=function(){this.tree.splice(0,this.tree.length()),this.curr_tree_node=this.tree,this.stack=[this.tree]},t.prototype.relativeMoveTo=function(t,e){return this.curr_tree_node.push(["m",t,e]),this},t.prototype.absoluteMoveTo=function(t,e){return this.curr_tree_node.push(["M",t,e]),this},t.prototype.relativeLineTo=function(t,e){return this.curr_tree_node.push(["l",t,e]),this},t.prototype.absoluteLineTo=function(t,e){return this.curr_tree_node.push(["L",t,e]),this},t.prototype.relativeHorizontalLineTo=function(t){return this.curr_tree_node.push(["h",t]),this},t.prototype.absoluteHorizontalLineTo=function(t){return this.curr_tree_node.push(["H",t]),this},t.prototype.relativeVerticalLineTo=function(t){return this.curr_tree_node.push(["v",t]),this},t.prototype.absoluteVerticalLineTo=function(t){return this.curr_tree_node.push(["V",t]),this},t.prototype.relativeCurveTo=function(t,e,n,i,r,o){return this.curr_tree_node.push(["c",t,e,n,i,r,o]),this},t.prototype.absoluteCurveTo=function(t,e,n,i,r,o){return this.curr_tree_node.push(["C",t,e,n,i,r,o]),this},t.prototype.relativeSmoothCurveTo=function(t,e,n,i){return this.curr_tree_node.push(["s",t,e,n,i]),this},t.prototype.absoluteSmoothCurveTo=function(t,e,n,i){return this.curr_tree_node.push(["S",t,e,n,i]),this},t.prototype.relativeQuadraticCurveTo=function(t,e,n,i){return this.curr_tree_node.push(["q",t,e,n,i]),this},t.prototype.absoluteQuadraticCurveTo=function(t,e,n,i){return this.curr_tree_node.push(["Q",t,e,n,i]),this},t.prototype.relativeSmoothQuadraticCurveTo=function(t,e){return this.curr_tree_node.push(["t",t,e]),this},t.prototype.absoluteSmoothQuadraticCurveTo=function(t,e){return this.curr_tree_node.push(["T",t,e]),this},t.prototype.relativeArc=function(t,e,n,i,r,o,s){return this.curr_tree_node.push(["a",t,e,n,i?1:0,r?1:0,o,s]),this},t.prototype.absoluteArc=function(t,e,n,i,r,o,s){return this.curr_tree_node.push(["A",t,e,n,i?1:0,r?1:0,o,s]),this},t.prototype.ellipse=function(t,e,n,i){var r;return r=s.isConstraint(t)?t.sub(n):s.isConstraint(n)?s(function(){return t-n.get()}):t-n,this.curr_tree_node.push(["M",r,e],["a",n,i,0,1,1,0,1e-4],["Z"]),this},t.prototype.line=function(t,e,n,i){return this.curr_tree_node.push(["M",t,e],["L",n,i]),this},t.prototype.rect=function(t,e,n,i){var r;return r=s.isConstraint(n)?n.neg():-n,this.curr_tree_node.push(["M",t,e],["h",n],["v",i],["h",r],["Z"]),this},t.prototype.circle=function(t,e,n){return this.ellipse(t,e,n,n)},t.prototype.close=function(){return this.curr_tree_node.push(["Z"]),this},t.prototype.startIF=function(t){var e=[];return this.curr_tree_node.push([o.IF,{condition:t,tree:e}]),this.curr_tree_node=e,this.stack.push(e),this},t.prototype.startELIF=function(t){this.stack.pop();var e=u.last(this.stack),n=[];return u.last(e).push({condition:t,tree:n}),this.curr_tree_node=n,this.stack.push(n),this},t.prototype.startELSE=function(){this.stack.pop();var t=u.last(this.stack),e=[];return u.last(t).push({tree:e}),this.curr_tree_node=e,this.stack.push(e),this},t.prototype.endIF=function(){return this.stack.pop(),this.curr_tree_node=u.last(this.stack),this},t.nodeToString=function(e){var n=e[0];if(n===o.IF){for(var i=void 0,r=void 0,a=void 0,l=1;l<e.length;l++){var c=e[l];if(u.has(c,"condition")?(r=c.condition,a=u.isFunction(r)?r():s.get(r)):a=!0,a){i=e[l].tree;break}}return i||(i=[]),u.map(i,t.nodeToString).join("")}var h=u.map(u.tail(e),function(t){return s.get(t)});return n+(0===h.length?"":" "+h.join(","))},t.prototype.toString=function(){return u.map(this.tree.toArray(),t.nodeToString).join(" ")},t.prototype.destroy=function(){e.pathList.destroy(this)},t}();e.Path=c},function(t,e,n){n(71),t.exports=n(76)},function(t,e,n){"use strict";"undefined"===typeof Promise&&(n(72).enable(),window.Promise=n(74)),n(75),Object.assign=n(20)},function(t,e,n){"use strict";var i=n(34),r=[ReferenceError,TypeError,RangeError],o=!1;function s(){o=!1,i._47=null,i._71=null}function a(t,e){return e.some(function(e){return t instanceof e})}e.disable=s,e.enable=function(t){t=t||{},o&&s();o=!0;var e=0,n=0,u={};function l(e){(t.allRejections||a(u[e].error,t.whitelist||r))&&(u[e].displayId=n++,t.onUnhandled?(u[e].logged=!0,t.onUnhandled(u[e].displayId,u[e].error)):(u[e].logged=!0,function(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}(u[e].displayId,u[e].error)))}i._47=function(e){var n;2===e._83&&u[e._56]&&(u[e._56].logged?(n=e._56,u[n].logged&&(t.onHandled?t.onHandled(u[n].displayId,u[n].error):u[n].onUnhandled||(console.warn("Promise Rejection Handled (id: "+u[n].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+u[n].displayId+".")))):clearTimeout(u[e._56].timeout),delete u[e._56])},i._71=function(t,n){0===t._75&&(t._56=e++,u[t._56]={displayId:null,error:n,timeout:setTimeout(l.bind(null,t._56),a(n,r)?100:2e3),logged:!1})}}},function(t,e,n){"use strict";(function(e){function n(t){r.length||(i(),!0),r[r.length]=t}t.exports=n;var i,r=[],o=0,s=1024;function a(){for(;o<r.length;){var t=o;if(o+=1,r[t].call(),o>s){for(var e=0,n=r.length-o;e<n;e++)r[e]=r[e+o];r.length-=o,o=0}}r.length=0,o=0,!1}var u,l,c,h="undefined"!==typeof e?e:self,f=h.MutationObserver||h.WebKitMutationObserver;function d(t){return function(){var e=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(e),clearInterval(n),t()}}}"function"===typeof f?(u=1,l=new f(a),c=document.createTextNode(""),l.observe(c,{characterData:!0}),i=function(){u=-u,c.data=u}):i=d(a),n.requestFlush=i,n.makeRequestCallFromTimer=d}).call(e,n(6))},function(t,e,n){"use strict";var i=n(34);t.exports=i;var r=c(!0),o=c(!1),s=c(null),a=c(void 0),u=c(0),l=c("");function c(t){var e=new i(i._44);return e._83=1,e._18=t,e}i.resolve=function(t){if(t instanceof i)return t;if(null===t)return s;if(void 0===t)return a;if(!0===t)return r;if(!1===t)return o;if(0===t)return u;if(""===t)return l;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new i(e.bind(t))}catch(t){return new i(function(e,n){n(t)})}return c(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){if(0===e.length)return t([]);var r=e.length;function o(s,a){if(a&&("object"===typeof a||"function"===typeof a)){if(a instanceof i&&a.then===i.prototype.then){for(;3===a._83;)a=a._18;return 1===a._83?o(s,a._18):(2===a._83&&n(a._18),void a.then(function(t){o(s,t)},n))}var u=a.then;if("function"===typeof u)return void new i(u.bind(a)).then(function(t){o(s,t)},n)}e[s]=a,0===--r&&t(e)}for(var s=0;s<e.length;s++)o(s,e[s])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(t){return t&&DataView.prototype.isPrototypeOf(t)},r=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};c.prototype.append=function(t,e){t=a(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},c.prototype.delete=function(t){delete this.map[a(t)]},c.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},c.prototype.set=function(t,e){this.map[a(t)]=u(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),l(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),l(t)},e.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},g.call(m.prototype),g.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var s=[301,302,303,307,308];y.redirect=function(t,e){if(-1===s.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=m,t.Response=y,t.fetch=function(t,n){return new Promise(function(i,r){var o=new m(t,n),s=new XMLHttpRequest;s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new c,t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;i(new y(r,n))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials&&(s.withCredentials=!0),"responseType"in s&&e.blob&&(s.responseType="blob"),o.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"===typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function a(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!==typeof t&&(t=String(t)),t}function l(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function d(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&i(t))this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!r(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t,e,n,i=h(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=f(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(t,e){var n,i,r=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(n=e.method||this.method||"GET",i=n.toUpperCase(),o.indexOf(i)>-1?i:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function y(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!==typeof self?self:this)},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),extendStatics,__awaiter=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}u((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},_this=this;Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(21),ReactDOM=__webpack_require__(78),TouchBehavior_1=__webpack_require__(82),jQuery=__webpack_require__(15);__webpack_require__(166);var sdb_ts_1=__webpack_require__(24),Path_1=__webpack_require__(69),TouchCluster_1=__webpack_require__(68),client=new sdb_ts_1.SDBClient(new WebSocket("ws://"+window.location.hostname+":3000")),doc=client.get("touchdoc","touchdoc");function markDone(){alert("MARKED DONE")}!function(){__awaiter(_this,void 0,Promise,function(){return __generator(this,function(_a){switch(_a.label){case 0:return doc.subscribe(function(type,ops){var data=doc.getData(),code=data.code;if(null===type){if(doc.submitObjectReplaceOp(["codeErrors"],[]),code)try{eval(code)}catch(t){doc.submitListPushOp(["codeErrors"],t.toString())}}else"op"===type&&ops.forEach(function(t){var e=t.p;1===e.length&&"code"===e[0]&&window.location.reload()})}),[4,doc.fetch()];case 1:return _a.sent(),[2]}})})}();var r=ReactDOM.render(React.createElement("div",{className:"container"},React.createElement(TouchBehavior_1.TouchBehavior,{doc:doc,path:[]})),document.getElementById("root")),Path=function(t){function e(){var e=t.call(this)||this;return jQuery(".simpleScreenTouches",r).touchscreen_layer("addPath",e),console.log("create"),e}return __extends(e,t),e}(Path_1.Path);window.TouchCluster=TouchCluster_1.TouchCluster,window.Path=Path,window.addEventListener("touchstart",function(t){if("SELECT"!==t.target.tagName.toUpperCase())return t.preventDefault(),!1;console.log("select")},!1),window.addEventListener("touchmove",function(t){return t.preventDefault(),!1},!1),window.addEventListener("touchend",function(t){if("SELECT"!==t.target.tagName.toUpperCase())return t.preventDefault(),!1;console.log("select")},!1)},function(t,e,n){"use strict";var i=n(20),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112;r&&Symbol.for("react.placeholder");var p="function"===typeof Symbol&&Symbol.iterator;function g(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);!function(t,e,n,i,r,o,s,a){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,s,a],l=0;(t=Error(e.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||m}function b(){}function _(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&g("85"),this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=y.prototype;var w=_.prototype=new b;w.constructor=_,i(w,y.prototype),w.isPureReactComponent=!0;var x={current:null,currentDispatcher:null},k=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var i=void 0,r={},s=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)k.call(e,i)&&!C.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in u=t.defaultProps)void 0===r[i]&&(r[i]=u[i]);return{$$typeof:o,type:t,key:s,ref:a,props:r,_owner:x.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var E=/\/+/g,P=[];function D(t,e,n,i){if(P.length){var r=P.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function M(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>P.length&&P.push(t)}function O(t,e,n){return null==t?0:function t(e,n,i,r){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case s:u=!0}}if(u)return i(r,e,""===n?"."+A(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+A(a=e[l],l);u+=t(a,c,i,r)}else if(c=null===e||"object"!==typeof e?null:"function"===typeof(c=p&&e[p]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(a=e.next()).done;)u+=t(a=a.value,c=n+A(a,l++),i,r);else"object"===a&&g("31","[object Object]"===(i=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":i,"");return u}(t,"",e,n)}function A(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function I(t,e){t.func.call(t.context,e,t.count++)}function N(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?R(t,i,n,function(t){return t}):null!=t&&(T(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(E,"$&/")+"/")+n)),i.push(t))}function R(t,e,n,i,r){var o="";null!=n&&(o=(""+n).replace(E,"$&/")+"/"),O(t,N,e=D(e,o,i,r)),M(e)}var j={Children:{map:function(t,e,n){if(null==t)return t;var i=[];return R(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;O(t,I,e=D(null,null,e,n)),M(e)},count:function(t){return O(t,function(){return null},null)},toArray:function(t){var e=[];return R(t,e,null,function(t){return t}),e},only:function(t){return T(t)||g("143"),t}},createRef:function(){return{current:null}},Component:y,PureComponent:_,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,Provider:null,Consumer:null,unstable_read:null}).Provider={$$typeof:c,_context:t},t.Consumer=t,t.unstable_read=function(t,e){var n=x.currentDispatcher;return null===n&&g("277"),n.readContext(t,e)}.bind(null,t),t},forwardRef:function(t){return{$$typeof:d,render:t}},Fragment:a,StrictMode:u,unstable_AsyncMode:f,unstable_Profiler:l,createElement:S,cloneElement:function(t,e,n){(null===t||void 0===t)&&g("267",t);var r=void 0,s=i({},t.props),a=t.key,u=t.ref,l=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,l=x.current),void 0!==e.key&&(a=""+e.key);var c=void 0;for(r in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),e)k.call(e,r)&&!C.hasOwnProperty(r)&&(s[r]=void 0===e[r]&&void 0!==c?c[r]:e[r])}if(1===(r=arguments.length-2))s.children=n;else if(1<r){c=Array(r);for(var h=0;h<r;h++)c[h]=arguments[h+2];s.children=c}return{$$typeof:o,type:t.type,key:a,ref:u,props:s,_owner:l}},createFactory:function(t){var e=S.bind(null,t);return e.type=t,e},isValidElement:T,version:"16.5.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:x,assign:i}},L={default:j},F=L&&j||L;t.exports=F.default||F},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(79)},function(t,e,n){"use strict";var i=n(21),r=n(20),o=n(80);function s(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);!function(t,e,n,i,r,o,s,a){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,s,a],l=0;(t=Error(e.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}i||s("227");var a=!1,u=null,l=!1,c=null,h={onError:function(t){a=!0,u=t}};function f(t,e,n,i,r,o,s,l,c){a=!1,u=null,function(t,e,n,i,r,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(t){this.onError(t)}}.apply(h,arguments)}var d=null,p={};function g(){if(d)for(var t in p){var e=p[t],n=d.indexOf(t);if(-1<n||s("96",t),!v[n])for(var i in e.extractEvents||s("97",t),v[n]=e,n=e.eventTypes){var r=void 0,o=n[i],a=e,u=i;y.hasOwnProperty(u)&&s("99",u),y[u]=o;var l=o.phasedRegistrationNames;if(l){for(r in l)l.hasOwnProperty(r)&&m(l[r],a,u);r=!0}else o.registrationName?(m(o.registrationName,a,u),r=!0):r=!1;r||s("98",i,t)}}}function m(t,e,n){b[t]&&s("100",t),b[t]=e,_[t]=e.eventTypes[n].dependencies}var v=[],y={},b={},_={},w=null,x=null,k=null;function C(t,e,n,i){e=t.type||"unknown-event",t.currentTarget=k(i),function(t,e,n,i,r,o,h,d,p){if(f.apply(this,arguments),a){if(a){var g=u;a=!1,u=null}else s("198"),g=void 0;l||(l=!0,c=g)}}(e,n,void 0,t),t.currentTarget=null}function S(t,e){return null==e&&s("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function T(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var E=null;function P(t,e){if(t){var n=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!t.isPropagationStopped();r++)C(t,e,n[r],i[r]);else n&&C(t,e,n,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function D(t){return P(t,!0)}function M(t){return P(t,!1)}var O={injectEventPluginOrder:function(t){d&&s("101"),d=Array.prototype.slice.call(t),g()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];p.hasOwnProperty(e)&&p[e]===i||(p[e]&&s("102",e),p[e]=i,n=!0)}n&&g()}};function A(t,e){var n=t.stateNode;if(!n)return null;var i=w(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&s("231",e,typeof n),n)}function I(t,e){if(null!==t&&(E=S(E,t)),t=E,E=null,t&&(T(t,e?D:M),E&&s("95"),l))throw e=c,l=!1,c=null,e}var N=Math.random().toString(36).slice(2),R="__reactInternalInstance$"+N,j="__reactEventHandlers$"+N;function L(t){if(t[R])return t[R];for(;!t[R];){if(!t.parentNode)return null;t=t.parentNode}return 7===(t=t[R]).tag||8===t.tag?t:null}function F(t){return!(t=t[R])||7!==t.tag&&8!==t.tag?null:t}function z(t){if(7===t.tag||8===t.tag)return t.stateNode;s("33")}function B(t){return t[j]||null}function q(t){do{t=t.return}while(t&&7!==t.tag);return t||null}function H(t,e,n){(e=A(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=S(n._dispatchListeners,e),n._dispatchInstances=S(n._dispatchInstances,t))}function W(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=q(e);for(e=n.length;0<e--;)H(n[e],"captured",t);for(e=0;e<n.length;e++)H(n[e],"bubbled",t)}}function U(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=A(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=S(n._dispatchListeners,e),n._dispatchInstances=S(n._dispatchInstances,t))}function $(t){t&&t.dispatchConfig.registrationName&&U(t._targetInst,null,t)}function Y(t){T(t,W)}var V=!("undefined"===typeof window||!window.document||!window.document.createElement);function X(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var G={animationend:X("Animation","AnimationEnd"),animationiteration:X("Animation","AnimationIteration"),animationstart:X("Animation","AnimationStart"),transitionend:X("Transition","TransitionEnd")},K={},Q={};function J(t){if(K[t])return K[t];if(!G[t])return t;var e,n=G[t];for(e in n)if(n.hasOwnProperty(e)&&e in Q)return K[t]=n[e];return t}V&&(Q=document.createElement("div").style,"AnimationEvent"in window||(delete G.animationend.animation,delete G.animationiteration.animation,delete G.animationstart.animation),"TransitionEvent"in window||delete G.transitionend.transition);var Z=J("animationend"),tt=J("animationiteration"),et=J("animationstart"),nt=J("transitionend"),it="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rt=null,ot=null,st=null;function at(){if(st)return st;var t,e,n=ot,i=n.length,r="value"in rt?rt.value:rt.textContent,o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[o-e];e++);return st=r.slice(t,1<e?1-e:void 0)}function ut(){return!0}function lt(){return!1}function ct(t,e,n,i){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ut:lt,this.isPropagationStopped=lt,this}function ht(t,e,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,n,i),r}return new this(t,e,n,i)}function ft(t){t instanceof this||s("279"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function dt(t){t.eventPool=[],t.getPooled=ht,t.release=ft}r(ct.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ut)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ut)},persist:function(){this.isPersistent=ut},isPersistent:lt,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=lt,this._dispatchInstances=this._dispatchListeners=null}}),ct.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ct.extend=function(t){function e(){}function n(){return i.apply(this,arguments)}var i=this;e.prototype=i.prototype;var o=new e;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,t),n.extend=i.extend,dt(n),n},dt(ct);var pt=ct.extend({data:null}),gt=ct.extend({data:null}),mt=[9,13,27,32],vt=V&&"CompositionEvent"in window,yt=null;V&&"documentMode"in document&&(yt=document.documentMode);var bt=V&&"TextEvent"in window&&!yt,_t=V&&(!vt||yt&&8<yt&&11>=yt),wt=String.fromCharCode(32),xt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},kt=!1;function Ct(t,e){switch(t){case"keyup":return-1!==mt.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function St(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Tt=!1;var Et={eventTypes:xt,extractEvents:function(t,e,n,i){var r=void 0,o=void 0;if(vt)t:{switch(t){case"compositionstart":r=xt.compositionStart;break t;case"compositionend":r=xt.compositionEnd;break t;case"compositionupdate":r=xt.compositionUpdate;break t}r=void 0}else Tt?Ct(t,n)&&(r=xt.compositionEnd):"keydown"===t&&229===n.keyCode&&(r=xt.compositionStart);return r?(_t&&"ko"!==n.locale&&(Tt||r!==xt.compositionStart?r===xt.compositionEnd&&Tt&&(o=at()):(ot="value"in(rt=i)?rt.value:rt.textContent,Tt=!0)),r=pt.getPooled(r,e,n,i),o?r.data=o:null!==(o=St(n))&&(r.data=o),Y(r),o=r):o=null,(t=bt?function(t,e){switch(t){case"compositionend":return St(e);case"keypress":return 32!==e.which?null:(kt=!0,wt);case"textInput":return(t=e.data)===wt&&kt?null:t;default:return null}}(t,n):function(t,e){if(Tt)return"compositionend"===t||!vt&&Ct(t,e)?(t=at(),st=ot=rt=null,Tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _t&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=gt.getPooled(xt.beforeInput,e,n,i)).data=t,Y(e)):e=null,null===o?e:null===e?o:[o,e]}},Pt=null,Dt=null,Mt=null;function Ot(t){if(t=x(t)){"function"!==typeof Pt&&s("280");var e=w(t.stateNode);Pt(t.stateNode,t.type,e)}}function At(t){Dt?Mt?Mt.push(t):Mt=[t]:Dt=t}function It(){if(Dt){var t=Dt,e=Mt;if(Mt=Dt=null,Ot(t),e)for(t=0;t<e.length;t++)Ot(e[t])}}function Nt(t,e){return t(e)}function Rt(t,e,n){return t(e,n)}function jt(){}var Lt=!1;function Ft(t,e){if(Lt)return t(e);Lt=!0;try{return Nt(t,e)}finally{Lt=!1,(null!==Dt||null!==Mt)&&(jt(),It())}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!zt[t.type]:"textarea"===e}function qt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Ht(t){if(!V)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}function Wt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Ut(t){t._valueTracker||(t._valueTracker=function(t){var e=Wt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function $t(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Wt(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}var Yt=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vt=/^(.*)[\\\/]/,Xt="function"===typeof Symbol&&Symbol.for,Gt=Xt?Symbol.for("react.element"):60103,Kt=Xt?Symbol.for("react.portal"):60106,Qt=Xt?Symbol.for("react.fragment"):60107,Jt=Xt?Symbol.for("react.strict_mode"):60108,Zt=Xt?Symbol.for("react.profiler"):60114,te=Xt?Symbol.for("react.provider"):60109,ee=Xt?Symbol.for("react.context"):60110,ne=Xt?Symbol.for("react.async_mode"):60111,ie=Xt?Symbol.for("react.forward_ref"):60112,re=Xt?Symbol.for("react.placeholder"):60113,oe="function"===typeof Symbol&&Symbol.iterator;function se(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=oe&&t[oe]||t["@@iterator"])?t:null}function ae(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case ne:return"AsyncMode";case Qt:return"Fragment";case Kt:return"Portal";case Zt:return"Profiler";case Jt:return"StrictMode";case re:return"Placeholder"}if("object"===typeof t){switch(t.$$typeof){case ee:return"Context.Consumer";case te:return"Context.Provider";case ie:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef")}if("function"===typeof t.then&&(t=1===t._reactStatus?t._reactResult:null))return ae(t)}return null}function ue(t){var e="";do{t:switch(t.tag){case 4:case 0:case 1:case 2:case 3:case 7:case 10:var n=t._debugOwner,i=t._debugSource,r=ae(t.type),o=null;n&&(o=ae(n.type)),n=r,r="",i?r=" (at "+i.fileName.replace(Vt,"")+":"+i.lineNumber+")":o&&(r=" (created by "+o+")"),o="\n    in "+(n||"Unknown")+r;break t;default:o=""}e+=o,t=t.return}while(t);return e}var le=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ce=Object.prototype.hasOwnProperty,he={},fe={};function de(t,e,n,i,r){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new de(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new de(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new de(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new de(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new de(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new de(t,3,!0,t,null)}),["capture","download"].forEach(function(t){pe[t]=new de(t,4,!1,t,null)}),["cols","rows","size","span"].forEach(function(t){pe[t]=new de(t,6,!1,t,null)}),["rowSpan","start"].forEach(function(t){pe[t]=new de(t,5,!1,t.toLowerCase(),null)});var ge=/[\-:]([a-z])/g;function me(t){return t[1].toUpperCase()}function ve(t,e,n,i){var r=pe.hasOwnProperty(e)?pe[e]:null;(null!==r?0===r.type:!i&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!ce.call(fe,t)||!ce.call(he,t)&&(le.test(t)?fe[t]=!0:(he[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}function ye(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function be(t,e){var n=e.checked;return r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function _e(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=ye(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function we(t,e){null!=(e=e.checked)&&ve(t,"checked",e,!1)}function xe(t,e){we(t,e);var n=ye(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?Ce(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ce(t,e.type,ye(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function ke(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Ce(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ge,me);pe[e]=new de(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ge,me);pe[e]=new de(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ge,me);pe[e]=new de(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),pe.tabIndex=new de("tabIndex",1,!1,"tabindex",null);var Se={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Te(t,e,n){return(t=ct.getPooled(Se.change,t,e,n)).type="change",At(n),Y(t),t}var Ee=null,Pe=null;function De(t){I(t,!1)}function Me(t){if($t(z(t)))return t}function Oe(t,e){if("change"===t)return e}var Ae=!1;function Ie(){Ee&&(Ee.detachEvent("onpropertychange",Ne),Pe=Ee=null)}function Ne(t){"value"===t.propertyName&&Me(Pe)&&Ft(De,t=Te(Pe,t,qt(t)))}function Re(t,e,n){"focus"===t?(Ie(),Pe=n,(Ee=e).attachEvent("onpropertychange",Ne)):"blur"===t&&Ie()}function je(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Me(Pe)}function Le(t,e){if("click"===t)return Me(e)}function Fe(t,e){if("input"===t||"change"===t)return Me(e)}V&&(Ae=Ht("input")&&(!document.documentMode||9<document.documentMode));var ze={eventTypes:Se,_isInputEventSupported:Ae,extractEvents:function(t,e,n,i){var r=e?z(e):window,o=void 0,s=void 0,a=r.nodeName&&r.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===r.type?o=Oe:Bt(r)?Ae?o=Fe:(o=je,s=Re):(a=r.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Le),o&&(o=o(t,e)))return Te(o,n,i);s&&s(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&Ce(r,"number",r.value)}},Be=ct.extend({view:null,detail:null}),qe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function He(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=qe[t])&&!!e[t]}function We(){return He}var Ue=0,$e=0,Ye=!1,Ve=!1,Xe=Be.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:We,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ue;return Ue=t.screenX,Ye?"mousemove"===t.type?t.screenX-e:0:(Ye=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=$e;return $e=t.screenY,Ve?"mousemove"===t.type?t.screenY-e:0:(Ve=!0,0)}}),Ge=Xe.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ke={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qe={eventTypes:Ke,extractEvents:function(t,e,n,i){var r="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(r&&(n.relatedTarget||n.fromElement)||!o&&!r)return null;if(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=e,e=(e=n.relatedTarget||n.toElement)?L(e):null):o=null,o===e)return null;var s=void 0,a=void 0,u=void 0,l=void 0;"mouseout"===t||"mouseover"===t?(s=Xe,a=Ke.mouseLeave,u=Ke.mouseEnter,l="mouse"):"pointerout"!==t&&"pointerover"!==t||(s=Ge,a=Ke.pointerLeave,u=Ke.pointerEnter,l="pointer");var c=null==o?r:z(o);if(r=null==e?r:z(e),(t=s.getPooled(a,o,n,i)).type=l+"leave",t.target=c,t.relatedTarget=r,(n=s.getPooled(u,e,n,i)).type=l+"enter",n.target=r,n.relatedTarget=c,i=e,o&&i)t:{for(r=i,l=0,s=e=o;s;s=q(s))l++;for(s=0,u=r;u;u=q(u))s++;for(;0<l-s;)e=q(e),l--;for(;0<s-l;)r=q(r),s--;for(;l--;){if(e===r||e===r.alternate)break t;e=q(e),r=q(r)}e=null}else e=null;for(r=e,e=[];o&&o!==r&&(null===(l=o.alternate)||l!==r);)e.push(o),o=q(o);for(o=[];i&&i!==r&&(null===(l=i.alternate)||l!==r);)o.push(i),i=q(i);for(i=0;i<e.length;i++)U(e[i],"bubbled",t);for(i=o.length;0<i--;)U(o[i],"captured",n);return[t,n]}},Je=Object.prototype.hasOwnProperty;function Ze(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function tn(t,e){if(Ze(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Je.call(e,n[i])||!Ze(t[n[i]],e[n[i]]))return!1;return!0}function en(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(0!==(2&(e=e.return).effectTag))return 1}return 5===e.tag?2:3}function nn(t){2!==en(t)&&s("188")}function rn(t){if(!(t=function(t){var e=t.alternate;if(!e)return 3===(e=en(t))&&s("188"),1===e?null:t;for(var n=t,i=e;;){var r=n.return,o=r?r.alternate:null;if(!r||!o)break;if(r.child===o.child){for(var a=r.child;a;){if(a===n)return nn(r),t;if(a===i)return nn(r),e;a=a.sibling}s("188")}if(n.return!==i.return)n=r,i=o;else{a=!1;for(var u=r.child;u;){if(u===n){a=!0,n=r,i=o;break}if(u===i){a=!0,i=r,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,i=r;break}if(u===i){a=!0,i=o,n=r;break}u=u.sibling}a||s("189")}}n.alternate!==i&&s("190")}return 5!==n.tag&&s("188"),n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(7===e.tag||8===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var on=ct.extend({animationName:null,elapsedTime:null,pseudoElement:null}),sn=ct.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),an=Be.extend({relatedTarget:null});function un(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var ln={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn=Be.extend({key:function(t){if(t.key){var e=ln[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=un(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?cn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:We,charCode:function(t){return"keypress"===t.type?un(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?un(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),fn=Xe.extend({dataTransfer:null}),dn=Be.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:We}),pn=ct.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),gn=Xe.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),mn=[["abort","abort"],[Z,"animationEnd"],[tt,"animationIteration"],[et,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[nt,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vn={},yn={};function bn(t,e){var n=t[0],i="on"+((t=t[1])[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[n],isInteractive:e},vn[t]=e,yn[n]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){bn(t,!0)}),mn.forEach(function(t){bn(t,!1)});var _n={eventTypes:vn,isInteractiveTopLevelEventType:function(t){return void 0!==(t=yn[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,i){var r=yn[t];if(!r)return null;switch(t){case"keypress":if(0===un(n))return null;case"keydown":case"keyup":t=hn;break;case"blur":case"focus":t=an;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Xe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=dn;break;case Z:case tt:case et:t=on;break;case nt:t=pn;break;case"scroll":t=Be;break;case"wheel":t=gn;break;case"copy":case"cut":case"paste":t=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Ge;break;default:t=ct}return Y(e=t.getPooled(r,e,n,i)),e}},wn=_n.isInteractiveTopLevelEventType,xn=[];function kn(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var i;for(i=n;i.return;)i=i.return;if(!(i=5!==i.tag?null:i.stateNode.containerInfo))break;t.ancestors.push(n),n=L(i)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var r=qt(t.nativeEvent);i=t.topLevelType;for(var o=t.nativeEvent,s=null,a=0;a<v.length;a++){var u=v[a];u&&(u=u.extractEvents(i,e,o,r))&&(s=S(s,u))}I(s,!1)}}var Cn=!0;function Sn(t,e){if(!e)return null;var n=(wn(t)?En:Pn).bind(null,t);e.addEventListener(t,n,!1)}function Tn(t,e){if(!e)return null;var n=(wn(t)?En:Pn).bind(null,t);e.addEventListener(t,n,!0)}function En(t,e){Rt(Pn,t,e)}function Pn(t,e){if(Cn){var n=qt(e);if(null===(n=L(n))||"number"!==typeof n.tag||2===en(n)||(n=null),xn.length){var i=xn.pop();i.topLevelType=t,i.nativeEvent=e,i.targetInst=n,t=i}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{Ft(kn,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>xn.length&&xn.push(t)}}}var Dn={},Mn=0,On="_reactListenersID"+(""+Math.random()).slice(2);function An(t){return Object.prototype.hasOwnProperty.call(t,On)||(t[On]=Mn++,Dn[t[On]]={}),Dn[t[On]]}function In(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Nn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rn(t,e){var n,i=Nn(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Nn(i)}}function jn(){for(var t=window,e=In();e instanceof t.HTMLIFrameElement;){try{t=e.contentDocument.defaultView}catch(t){break}e=In(t.document)}return e}function Ln(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Fn=V&&"documentMode"in document&&11>=document.documentMode,zn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Bn=null,qn=null,Hn=null,Wn=!1;function Un(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Wn||null==Bn||Bn!==In(n)?null:("selectionStart"in(n=Bn)&&Ln(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hn&&tn(Hn,n)?null:(Hn=n,(t=ct.getPooled(zn.select,qn,t,e)).type="select",t.target=Bn,Y(t),t))}var $n={eventTypes:zn,extractEvents:function(t,e,n,i){var r,o=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!o)){t:{o=An(o),r=_.onSelect;for(var s=0;s<r.length;s++){var a=r[s];if(!o.hasOwnProperty(a)||!o[a]){o=!1;break t}}o=!0}r=!o}if(r)return null;switch(o=e?z(e):window,t){case"focus":(Bt(o)||"true"===o.contentEditable)&&(Bn=o,qn=e,Hn=null);break;case"blur":Hn=qn=Bn=null;break;case"mousedown":Wn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wn=!1,Un(n,i);case"selectionchange":if(Fn)break;case"keydown":case"keyup":return Un(n,i)}return null}};function Yn(t,e){return t=r({children:void 0},e),(e=function(t){var e="";return i.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}(e.children))&&(t.children=e),t}function Vn(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ye(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Xn(t,e){return null!=e.dangerouslySetInnerHTML&&s("91"),r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gn(t,e){var n=e.value;null==n&&(n=e.defaultValue,null!=(e=e.children)&&(null!=n&&s("92"),Array.isArray(e)&&(1>=e.length||s("93"),e=e[0]),n=e),null==n&&(n="")),t._wrapperState={initialValue:ye(n)}}function Kn(t,e){var n=ye(e.value);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&(t.defaultValue=n)),null!=e.defaultValue&&(t.defaultValue=""+ye(e.defaultValue))}function Qn(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}O.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=B,x=F,k=z,O.injectEventPluginsByName({SimpleEventPlugin:_n,EnterLeaveEventPlugin:Qe,ChangeEventPlugin:ze,SelectEventPlugin:$n,BeforeInputEventPlugin:Et});var Jn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Zn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ti(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Zn(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ei,ni=void 0,ii=(ei=function(t,e){if(t.namespaceURI!==Jn.svg||"innerHTML"in t)t.innerHTML=e;else{for((ni=ni||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=ni.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction(function(){return ei(t,e)})}:ei);function ri(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var oi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},si=["Webkit","ms","Moz","O"];function ai(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=n,o=e[n];r=null==o||"boolean"===typeof o||""===o?"":i||"number"!==typeof o||0===o||oi.hasOwnProperty(r)&&oi[r]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(oi).forEach(function(t){si.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oi[e]=oi[t]})});var ui=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function li(t,e){e&&(ui[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&s("137",t,""),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&s("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||s("61")),null!=e.style&&"object"!==typeof e.style&&s("62",""))}function ci(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function hi(t,e){var n=An(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=_[e];for(var i=0;i<e.length;i++){var r=e[i];if(!n.hasOwnProperty(r)||!n[r]){switch(r){case"scroll":Tn("scroll",t);break;case"focus":case"blur":Tn("focus",t),Tn("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Ht(r)&&Tn(r,t);break;case"invalid":case"submit":case"reset":break;default:-1===it.indexOf(r)&&Sn(r,t)}n[r]=!0}}}function fi(){}var di=null,pi=null;function gi(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function mi(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function vi(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function yi(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var bi=[],_i=-1;function wi(t){0>_i||(t.current=bi[_i],bi[_i]=null,_i--)}function xi(t,e){bi[++_i]=t.current,t.current=e}var ki={},Ci={current:ki},Si={current:!1},Ti=ki;function Ei(t,e){var n=t.type.contextTypes;if(!n)return ki;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Di(t){wi(Si),wi(Ci)}function Mi(t){wi(Si),wi(Ci)}function Oi(t,e,n){Ci.current!==ki&&s("168"),xi(Ci,e),xi(Si,n)}function Ai(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var o in i=i.getChildContext())o in t||s("108",ae(e)||"Unknown",o);return r({},n,i)}function Ii(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||ki,Ti=Ci.current,xi(Ci,e),xi(Si,Si.current),!0}function Ni(t,e,n){var i=t.stateNode;i||s("169"),n?(e=Ai(t,e,Ti),i.__reactInternalMemoizedMergedChildContext=e,wi(Si),wi(Ci),xi(Ci,e)):wi(Si),xi(Si,n)}var Ri=null,ji=null;function Li(t){return function(e){try{return t(e)}catch(t){}}}function Fi(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=e,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function zi(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Bi(t,e,n){var i=t.alternate;return null===i?((i=new Fi(t.tag,e,t.key,t.mode)).type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=t.childExpirationTime,i.expirationTime=e!==t.pendingProps?n:t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,i.firstContextDependency=t.firstContextDependency,i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function qi(t,e,n){var i=t.type,r=t.key;t=t.props;var o=void 0;if("function"===typeof i)o=zi(i)?2:4;else if("string"===typeof i)o=7;else t:switch(i){case Qt:return Hi(t.children,e,n,r);case ne:o=10,e|=3;break;case Jt:o=10,e|=2;break;case Zt:return(i=new Fi(15,t,r,4|e)).type=Zt,i.expirationTime=n,i;case re:o=16;break;default:if("object"===typeof i&&null!==i)switch(i.$$typeof){case te:o=12;break t;case ee:o=11;break t;case ie:o=13;break t;default:if("function"===typeof i.then){o=4;break t}}s("130",null==i?i:typeof i,"")}return(e=new Fi(o,t,r,e)).type=i,e.expirationTime=n,e}function Hi(t,e,n,i){return(t=new Fi(9,t,i,e)).expirationTime=n,t}function Wi(t,e,n){return(t=new Fi(8,t,null,e)).expirationTime=n,t}function Ui(t,e,n){return(e=new Fi(6,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $i(t,e){t.didError=!1;var n=t.earliestPendingTime;0===n?t.earliestPendingTime=t.latestPendingTime=e:n>e?t.earliestPendingTime=e:t.latestPendingTime<e&&(t.latestPendingTime=e),Yi(e,t)}function Yi(t,e){var n=e.earliestSuspendedTime,i=e.latestSuspendedTime,r=e.earliestPendingTime,o=e.latestPingedTime;0===(r=0!==r?r:o)&&(0===t||i>t)&&(r=i),0!==(t=r)&&0!==n&&n<t&&(t=n),e.nextExpirationTimeToWorkOn=r,e.expirationTime=t}var Vi=!1;function Xi(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Gi(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ki(t){return{expirationTime:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Qi(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function Ji(t,e){var n=t.alternate;if(null===n){var i=t.updateQueue,r=null;null===i&&(i=t.updateQueue=Xi(t.memoizedState))}else i=t.updateQueue,r=n.updateQueue,null===i?null===r?(i=t.updateQueue=Xi(t.memoizedState),r=n.updateQueue=Xi(n.memoizedState)):i=t.updateQueue=Gi(r):null===r&&(r=n.updateQueue=Gi(i));null===r||i===r?Qi(i,e):null===i.lastUpdate||null===r.lastUpdate?(Qi(i,e),Qi(r,e)):(Qi(i,e),r.lastUpdate=e)}function Zi(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=Xi(t.memoizedState):tr(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function tr(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=Gi(e)),e}function er(t,e,n,i,o,s){switch(n.tag){case 1:return"function"===typeof(t=n.payload)?t.call(s,i,o):t;case 3:t.effectTag=-1025&t.effectTag|64;case 0:if(null===(o="function"===typeof(t=n.payload)?t.call(s,i,o):t)||void 0===o)break;return r({},i,o);case 2:Vi=!0}return i}function nr(t,e,n,i,r){Vi=!1;for(var o=(e=tr(t,e)).baseState,s=null,a=0,u=e.firstUpdate,l=o;null!==u;){var c=u.expirationTime;c>r?(null===s&&(s=u,o=l),(0===a||a>c)&&(a=c)):(l=er(t,0,u,l,n,i),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(c=null,u=e.firstCapturedUpdate;null!==u;){var h=u.expirationTime;h>r?(null===c&&(c=u,null===s&&(o=l)),(0===a||a>h)&&(a=h)):(l=er(t,0,u,l,n,i),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===s&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===s&&null===c&&(o=l),e.baseState=o,e.firstUpdate=s,e.firstCapturedUpdate=c,t.expirationTime=a,t.memoizedState=l}function ir(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),rr(e.firstEffect,n),e.firstEffect=e.lastEffect=null,rr(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function rr(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var i=e;"function"!==typeof n&&s("191",n),n.call(i)}t=t.nextEffect}}function or(t,e){return{value:t,source:e,stack:ue(e)}}var sr={current:null},ar=null,ur=null,lr=null;function cr(t,e){var n=t.type._context;xi(sr,n._currentValue),n._currentValue=e}function hr(t){var e=sr.current;wi(sr),t.type._context._currentValue=e}function fr(t){ar=t,lr=ur=null,t.firstContextDependency=null}function dr(t,e){return lr!==t&&!1!==e&&0!==e&&("number"===typeof e&&1073741823!==e||(lr=t,e=1073741823),e={context:t,observedBits:e,next:null},null===ur?(null===ar&&s("277"),ar.firstContextDependency=ur=e):ur=ur.next=e),t._currentValue}var pr={},gr={current:pr},mr={current:pr},vr={current:pr};function yr(t){return t===pr&&s("174"),t}function br(t,e){xi(vr,e),xi(mr,t),xi(gr,pr);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ti(null,"");break;default:e=ti(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}wi(gr),xi(gr,e)}function _r(t){wi(gr),wi(mr),wi(vr)}function wr(t){yr(vr.current);var e=yr(gr.current),n=ti(e,t.type);e!==n&&(xi(mr,t),xi(gr,n))}function xr(t){mr.current===t&&(wi(gr),wi(mr))}var kr=(new i.Component).refs;function Cr(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:r({},e,n),t.memoizedState=n,null!==(i=t.updateQueue)&&0===t.expirationTime&&(i.baseState=n)}var Sr={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===en(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var i=as(),r=Ki(i=Io(i,t));r.payload=e,void 0!==n&&null!==n&&(r.callback=n),Ji(t,r),No(t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var i=as(),r=Ki(i=Io(i,t));r.tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),Ji(t,r),No(t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=as(),i=Ki(n=Io(n,t));i.tag=2,void 0!==e&&null!==e&&(i.callback=e),Ji(t,i),No(t,n)}};function Tr(t,e,n,i,r,o,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!tn(n,i)||!tn(r,o))}function Er(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Sr.enqueueReplaceState(e,e.state,null)}function Pr(t,e,n,i){var r=t.stateNode,o=Pi(e)?Ti:Ci.current;r.props=n,r.state=t.memoizedState,r.refs=kr,r.context=Ei(t,o),null!==(o=t.updateQueue)&&(nr(t,o,n,r,i),r.state=t.memoizedState),"function"===typeof(o=e.getDerivedStateFromProps)&&(Cr(t,e,o,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&Sr.enqueueReplaceState(r,r.state,null),null!==(o=t.updateQueue)&&(nr(t,o,n,r,i),r.state=t.memoizedState)),"function"===typeof r.componentDidMount&&(t.effectTag|=4)}var Dr=Array.isArray;function Mr(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){var i=void 0;(n=n._owner)&&(2!==n.tag&&3!==n.tag&&s("110"),i=n.stateNode),i||s("147",t);var r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:((e=function(t){var e=i.refs;e===kr&&(e=i.refs={}),null===t?delete e[r]:e[r]=t})._stringRef=r,e)}"string"!==typeof t&&s("284"),n._owner||s("254",t)}return t}function Or(t,e){"textarea"!==t.type&&s("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function Ar(t){function e(e,n){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e,n){return(t=Bi(t,e,n)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.effectTag=2,n):i:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,i){return null===e||8!==e.tag?((e=Wi(n,t.mode,i)).return=t,e):((e=r(e,n,i)).return=t,e)}function l(t,e,n,i){return null!==e&&e.type===n.type?((i=r(e,n.props,i)).ref=Mr(t,e,n),i.return=t,i):((i=qi(n,t.mode,i)).ref=Mr(t,e,n),i.return=t,i)}function c(t,e,n,i){return null===e||6!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Ui(n,t.mode,i)).return=t,e):((e=r(e,n.children||[],i)).return=t,e)}function h(t,e,n,i,o){return null===e||9!==e.tag?((e=Hi(n,t.mode,i,o)).return=t,e):((e=r(e,n,i)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Wi(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case Gt:return(n=qi(e,t.mode,n)).ref=Mr(t,null,e),n.return=t,n;case Kt:return(e=Ui(e,t.mode,n)).return=t,e}if(Dr(e)||se(e))return(e=Hi(e,t.mode,n,null)).return=t,e;Or(t,e)}return null}function d(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:u(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Gt:return n.key===r?n.type===Qt?h(t,e,n.props.children,i,r):l(t,e,n,i):null;case Kt:return n.key===r?c(t,e,n,i):null}if(Dr(n)||se(n))return null!==r?null:h(t,e,n,i,null);Or(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i||"number"===typeof i)return u(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case Gt:return t=t.get(null===i.key?n:i.key)||null,i.type===Qt?h(e,t,i.props.children,r,i.key):l(e,t,i,r);case Kt:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r)}if(Dr(i)||se(i))return h(e,t=t.get(n)||null,i,r,null);Or(e,i)}return null}function g(r,s,a,u){for(var l=null,c=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=d(r,h,a[g],u);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(r,h),s=o(v,s,g),null===c?l=v:c.sibling=v,c=v,h=m}if(g===a.length)return n(r,h),l;if(null===h){for(;g<a.length;g++)(h=f(r,a[g],u))&&(s=o(h,s,g),null===c?l=h:c.sibling=h,c=h);return l}for(h=i(r,h);g<a.length;g++)(m=p(h,r,g,a[g],u))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===c?l=m:c.sibling=m,c=m);return t&&h.forEach(function(t){return e(r,t)}),l}function m(r,a,u,l){var c=se(u);"function"!==typeof c&&s("150"),null==(u=c.call(u))&&s("151");for(var h=c=null,g=a,m=a=0,v=null,y=u.next();null!==g&&!y.done;m++,y=u.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=d(r,g,y.value,l);if(null===b){g||(g=v);break}t&&g&&null===b.alternate&&e(r,g),a=o(b,a,m),null===h?c=b:h.sibling=b,h=b,g=v}if(y.done)return n(r,g),c;if(null===g){for(;!y.done;m++,y=u.next())null!==(y=f(r,y.value,l))&&(a=o(y,a,m),null===h?c=y:h.sibling=y,h=y);return c}for(g=i(r,g);!y.done;m++,y=u.next())null!==(y=p(g,r,m,y.value,l))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?c=y:h.sibling=y,h=y);return t&&g.forEach(function(t){return e(r,t)}),c}return function(t,i,o,u){var l="object"===typeof o&&null!==o&&o.type===Qt&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case Gt:t:{for(c=o.key,l=i;null!==l;){if(l.key===c){if(9===l.tag?o.type===Qt:l.type===o.type){n(t,l.sibling),(i=r(l,o.type===Qt?o.props.children:o.props,u)).ref=Mr(t,l,o),i.return=t,t=i;break t}n(t,l);break}e(t,l),l=l.sibling}o.type===Qt?((i=Hi(o.props.children,t.mode,u,o.key)).return=t,t=i):((u=qi(o,t.mode,u)).ref=Mr(t,i,o),u.return=t,t=u)}return a(t);case Kt:t:{for(l=o.key;null!==i;){if(i.key===l){if(6===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(t,i.sibling),(i=r(i,o.children||[],u)).return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}(i=Ui(o,t.mode,u)).return=t,t=i}return a(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&8===i.tag?(n(t,i.sibling),(i=r(i,o,u)).return=t,t=i):(n(t,i),(i=Wi(o,t.mode,u)).return=t,t=i),a(t);if(Dr(o))return g(t,i,o,u);if(se(o))return m(t,i,o,u);if(c&&Or(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 2:case 3:case 0:s("152",(u=t.type).displayName||u.name||"Component")}return n(t,i)}}var Ir=Ar(!0),Nr=Ar(!1),Rr=null,jr=null,Lr=!1;function Fr(t,e){var n=new Fi(7,null,null,0);n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function zr(t,e){switch(t.tag){case 7:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 8:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Br(t){if(Lr){var e=jr;if(e){var n=e;if(!zr(t,e)){if(!(e=vi(n))||!zr(t,e))return t.effectTag|=2,Lr=!1,void(Rr=t);Fr(Rr,n)}Rr=t,jr=yi(e)}else t.effectTag|=2,Lr=!1,Rr=t}}function qr(t){for(t=t.return;null!==t&&7!==t.tag&&5!==t.tag;)t=t.return;Rr=t}function Hr(t){if(t!==Rr)return!1;if(!Lr)return qr(t),Lr=!0,!1;var e=t.type;if(7!==t.tag||"head"!==e&&"body"!==e&&!mi(e,t.memoizedProps))for(e=jr;e;)Fr(t,e),e=vi(e);return qr(t),jr=Rr?vi(t.stateNode):null,!0}function Wr(){jr=Rr=null,Lr=!1}var Ur=Yt.ReactCurrentOwner;function $r(t,e,n,i){e.child=null===t?Nr(e,null,n,i):Ir(e,t.child,n,i)}function Yr(t,e,n,i,r){n=n.render;var o=e.ref;return Si.current||e.memoizedProps!==i||o!==(null!==t?t.ref:null)?($r(t,e,n=n(i,o),r),e.memoizedProps=i,e.child):Zr(t,e,r)}function Vr(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Xr(t,e,n,i,r){var o=Pi(n)?Ti:Ci.current;return o=Ei(e,o),fr(e),n=n(i,o),e.effectTag|=1,$r(t,e,n,r),e.memoizedProps=i,e.child}function Gr(t,e,n,i,r){if(Pi(n)){var o=!0;Ii(e)}else o=!1;if(fr(e),null===t)if(null===e.stateNode){var s=Pi(n)?Ti:Ci.current,a=n.contextTypes,u=null!==a&&void 0!==a,l=new n(i,a=u?Ei(e,s):ki);e.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=Sr,e.stateNode=l,l._reactInternalFiber=e,u&&((u=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,u.__reactInternalMemoizedMaskedChildContext=a),Pr(e,n,i,r),i=!0}else{s=e.stateNode,a=e.memoizedProps,s.props=a;var c=s.context;u=Ei(e,u=Pi(n)?Ti:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||c!==u)&&Er(e,s,i,u),Vi=!1;var f=e.memoizedState;c=s.state=f;var d=e.updateQueue;null!==d&&(nr(e,d,i,s,r),c=e.memoizedState),a!==i||f!==c||Si.current||Vi?("function"===typeof h&&(Cr(e,n,h,i),c=e.memoizedState),(a=Vi||Tr(e,n,a,i,f,c,u))?(l||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.effectTag|=4)):("function"===typeof s.componentDidMount&&(e.effectTag|=4),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=u,i=a):("function"===typeof s.componentDidMount&&(e.effectTag|=4),i=!1)}else s=e.stateNode,a=e.memoizedProps,s.props=a,c=s.context,u=Ei(e,u=Pi(n)?Ti:Ci.current),(l="function"===typeof(h=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||c!==u)&&Er(e,s,i,u),Vi=!1,c=e.memoizedState,f=s.state=c,null!==(d=e.updateQueue)&&(nr(e,d,i,s,r),f=e.memoizedState),a!==i||c!==f||Si.current||Vi?("function"===typeof h&&(Cr(e,n,h,i),f=e.memoizedState),(h=Vi||Tr(e,n,a,i,c,f,u))?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,u)),"function"===typeof s.componentDidUpdate&&(e.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),e.memoizedProps=i,e.memoizedState=f),s.props=i,s.state=f,s.context=u,i=h):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),i=!1);return Kr(t,e,n,i,o,r)}function Kr(t,e,n,i,r,o){Vr(t,e);var s=0!==(64&e.effectTag);if(!i&&!s)return r&&Ni(e,n,!1),Zr(t,e,o);i=e.stateNode,Ur.current=e;var a=s?null:i.render();return e.effectTag|=1,null!==t&&s&&($r(t,e,null,o),e.child=null),$r(t,e,a,o),e.memoizedState=i.state,e.memoizedProps=i.props,r&&Ni(e,n,!0),e.child}function Qr(t){var e=t.stateNode;e.pendingContext?Oi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Oi(0,e.context,!1),br(t,e.containerInfo)}function Jr(t,e){if(t&&t.defaultProps)for(var n in e=r({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}function Zr(t,e,n){null!==t&&(e.firstContextDependency=t.firstContextDependency);var i=e.childExpirationTime;if(0===i||i>n)return null;if(null!==t&&e.child!==t.child&&s("153"),null!==e.child){for(n=Bi(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Bi(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function to(t,e,n){var i=e.expirationTime;if(!Si.current&&(0===i||i>n)){switch(e.tag){case 5:Qr(e),Wr();break;case 7:wr(e);break;case 2:Pi(e.type)&&Ii(e);break;case 3:Pi(e.type._reactResult)&&Ii(e);break;case 6:br(e,e.stateNode.containerInfo);break;case 12:cr(e,e.memoizedProps.value)}return Zr(t,e,n)}switch(e.expirationTime=0,e.tag){case 4:return function(t,e,n,i){null!==t&&s("155");var r=e.pendingProps;if("object"===typeof n&&null!==n&&"function"===typeof n.then){var o=n=function(t){switch(t._reactStatus){case 1:return t._reactResult;case 2:throw t._reactResult;case 0:throw t;default:throw t._reactStatus=0,t.then(function(e){if(0===t._reactStatus){if(t._reactStatus=1,"object"===typeof e&&null!==e){var n=e.default;e=void 0!==n&&null!==n?n:e}t._reactResult=e}},function(e){0===t._reactStatus&&(t._reactStatus=2,t._reactResult=e)}),t}}(n);o="function"===typeof o?zi(o)?3:1:void 0!==o&&null!==o&&o.$$typeof?14:4,o=e.tag=o;var a=Jr(n,r);switch(o){case 1:return Xr(t,e,n,a,i);case 3:return Gr(t,e,n,a,i);case 14:return Yr(t,e,n,a,i);default:s("283",n)}}if(o=Ei(e,Ci.current),fr(e),o=n(r,o),e.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){e.tag=2,Pi(n)?(a=!0,Ii(e)):a=!1,e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var u=n.getDerivedStateFromProps;return"function"===typeof u&&Cr(e,n,u,r),o.updater=Sr,e.stateNode=o,o._reactInternalFiber=e,Pr(e,n,r,i),Kr(t,e,n,!0,a,i)}return e.tag=0,$r(t,e,o,i),e.memoizedProps=r,e.child}(t,e,e.type,n);case 0:return Xr(t,e,e.type,e.pendingProps,n);case 1:var r=e.type._reactResult;return t=Xr(t,e,r,Jr(r,i=e.pendingProps),n),e.memoizedProps=i,t;case 2:return Gr(t,e,e.type,e.pendingProps,n);case 3:return t=Gr(t,e,r=e.type._reactResult,Jr(r,i=e.pendingProps),n),e.memoizedProps=i,t;case 5:return Qr(e),null===(i=e.updateQueue)&&s("282"),r=null!==(r=e.memoizedState)?r.element:null,nr(e,i,e.pendingProps,null,n),(i=e.memoizedState.element)===r?(Wr(),e=Zr(t,e,n)):(r=e.stateNode,(r=(null===t||null===t.child)&&r.hydrate)&&(jr=yi(e.stateNode.containerInfo),Rr=e,r=Lr=!0),r?(e.effectTag|=2,e.child=Nr(e,null,i,n)):($r(t,e,i,n),Wr()),e=e.child),e;case 7:wr(e),null===t&&Br(e),i=e.type,r=e.pendingProps;var o=null!==t?t.memoizedProps:null,a=r.children;return mi(i,r)?a=null:null!==o&&mi(i,o)&&(e.effectTag|=16),Vr(t,e),1073741823!==n&&1&e.mode&&r.hidden?(e.expirationTime=1073741823,e.memoizedProps=r,e=null):($r(t,e,a,n),e.memoizedProps=r,e=e.child),e;case 8:return null===t&&Br(e),e.memoizedProps=e.pendingProps,null;case 16:return null;case 6:return br(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Ir(e,null,i,n):$r(t,e,i,n),e.memoizedProps=i,e.child;case 13:return Yr(t,e,e.type,e.pendingProps,n);case 14:return t=Yr(t,e,r=e.type._reactResult,Jr(r,i=e.pendingProps),n),e.memoizedProps=i,t;case 9:return $r(t,e,i=e.pendingProps,n),e.memoizedProps=i,e.child;case 10:return $r(t,e,i=e.pendingProps.children,n),e.memoizedProps=i,e.child;case 15:return $r(t,e,(i=e.pendingProps).children,n),e.memoizedProps=i,e.child;case 12:t:{if(i=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value,e.memoizedProps=r,cr(e,o),null!==a){var u=a.value;if(0===(o=u===o&&(0!==u||1/u===1/o)||u!==u&&o!==o?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(u,o):1073741823))){if(a.children===r.children&&!Si.current){e=Zr(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){if(null!==(u=a.firstContextDependency))do{if(u.context===i&&0!==(u.observedBits&o)){if(2===a.tag||3===a.tag){var l=Ki(n);l.tag=2,Ji(a,l)}(0===a.expirationTime||a.expirationTime>n)&&(a.expirationTime=n),null!==(l=a.alternate)&&(0===l.expirationTime||l.expirationTime>n)&&(l.expirationTime=n);for(var c=a.return;null!==c;){if(l=c.alternate,0===c.childExpirationTime||c.childExpirationTime>n)c.childExpirationTime=n,null!==l&&(0===l.childExpirationTime||l.childExpirationTime>n)&&(l.childExpirationTime=n);else{if(null===l||!(0===l.childExpirationTime||l.childExpirationTime>n))break;l.childExpirationTime=n}c=c.return}}l=a.child,u=u.next}while(null!==u);else l=12===a.tag&&a.type===e.type?null:a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===e){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}}$r(t,e,r.children,n),e=e.child}return e;case 11:return o=e.type,r=(i=e.pendingProps).children,fr(e),r=r(o=dr(o,i.unstable_observedBits)),e.effectTag|=1,$r(t,e,r,n),e.memoizedProps=i,e.child;default:s("156")}}function eo(t){t.effectTag|=4}var no=void 0,io=void 0,ro=void 0;function oo(t,e){var n=e.source,i=e.stack;null===i&&null!==n&&(i=ue(n)),null!==n&&ae(n.type),e=e.value,null!==t&&2===t.tag&&ae(t.type);try{console.error(e)}catch(t){setTimeout(function(){throw t})}}function so(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(e){Ao(t,e)}else e.current=null}function ao(t){switch("function"===typeof ji&&ji(t),t.tag){case 2:case 3:so(t);var e=t.stateNode;if("function"===typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ao(t,e)}break;case 7:so(t);break;case 6:co(t)}}function uo(t){return 7===t.tag||5===t.tag||6===t.tag}function lo(t){t:{for(var e=t.return;null!==e;){if(uo(e)){var n=e;break t}e=e.return}s("160"),n=void 0}var i=e=void 0;switch(n.tag){case 7:e=n.stateNode,i=!1;break;case 5:case 6:e=n.stateNode.containerInfo,i=!0;break;default:s("161")}16&n.effectTag&&(ri(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||uo(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;7!==n.tag&&8!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||6===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var r=t;;){if(7===r.tag||8===r.tag)if(n)if(i){var o=e,a=r.stateNode,u=n;8===o.nodeType?o.parentNode.insertBefore(a,u):o.insertBefore(a,u)}else e.insertBefore(r.stateNode,n);else i?(o=e,a=r.stateNode,8===o.nodeType?(u=o.parentNode).insertBefore(a,o):(u=o).appendChild(a),null===u.onclick&&(u.onclick=fi)):e.appendChild(r.stateNode);else if(6!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function co(t){for(var e=t,n=!1,i=void 0,r=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&s("160"),n.tag){case 7:i=n.stateNode,r=!1;break t;case 5:case 6:i=n.stateNode.containerInfo,r=!0;break t}n=n.return}n=!0}if(7===e.tag||8===e.tag){t:for(var o=e,a=o;;)if(ao(a),null!==a.child&&6!==a.tag)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}r?(o=i,a=e.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(e.stateNode)}else if(6===e.tag?(i=e.stateNode.containerInfo,r=!0):ao(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;6===(e=e.return).tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function ho(t,e){switch(e.tag){case 2:case 3:break;case 7:var n=e.stateNode;if(null!=n){var i=e.memoizedProps,r=null!==t?t.memoizedProps:i;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[j]=i,"input"===t&&"radio"===i.type&&null!=i.name&&we(n,i),ci(t,r),e=ci(t,i),r=0;r<o.length;r+=2){var a=o[r],u=o[r+1];"style"===a?ai(n,u):"dangerouslySetInnerHTML"===a?ii(n,u):"children"===a?ri(n,u):ve(n,a,u,e)}switch(t){case"input":xe(n,i);break;case"textarea":Kn(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(o=i.value)?Vn(n,!!i.multiple,o,!1):t!==!!i.multiple&&(null!=i.defaultValue?Vn(n,!!i.multiple,i.defaultValue,!0):Vn(n,!!i.multiple,i.multiple?[]:"",!1))}}}break;case 8:null===e.stateNode&&s("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 5:case 15:case 16:break;default:s("163")}}function fo(t,e,n){(n=Ki(n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ps(i),oo(t,e)},n}function po(t,e,n){(n=Ki(n)).tag=3;var i=t.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){null===Eo?Eo=new Set([this]):Eo.add(this);var n=e.value,i=e.stack;oo(t,e),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function go(t){switch(t.tag){case 2:Pi(t.type)&&Di();var e=t.effectTag;return 1024&e?(t.effectTag=-1025&e|64,t):null;case 3:return Pi(t.type._reactResult)&&Di(),1024&(e=t.effectTag)?(t.effectTag=-1025&e|64,t):null;case 5:return _r(),Mi(),0!==(64&(e=t.effectTag))&&s("285"),t.effectTag=-1025&e|64,t;case 7:return xr(t),null;case 16:return 1024&(e=t.effectTag)?(t.effectTag=-1025&e|64,t):null;case 6:return _r(),null;case 12:return hr(t),null;default:return null}}no=function(){},io=function(t,e,n,i,o){var s=t.memoizedProps;if(s!==i){var a=e.stateNode;switch(yr(gr.current),t=null,n){case"input":s=be(a,s),i=be(a,i),t=[];break;case"option":s=Yn(a,s),i=Yn(a,i),t=[];break;case"select":s=r({},s,{value:void 0}),i=r({},i,{value:void 0}),t=[];break;case"textarea":s=Xn(a,s),i=Xn(a,i),t=[];break;default:"function"!==typeof s.onClick&&"function"===typeof i.onClick&&(a.onclick=fi)}li(n,i),a=n=void 0;var u=null;for(n in s)if(!i.hasOwnProperty(n)&&s.hasOwnProperty(n)&&null!=s[n])if("style"===n){var l=s[n];for(a in l)l.hasOwnProperty(a)&&(u||(u={}),u[a]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(b.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in i){var c=i[n];if(l=null!=s?s[n]:void 0,i.hasOwnProperty(n)&&c!==l&&(null!=c||null!=l))if("style"===n)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(u||(u={}),u[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(u||(u={}),u[a]=c[a])}else u||(t||(t=[]),t.push(n,u)),u=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(n,""+c)):"children"===n?l===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(b.hasOwnProperty(n)?(null!=c&&hi(o,n),t||l===c||(t=[])):(t=t||[]).push(n,c))}u&&(t=t||[]).push("style",u),o=t,(e.updateQueue=o)&&eo(e)}},ro=function(t,e,n,i){n!==i&&eo(e)};var mo={readContext:dr},vo=Yt.ReactCurrentOwner,yo=0,bo=0,_o=!1,wo=null,xo=null,ko=0,Co=!1,So=null,To=!1,Eo=null;function Po(){if(null!==wo)for(var t=wo.return;null!==t;){var e=t;switch(e.tag){case 2:var n=e.type.childContextTypes;null!==n&&void 0!==n&&Di();break;case 3:null!==(n=e.type._reactResult.childContextTypes)&&void 0!==n&&Di();break;case 5:_r(),Mi();break;case 7:xr(e);break;case 6:_r();break;case 12:hr(e)}t=t.return}xo=null,ko=0,Co=!1,wo=null}function Do(t){for(;;){var e=t.alternate,n=t.return,i=t.sibling;if(0===(512&t.effectTag)){var o=e,a=(e=t).pendingProps;switch(e.tag){case 0:case 1:break;case 2:Pi(e.type)&&Di();break;case 3:Pi(e.type._reactResult)&&Di();break;case 5:_r(),Mi(),(a=e.stateNode).pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==o&&null!==o.child||(Hr(e),e.effectTag&=-3),no(e);break;case 7:xr(e);var u=yr(vr.current),l=e.type;if(null!==o&&null!=e.stateNode)io(o,e,l,a,u),o.ref!==e.ref&&(e.effectTag|=128);else if(a){var c=yr(gr.current);if(Hr(e)){o=(a=e).stateNode;var h=a.type,f=a.memoizedProps,d=u;switch(o[R]=a,o[j]=f,l=void 0,u=h){case"iframe":case"object":Sn("load",o);break;case"video":case"audio":for(h=0;h<it.length;h++)Sn(it[h],o);break;case"source":Sn("error",o);break;case"img":case"image":case"link":Sn("error",o),Sn("load",o);break;case"form":Sn("reset",o),Sn("submit",o);break;case"details":Sn("toggle",o);break;case"input":_e(o,f),Sn("invalid",o),hi(d,"onChange");break;case"select":o._wrapperState={wasMultiple:!!f.multiple},Sn("invalid",o),hi(d,"onChange");break;case"textarea":Gn(o,f),Sn("invalid",o),hi(d,"onChange")}for(l in li(u,f),h=null,f)f.hasOwnProperty(l)&&(c=f[l],"children"===l?"string"===typeof c?o.textContent!==c&&(h=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(h=["children",""+c]):b.hasOwnProperty(l)&&null!=c&&hi(d,l));switch(u){case"input":Ut(o),ke(o,f,!0);break;case"textarea":Ut(o),Qn(o);break;case"select":case"option":break;default:"function"===typeof f.onClick&&(o.onclick=fi)}l=h,a.updateQueue=l,(a=null!==l)&&eo(e)}else{f=e,o=l,d=a,h=9===u.nodeType?u:u.ownerDocument,c===Jn.html&&(c=Zn(o)),c===Jn.html?"script"===o?((o=h.createElement("div")).innerHTML="<script><\/script>",h=o.removeChild(o.firstChild)):"string"===typeof d.is?h=h.createElement(o,{is:d.is}):(h=h.createElement(o),"select"===o&&d.multiple&&(h.multiple=!0)):h=h.createElementNS(c,o),(o=h)[R]=f,o[j]=a;t:for(f=o,d=e,h=d.child;null!==h;){if(7===h.tag||8===h.tag)f.appendChild(h.stateNode);else if(6!==h.tag&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===d)break;for(;null===h.sibling;){if(null===h.return||h.return===d)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}d=o;var p=u,g=ci(h=l,f=a);switch(h){case"iframe":case"object":Sn("load",d),u=f;break;case"video":case"audio":for(u=0;u<it.length;u++)Sn(it[u],d);u=f;break;case"source":Sn("error",d),u=f;break;case"img":case"image":case"link":Sn("error",d),Sn("load",d),u=f;break;case"form":Sn("reset",d),Sn("submit",d),u=f;break;case"details":Sn("toggle",d),u=f;break;case"input":_e(d,f),u=be(d,f),Sn("invalid",d),hi(p,"onChange");break;case"option":u=Yn(d,f);break;case"select":d._wrapperState={wasMultiple:!!f.multiple},u=r({},f,{value:void 0}),Sn("invalid",d),hi(p,"onChange");break;case"textarea":Gn(d,f),u=Xn(d,f),Sn("invalid",d),hi(p,"onChange");break;default:u=f}li(h,u),c=void 0;var m=h,v=d,y=u;for(c in y)if(y.hasOwnProperty(c)){var _=y[c];"style"===c?ai(v,_):"dangerouslySetInnerHTML"===c?null!=(_=_?_.__html:void 0)&&ii(v,_):"children"===c?"string"===typeof _?("textarea"!==m||""!==_)&&ri(v,_):"number"===typeof _&&ri(v,""+_):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(b.hasOwnProperty(c)?null!=_&&hi(p,c):null!=_&&ve(v,c,_,g))}switch(h){case"input":Ut(d),ke(d,f,!1);break;case"textarea":Ut(d),Qn(d);break;case"option":null!=f.value&&d.setAttribute("value",""+ye(f.value));break;case"select":(u=d).multiple=!!f.multiple,null!=(d=f.value)?Vn(u,!!f.multiple,d,!1):null!=f.defaultValue&&Vn(u,!!f.multiple,f.defaultValue,!0);break;default:"function"===typeof u.onClick&&(d.onclick=fi)}(a=gi(l,a))&&eo(e),e.stateNode=o}null!==e.ref&&(e.effectTag|=128)}else null===e.stateNode&&s("166");break;case 8:o&&null!=e.stateNode?ro(o,e,o.memoizedProps,a):("string"!==typeof a&&(null===e.stateNode&&s("166")),o=yr(vr.current),yr(gr.current),Hr(e)?(l=(a=e).stateNode,o=a.memoizedProps,l[R]=a,(a=l.nodeValue!==o)&&eo(e)):(l=e,(a=(9===o.nodeType?o:o.ownerDocument).createTextNode(a))[R]=l,e.stateNode=a));break;case 13:case 14:case 16:case 9:case 10:case 15:break;case 6:_r(),no(e);break;case 12:hr(e);break;case 11:break;case 4:s("167");default:s("156")}if(e=wo=null,a=t,1073741823===ko||1073741823!==a.childExpirationTime){for(l=0,o=a.child;null!==o;)u=o.expirationTime,f=o.childExpirationTime,(0===l||0!==u&&u<l)&&(l=u),(0===l||0!==f&&f<l)&&(l=f),o=o.sibling;a.childExpirationTime=l}if(null!==e)return e;null!==n&&0===(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t))}else{if(null!==(t=go(t)))return t.effectTag&=511,t;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512)}if(null!==i)return i;if(null===n)break;t=n}return null}function Mo(t){var e=to(t.alternate,t,ko);return null===e&&(e=Do(t)),vo.current=null,e}function Oo(t,e,n){_o&&s("243"),_o=!0,vo.currentDispatcher=mo;var i=t.nextExpirationTimeToWorkOn;i===ko&&t===xo&&null!==wo||(Po(),ko=i,wo=Bi((xo=t).current,null,ko),t.pendingCommitExpirationTime=0);for(var r=!1;;){try{if(e)for(;null!==wo&&!ds();)wo=Mo(wo);else for(;null!==wo;)wo=Mo(wo)}catch(t){if(null===wo)r=!0,ps(t);else{null===wo&&s("271");var o=wo,a=o.return;if(null!==a){t:{var u=a,l=o,c=t;a=ko,l.effectTag|=512,l.firstEffect=l.lastEffect=null,Co=!0,c=or(c,l);do{switch(u.tag){case 5:u.effectTag|=1024,u.expirationTime=a,Zi(u,a=fo(u,c,a));break t;case 2:case 3:l=c;var h=u.stateNode;if(0===(64&u.effectTag)&&null!==h&&"function"===typeof h.componentDidCatch&&(null===Eo||!Eo.has(h))){u.effectTag|=1024,u.expirationTime=a,Zi(u,a=po(u,l,a));break t}}u=u.return}while(null!==u)}wo=Do(o);continue}r=!0,ps(t)}}break}if(_o=!1,lr=ur=ar=vo.currentDispatcher=null,r)xo=null,t.finishedWork=null;else if(null!==wo)t.finishedWork=null;else{if(null===(e=t.current.alternate)&&s("281"),xo=null,Co){if(r=t.latestPendingTime,o=t.latestSuspendedTime,a=t.latestPingedTime,0!==r&&r>i||0!==o&&o>i||0!==a&&a>i)return t.didError=!1,0!==(n=t.latestPingedTime)&&n<=i&&(t.latestPingedTime=0),n=t.earliestPendingTime,e=t.latestPendingTime,n===i?t.earliestPendingTime=e===i?t.latestPendingTime=0:e:e===i&&(t.latestPendingTime=n),n=t.earliestSuspendedTime,e=t.latestSuspendedTime,0===n?t.earliestSuspendedTime=t.latestSuspendedTime=i:n>i?t.earliestSuspendedTime=i:e<i&&(t.latestSuspendedTime=i),Yi(i,t),void(t.expirationTime=t.expirationTime);if(!t.didError&&!n)return t.didError=!0,t.nextExpirationTimeToWorkOn=i,i=t.expirationTime=1,void(t.expirationTime=i)}t.pendingCommitExpirationTime=i,t.finishedWork=e}}function Ao(t,e){var n;t:{for(_o&&!To&&s("263"),n=t.return;null!==n;){switch(n.tag){case 2:case 3:var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromCatch||"function"===typeof i.componentDidCatch&&(null===Eo||!Eo.has(i))){Ji(n,t=po(n,t=or(e,t),1)),No(n,1),n=void 0;break t}break;case 5:Ji(n,t=fo(n,t=or(e,t),1)),No(n,1),n=void 0;break t}n=n.return}5===t.tag&&(Ji(t,n=fo(t,n=or(e,t),1)),No(t,1)),n=void 0}return n}function Io(t,e){return 0!==bo?t=bo:_o?t=To?1:ko:1&e.mode?(t=Ko?2+10*(1+((t-2+15)/10|0)):2+25*(1+((t-2+500)/25|0)),null!==xo&&t===ko&&(t+=1)):t=1,Ko&&(0===Wo||t>Wo)&&(Wo=t),t}function No(t,e){t:{(0===t.expirationTime||t.expirationTime>e)&&(t.expirationTime=e);var n=t.alternate;null!==n&&(0===n.expirationTime||n.expirationTime>e)&&(n.expirationTime=e);var i=t.return;if(null===i&&5===t.tag)t=t.stateNode;else{for(;null!==i;){if(n=i.alternate,(0===i.childExpirationTime||i.childExpirationTime>e)&&(i.childExpirationTime=e),null!==n&&(0===n.childExpirationTime||n.childExpirationTime>e)&&(n.childExpirationTime=e),null===i.return&&5===i.tag){t=i.stateNode;break t}i=i.return}t=null}}null!==t&&(!_o&&0!==ko&&e<ko&&Po(),$i(t,e),_o&&!To&&xo===t||(e=t,t=t.expirationTime,null===e.nextScheduledRoot?(e.expirationTime=t,null===Lo?(jo=Lo=e,e.nextScheduledRoot=e):(Lo=Lo.nextScheduledRoot=e).nextScheduledRoot=jo):(0===(n=e.expirationTime)||t<n)&&(e.expirationTime=t),Bo||(Xo?Go&&(qo=e,Ho=1,hs(e,1,!0)):1===t?cs(1,null):ss(e,t))),ns>es&&(ns=0,s("185")))}function Ro(t,e,n,i,r){var o=bo;bo=1;try{return t(e,n,i,r)}finally{bo=o}}var jo=null,Lo=null,Fo=0,zo=void 0,Bo=!1,qo=null,Ho=0,Wo=0,Uo=!1,$o=!1,Yo=null,Vo=null,Xo=!1,Go=!1,Ko=!1,Qo=null,Jo=o.unstable_now(),Zo=2+(Jo/10|0),ts=Zo,es=50,ns=0,is=null,rs=1;function os(){Zo=2+((o.unstable_now()-Jo)/10|0)}function ss(t,e){if(0!==Fo){if(e>Fo)return;null!==zo&&o.unstable_cancelScheduledWork(zo)}Fo=e,t=o.unstable_now()-Jo,zo=o.unstable_scheduleWork(ls,{timeout:10*(e-2)-t})}function as(){return Bo?ts:(us(),0!==Ho&&1073741823!==Ho||(os(),ts=Zo),ts)}function us(){var t=0,e=null;if(null!==Lo)for(var n=Lo,i=jo;null!==i;){var r=i.expirationTime;if(0===r){if((null===n||null===Lo)&&s("244"),i===i.nextScheduledRoot){jo=Lo=i.nextScheduledRoot=null;break}if(i===jo)jo=r=i.nextScheduledRoot,Lo.nextScheduledRoot=r,i.nextScheduledRoot=null;else{if(i===Lo){(Lo=n).nextScheduledRoot=jo,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if((0===t||r<t)&&(t=r,e=i),i===Lo)break;if(1===t)break;n=i,i=i.nextScheduledRoot}}qo=e,Ho=t}function ls(t){if(t.didTimeout&&null!==jo){os();var e=jo;do{var n=e.expirationTime;0!==n&&Zo>=n&&(e.nextExpirationTimeToWorkOn=Zo),e=e.nextScheduledRoot}while(e!==jo)}cs(0,t)}function cs(t,e){if(Vo=e,us(),null!==Vo)for(os(),ts=Zo;null!==qo&&0!==Ho&&(0===t||t>=Ho)&&(!Uo||Zo>=Ho);)hs(qo,Ho,Zo>=Ho),us(),os(),ts=Zo;else for(;null!==qo&&0!==Ho&&(0===t||t>=Ho);)hs(qo,Ho,!0),us();if(null!==Vo&&(Fo=0,zo=null),0!==Ho&&ss(qo,Ho),Vo=null,Uo=!1,ns=0,is=null,null!==Qo)for(t=Qo,Qo=null,e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(t){$o||($o=!0,Yo=t)}}if($o)throw t=Yo,Yo=null,$o=!1,t}function hs(t,e,n){if(Bo&&s("245"),Bo=!0,null===Vo||n){var i=t.finishedWork;null!==i?fs(t,i,e):(t.finishedWork=null,Oo(t,!1,n),null!==(i=t.finishedWork)&&fs(t,i,e))}else null!==(i=t.finishedWork)?fs(t,i,e):(t.finishedWork=null,Oo(t,!0,n),null!==(i=t.finishedWork)&&(ds()?t.finishedWork=i:fs(t,i,e)));Bo=!1}function fs(t,e,n){var i=t.firstBatch;if(null!==i&&i._expirationTime<=n&&(null===Qo?Qo=[i]:Qo.push(i),i._defer))return t.finishedWork=e,void(t.expirationTime=0);t.finishedWork=null,t===is?ns++:(is=t,ns=0),To=_o=!0,t.current===e&&s("177"),0===(n=t.pendingCommitExpirationTime)&&s("261"),t.pendingCommitExpirationTime=0,i=e.expirationTime;var r=e.childExpirationTime;if(i=0===i||0!==r&&r<i?r:i,t.didError=!1,0===i?(t.earliestPendingTime=0,t.latestPendingTime=0,t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0):(0!==(r=t.latestPendingTime)&&(r<i?t.earliestPendingTime=t.latestPendingTime=0:t.earliestPendingTime<i&&(t.earliestPendingTime=t.latestPendingTime)),0===(r=t.earliestSuspendedTime)?$i(t,i):i>t.latestSuspendedTime?(t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0,$i(t,i)):i<r&&$i(t,i)),Yi(0,t),vo.current=null,1<e.effectTag?null!==e.lastEffect?(e.lastEffect.nextEffect=e,i=e.firstEffect):i=e:i=e.firstEffect,di=Cn,Ln(r=jn())){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else t:{var a=(o=(o=r.ownerDocument)&&o.defaultView||window).getSelection&&o.getSelection();if(a&&0!==a.rangeCount){o=a.anchorNode;var u=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{o.nodeType,l.nodeType}catch(t){o=null;break t}var c=0,h=-1,f=-1,d=0,p=0,g=r,m=null;e:for(;;){for(var v;g!==o||0!==u&&3!==g.nodeType||(h=c+u),g!==l||0!==a&&3!==g.nodeType||(f=c+a),3===g.nodeType&&(c+=g.nodeValue.length),null!==(v=g.firstChild);)m=g,g=v;for(;;){if(g===r)break e;if(m===o&&++d===u&&(h=c),m===l&&++p===a&&(f=c),null!==(v=g.nextSibling))break;m=(g=m).parentNode}g=v}o=-1===h||-1===f?null:{start:h,end:f}}else o=null}o=o||{start:0,end:0}}else o=null;for(pi={focusedElem:r,selectionRange:o},Cn=!1,So=i;null!==So;){r=!1,o=void 0;try{for(;null!==So;){if(256&So.effectTag){var y=So.alternate;t:switch(u=So,u.tag){case 2:case 3:if(256&u.effectTag&&null!==y){var b=y.memoizedProps,_=y.memoizedState,w=u.stateNode;w.props=u.memoizedProps,w.state=u.memoizedState;var x=w.getSnapshotBeforeUpdate(b,_);w.__reactInternalSnapshotBeforeUpdate=x}break t;case 5:case 7:case 8:case 6:break t;default:s("163")}}So=So.nextEffect}}catch(t){r=!0,o=t}r&&(null===So&&s("178"),Ao(So,o),null!==So&&(So=So.nextEffect))}for(So=i;null!==So;){y=!1,b=void 0;try{for(;null!==So;){var k=So.effectTag;if(16&k&&ri(So.stateNode,""),128&k){var C=So.alternate;if(null!==C){var S=C.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(14&k){case 2:lo(So),So.effectTag&=-3;break;case 6:lo(So),So.effectTag&=-3,ho(So.alternate,So);break;case 4:ho(So.alternate,So);break;case 8:co(_=So),_.return=null,_.child=null,_.alternate&&(_.alternate.child=null,_.alternate.return=null)}So=So.nextEffect}}catch(t){y=!0,b=t}y&&(null===So&&s("178"),Ao(So,b),null!==So&&(So=So.nextEffect))}if(S=pi,C=jn(),k=S.focusedElem,b=S.selectionRange,C!==k&&k&&k.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(k.ownerDocument.documentElement,k)){null!==b&&Ln(k)&&(C=b.start,void 0===(S=b.end)&&(S=C),"selectionStart"in k?(k.selectionStart=C,k.selectionEnd=Math.min(S,k.value.length)):(C=((y=k.ownerDocument||document)?y.defaultView:window).getSelection(),_=k.textContent.length,S=Math.min(b.start,_),b=void 0===b.end?S:Math.min(b.end,_),!C.extend&&S>b&&(_=b,b=S,S=_),_=Rn(k,S),w=Rn(k,b),_&&w&&(1!==C.rangeCount||C.anchorNode!==_.node||C.anchorOffset!==_.offset||C.focusNode!==w.node||C.focusOffset!==w.offset)&&((y=y.createRange()).setStart(_.node,_.offset),C.removeAllRanges(),S>b?(C.addRange(y),C.extend(w.node,w.offset)):(y.setEnd(w.node,w.offset),C.addRange(y))))),C=[];for(S=k;S=S.parentNode;)1===S.nodeType&&C.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<C.length;k++)(S=C[k]).element.scrollLeft=S.left,S.element.scrollTop=S.top}for(pi=null,Cn=!!di,di=null,t.current=e,So=i;null!==So;){i=!1,k=void 0;try{for(C=n;null!==So;){var T=So.effectTag;if(36&T){var E=So.alternate;switch(y=C,(S=So).tag){case 2:case 3:var P=S.stateNode;if(4&S.effectTag)if(null===E)P.props=S.memoizedProps,P.state=S.memoizedState,P.componentDidMount();else{var D=E.memoizedProps,M=E.memoizedState;P.props=S.memoizedProps,P.state=S.memoizedState,P.componentDidUpdate(D,M,P.__reactInternalSnapshotBeforeUpdate)}var O=S.updateQueue;null!==O&&(P.props=S.memoizedProps,P.state=S.memoizedState,ir(0,O,P));break;case 5:var A=S.updateQueue;if(null!==A){if(b=null,null!==S.child)switch(S.child.tag){case 7:b=S.child.stateNode;break;case 2:case 3:b=S.child.stateNode}ir(0,A,b)}break;case 7:var I=S.stateNode;null===E&&4&S.effectTag&&gi(S.type,S.memoizedProps)&&I.focus();break;case 8:case 6:case 15:case 16:break;default:s("163")}}if(128&T){var N=So.ref;if(null!==N){var R=So.stateNode;switch(So.tag){case 7:var j=R;break;default:j=R}"function"===typeof N?N(j):N.current=j}}var L=So.nextEffect;So.nextEffect=null,So=L}}catch(t){i=!0,k=t}i&&(null===So&&s("178"),Ao(So,k),null!==So&&(So=So.nextEffect))}_o=To=!1,"function"===typeof Ri&&Ri(e.stateNode),T=e.expirationTime,e=e.childExpirationTime,0===(e=0===T||0!==e&&e<T?e:T)&&(Eo=null),t.expirationTime=e,t.finishedWork=null}function ds(){return!!Uo||!(null===Vo||Vo.timeRemaining()>rs)&&(Uo=!0)}function ps(t){null===qo&&s("246"),qo.expirationTime=0,$o||($o=!0,Yo=t)}function gs(t,e){var n=Xo;Xo=!0;try{return t(e)}finally{(Xo=n)||Bo||cs(1,null)}}function ms(t,e){if(Xo&&!Go){Go=!0;try{return t(e)}finally{Go=!1}}return t(e)}function vs(t,e,n){if(Ko)return t(e,n);Xo||Bo||0===Wo||(cs(Wo,null),Wo=0);var i=Ko,r=Xo;Xo=Ko=!0;try{return t(e,n)}finally{Ko=i,(Xo=r)||Bo||cs(1,null)}}function ys(t,e,n,i,r){var o=e.current;return n=function(t){if(!t)return ki;t=t._reactInternalFiber;t:{(2!==en(t)||2!==t.tag&&3!==t.tag)&&s("170");var e=t;do{switch(e.tag){case 5:e=e.stateNode.context;break t;case 2:if(Pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}break;case 3:if(Pi(e.type._reactResult)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);s("171"),e=void 0}if(2===t.tag){var n=t.type;if(Pi(n))return Ai(t,n,e)}else if(3===t.tag&&Pi(n=t.type._reactResult))return Ai(t,n,e);return e}(n),null===e.context?e.context=n:e.pendingContext=n,e=r,(r=Ki(i)).payload={element:t},null!==(e=void 0===e?null:e)&&(r.callback=e),Ji(o,r),No(o,i),i}function bs(t,e,n,i){var r=e.current;return ys(t,e,n,r=Io(as(),r),i)}function _s(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 7:default:return t.child.stateNode}}function ws(t){var e=2+25*(1+((as()-2+500)/25|0));e<=yo&&(e=yo+1),this._expirationTime=yo=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function xs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function ks(t,e,n){t={current:e=new Fi(5,null,null,e?3:0),containerInfo:t,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function Cs(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Ss(t,e,n,i,r){Cs(n)||s("200");var o=n._reactRootContainer;if(o){if("function"===typeof r){var a=r;r=function(){var t=_s(o._internalRoot);a.call(t)}}null!=t?o.legacy_renderSubtreeIntoContainer(t,e,r):o.render(e,r)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new ks(t,!1,e)}(n,i),"function"===typeof r){var u=r;r=function(){var t=_s(o._internalRoot);u.call(t)}}ms(function(){null!=t?o.legacy_renderSubtreeIntoContainer(t,e,r):o.render(e,r)})}return _s(o._internalRoot)}function Ts(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Cs(e)||s("200"),function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Kt,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}Pt=function(t,e,n){switch(e){case"input":if(xe(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=B(i);r||s("90"),$t(i),xe(i,r)}}}break;case"textarea":Kn(t,n);break;case"select":null!=(e=n.value)&&Vn(t,!!n.multiple,e,!1)}},ws.prototype.render=function(t){this._defer||s("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,i=new xs;return ys(t,e,null,n,i._onCommit),i},ws.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},ws.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||s("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var i=null,r=e;r!==this;)i=r,r=r._next;null===i&&s("251"),i._next=r._next,this._next=e,t.firstBatch=this}this._defer=!1,e=n,Bo&&s("253"),qo=t,Ho=e,hs(t,e,!0),cs(1,null),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},ws.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},xs.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},xs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!==typeof n&&s("191",n),n()}}},ks.prototype.render=function(t,e){var n=this._internalRoot,i=new xs;return null!==(e=void 0===e?null:e)&&i.then(e),bs(t,n,null,i._onCommit),i},ks.prototype.unmount=function(t){var e=this._internalRoot,n=new xs;return null!==(t=void 0===t?null:t)&&n.then(t),bs(null,e,null,n._onCommit),n},ks.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var i=this._internalRoot,r=new xs;return null!==(n=void 0===n?null:n)&&r.then(n),bs(e,i,t,r._onCommit),r},ks.prototype.createBatch=function(){var t=new ws(this),e=t._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=t,t._next=null;else{for(n=null;null!==i&&i._expirationTime<=e;)n=i,i=i._next;t._next=i,null!==n&&(n._next=t)}return t},Nt=gs,Rt=vs,jt=function(){Bo||0===Wo||(cs(Wo,null),Wo=0)};var Es={createPortal:Ts,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;return void 0===e&&("function"===typeof t.render?s("188"):s("268",Object.keys(t))),t=null===(t=rn(e))?null:t.stateNode},hydrate:function(t,e,n){return Ss(null,t,e,!0,n)},render:function(t,e,n){return Ss(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,i){return(null==t||void 0===t._reactInternalFiber)&&s("38"),Ss(t,e,n,!1,i)},unmountComponentAtNode:function(t){return Cs(t)||s("40"),!!t._reactRootContainer&&(ms(function(){Ss(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ts.apply(void 0,arguments)},unstable_batchedUpdates:gs,unstable_interactiveUpdates:vs,flushSync:function(t,e){Bo&&s("187");var n=Xo;Xo=!0;try{return Ro(t,e)}finally{Xo=n,cs(1,null)}},unstable_flushControlled:function(t){var e=Xo;Xo=!0;try{Ro(t)}finally{(Xo=e)||Bo||cs(1,null)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[F,z,B,O.injectEventPluginsByName,y,Y,function(t){T(t,$)},At,It,Pn,I]},unstable_createRoot:function(t,e){return Cs(t)||s("278"),new ks(t,!0,null!=e&&!0===e.hydrate)}};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Ri=Li(function(t){return e.onCommitFiberRoot(n,t)}),ji=Li(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}})(r({},t,{findHostInstanceByFiber:function(t){return null===(t=rn(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}({findFiberByHostInstance:L,bundleType:0,version:"16.5.1",rendererPackageName:"react-dom"});var Ps={default:Es},Ds=Ps&&Es||Ps;t.exports=Ds.default||Ds},function(t,e,n){"use strict";t.exports=n(81)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=!("undefined"===typeof window||!window.document||!window.document.createElement),r=Date,o="function"===typeof setTimeout?setTimeout:void 0,s="function"===typeof clearTimeout?clearTimeout:void 0,a="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,u="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0,l="object"===typeof performance&&"function"===typeof performance.now;if(e.unstable_now=void 0,l){var c=performance;e.unstable_now=function(){return c.now()}}else e.unstable_now=function(){return r.now()};if(e.unstable_scheduleWork=void 0,e.unstable_cancelScheduledWork=void 0,i){var h=null,f=null,d=-1,p=!1,g=!1,m=void 0,v=void 0,y=function(t){m=a(function(e){s(v),t(e)}),v=o(function(){u(m),t(e.unstable_now())},100)},b=0,_=33,w=33,x={didTimeout:!1,timeRemaining:function(){var t=b-e.unstable_now();return 0<t?t:0}},k=function(t,n){var i=t.scheduledCallback,r=!1;try{i(n),r=!0}finally{e.unstable_cancelScheduledWork(t),r||(p=!0,window.postMessage(C,"*"))}},C="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===C&&(p=!1,null!==h)){if(null!==h){var n=e.unstable_now();if(!(-1===d||d>n)){t=-1;for(var i=[],r=h;null!==r;){var o=r.timeoutTime;-1!==o&&o<=n?i.push(r):-1!==o&&(-1===t||o<t)&&(t=o),r=r.next}if(0<i.length)for(x.didTimeout=!0,n=0,r=i.length;n<r;n++)k(i[n],x);d=t}}for(t=e.unstable_now();0<b-t&&null!==h;)t=h,x.didTimeout=!1,k(t,x),t=e.unstable_now();null===h||g||(g=!0,y(S))}},!1);var S=function(t){g=!1;var e=t-b+w;e<w&&_<w?(8>e&&(e=8),w=e<_?_:e):_=e,b=t+w,p||(p=!0,window.postMessage(C,"*"))};e.unstable_scheduleWork=function(t,n){var i=-1;return null!=n&&"number"===typeof n.timeout&&(i=e.unstable_now()+n.timeout),(-1===d||-1!==i&&i<d)&&(d=i),t={scheduledCallback:t,timeoutTime:i,prev:null,next:null},null===h?h=t:null!==(n=t.prev=f)&&(n.next=t),f=t,g||(g=!0,y(S)),t},e.unstable_cancelScheduledWork=function(t){if(null!==t.prev||h===t){var e=t.next,n=t.prev;t.next=null,t.prev=null,null!==e?null!==n?(n.next=e,e.prev=n):(e.prev=null,h=e):null!==n?(n.next=null,f=n):f=h=null}}}else{var T=new Map;e.unstable_scheduleWork=function(t){var e={scheduledCallback:t,timeoutTime:0,next:null,prev:null},n=o(function(){t({timeRemaining:function(){return 1/0},didTimeout:!1})});return T.set(t,n),e},e.unstable_cancelScheduledWork=function(t){var e=T.get(t.scheduledCallback);T.delete(t),s(e)}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}u((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(21),u=n(14),l=n(83),c=n(15);n(127);var h=n(130),f=n(131),d=n(132),p=n(165),g=n(2),m=n(14),v=["two finger tap count tap","left then right"],y=function(t){function e(e){var n=t.call(this,e)||this;return n.transitionListeners=new Map,n.pathMap=new Map,n.touchGroupMap=new Map,n.liveUpdaterMap=new Map,n.cellContext=new u.MapConstraint,n.debouncedPropertyUpdate=g.debounce(function(t,e){g.each(e,function(e,i){var r=[t,i];e!==n.touchGroups.traverse(r)&&n.touchGroups.submitObjectReplaceOp(r,e)})},20),n.onSelectChange=function(t){var e=t.target.value;n.replayFromURL(e)},n.contentRef=function(t){if(t){var e=h(t);c(t).touchscreen_layer({paper:e}),n.element=t,n.resolveRP(n.element)}},n.state={selectState:"replay"},n.renderedPromise=new Promise(function(t,e){n.resolveRP=t}),n.initialize(),n}return r(e,t),e.prototype.render=function(){var t=v.map(function(t,e){return a.createElement("option",{key:e,value:t},t)});return a.createElement("div",{ref:this.contentRef},a.createElement("div",{style:{position:"absolute"}},a.createElement("select",{value:this.state.selectState,onChange:this.onSelectChange},a.createElement("option",{value:"replay"},"Replay"),t)))},e.prototype.addPath=function(t){return o(this,void 0,Promise,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.renderedPromise];case 1:return e.sent(),c(this.element).touchscreen_layer("addPath",t),[2]}})})},e.prototype.removePath=function(t){return o(this,void 0,Promise,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.renderedPromise];case 1:return e.sent(),c(this.element).touchscreen_layer("removePath",t),[2]}})})},e.prototype.addTouchCluster=function(t){return o(this,void 0,Promise,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.renderedPromise];case 1:return e.sent(),c(this.element).touchscreen_layer("addTouchCluster",t),[2]}})})},e.prototype.removeTouchCluster=function(t){return o(this,void 0,Promise,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.renderedPromise];case 1:return e.sent(),c(this.element).touchscreen_layer("removeTouchCluster",t),[2]}})})},e.prototype.addTouchGroupConstraint=function(t,e){var n=new m.MapConstraint;n.put("x",t.getXConstraint()),n.put("y",t.getYConstraint()),n.put("startX",t.getStartXConstraint()),n.put("startY",t.getStartYConstraint()),n.put("endX",t.getEndXConstraint()),n.put("endY",t.getEndYConstraint()),this.cellContext.put(e,n)},e.prototype.removeTouchGroupConstraint=function(t){this.cellContext.remove(t)},e.prototype.initialize=function(){return o(this,void 0,Promise,function(){var t,e,n=this;return s(this,function(i){switch(i.label){case 0:return(t=this.getDoc()).subscribe(),[4,t.fetch()];case 1:return i.sent(),[4,this.renderedPromise];case 2:return i.sent(),e=new l.SDBBinding(this.getDoc(),["fsm"]),this.fsm=e.getFSM(),this.touchGroups=this.props.doc.subDoc(this.props.path.concat(["touchGroups"])),this.paths=this.props.doc.subDoc(this.props.path.concat(["paths"])),this.touchGroups.subscribe(function(e,i){var r=[];if("op"===e)i.forEach(function(e){var i=e.p;if(1===i.length&&e.oi){var o=i[0],s=new d.TouchClusterBinding(t,n.props.path.concat(["touchGroups",o])).getCluster();n.touchGroupMap.set(o,s),r.push(o),n.addTouchGroupConstraint(s,o)}else if(1===i.length&&e.od){o=i[0];var a=n.touchGroupMap.get(o);a&&(a.destroy(!0),n.removeTouchCluster(a),r.push(o)),n.cellContext.remove(o),n.removeTouchGroupConstraint(o)}});else{var o=n.touchGroups.getData();g.each(o,function(e,i){var o=new d.TouchClusterBinding(t,n.props.path.concat(["touchGroups",i])).getCluster();n.touchGroupMap.set(i,o),r.push(i),n.addTouchGroupConstraint(o,i)})}n.updateRelevantTransitionEvents(r),n.updateTouchDisplayListeners()}),this.paths.subscribe(function(e,i){var r=[];if("op"===e)i.forEach(function(e){var i=e.p;if(1===i.length&&e.oi){var o=i[0],s=new p.PathBinding(t,n.props.path.concat(["paths",o]),n.cellContext).getPath();n.addPath(s),n.pathMap.set(o,s),r.push(o)}else if(1===i.length&&e.od){o=i[0];(s=n.pathMap.get(o))&&(n.removePath(s),s.destroy(),n.pathMap.delete(o),r.push(o))}});else{var o=n.paths.getData();g.each(o,function(e,i){var o=new p.PathBinding(t,n.props.path.concat(["paths",i]),n.cellContext).getPath();n.addPath(o),n.pathMap.set(i,o),r.push(i)})}n.updateRelevantTransitionEvents(r)}),window.fsm=this.fsm,g.each(this.fsm.getTransitions(),function(t){n.updateEventListener(t)}),this.fsm.addListener("transitionPayloadChanged",function(t){var e=t.transition;n.updateEventListener(e)}),this.fsm.addListener("transitionAdded",function(t){var e=t.transition;n.updateEventListener(e)}),this.fsm.addListener("transitionRemoved",function(t){var e=t.transition;n.updateEventListener(e)}),this.fsm.addListener("activeStateChanged",function(){var t=n.fsm.getStatePayload(n.fsm.getActiveState());t&&t.markDone&&alert("MARKED DONE")}),[2]}})})},e.prototype.updateRelevantTransitionEvents=function(t){var e=this;this.fsm.getTransitions().forEach(function(n){var i=e.fsm.getTransitionPayload(n),r=i.type,o=i.selectedTouchGroup,s=i.touchEventType,a=i.selectedPath;"touchgroup"===r&&(t.indexOf(o)>=0&&!0,"cross"===s&&t.indexOf(a)),e.updateEventListener(n)})},e.prototype.updateEventListener=function(t){this.transitionListeners.has(t)&&this.transitionListeners.get(t)();if(this.fsm.hasTransition(t)){var e=this.getEventListener(t);this.transitionListeners.set(t,e)}},e.prototype.getDoc=function(){return this.props.doc},e.prototype.getEventListener=function(t){var e=this,n=this.fsm.getTransitionPayload(t),i=n.type;if("timeout"===i){var r,o,s=n.timeoutDelay,a=this.fsm.getTransitionFrom(t),u=function(n){var i=n.state;r&&clearTimeout(r),i===a&&(r=setTimeout(function(){e.fsm.fireTransition(t)},parseInt(s,10)))},l=function(e){e.transition===t&&o()};return o=function(){r&&clearTimeout(r),e.fsm.removeListener("activeStateChanged",u),e.fsm.removeListener("transitionFromChanged",l)},this.fsm.getActiveState()===a&&(r=setTimeout(function(){e.fsm.fireTransition(t)},s)),this.fsm.addListener("activeStateChanged",u),this.fsm.addListener("transitionFromChanged",l),o}if("touchgroup"===i){var c=n.touchEventType,h=n.selectedTouchGroup,f=this.touchGroupMap.get(h);if(f){if("start"===c){var d=function(){e.fsm.fireTransition(t)};return f.addListener("satisfied",d),function(){f.removeListener("satisfied",d)}}if("end"===c){var p=function(){e.fsm.fireTransition(t)};return f.addListener("unsatisfied",p),function(){f.removeListener("unsatisfied",p)}}if("cross"===c){var g=n.selectedPath,m=this.pathMap.get(g);if(m){var v=function(){e.fsm.fireTransition(t)};return f.addCrossListener(m,v),function(){f.removeCrossListener(m,v)}}}}return function(){return null}}return"none"===i||void 0===i?function(){return null}:(console.log(n),function(){return null})},e.prototype.updateTouchDisplayListeners=function(){var t=this,e=Array.from(this.touchGroupMap.keys()),n=Array.from(this.liveUpdaterMap.keys()),i=(e.map(function(e){return t.touchGroupMap.get(e)}),g.difference(e,n)),r=g.difference(n,e);i.forEach(function(e){var n=t.touchGroupMap.get(e);t.liveUpdaterMap.set(e,{pause:function(){return null},resume:function(){return null},run:function(){return null},destroy:function(){return null}});var i=u.liven(function(){var i={};["$xConstraint","$yConstraint","$startXConstraint","$startYConstraint","$endXConstraint","$endYConstraint","$rotation","$scale","$startRadius","$radius"].forEach(function(t){i[t]=u.get(n[t])}),t.debouncedPropertyUpdate(e,i)});t.liveUpdaterMap.set(e,i)}),r.forEach(function(e){t.liveUpdaterMap.get(e).destroy(),t.liveUpdaterMap.delete(e)})},e.prototype.replayFromURL=function(t){return this.replayTouchFile("gesture_recordings/"+t+".recording.json",{target:this.element})},e.prototype.replayTouchFile=function(t,e){return o(this,void 0,Promise,function(){var n;return s(this,function(i){switch(i.label){case 0:return[4,fetch(t)];case 1:return[4,i.sent().json()];case 2:return n=i.sent(),f.replayTouches(n,e),[2]}})})},e}(a.Component);e.TouchBehavior=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(35);e.FSM=i.FSM;const r=n(87);e.SDBBinding=r.SDBBinding;const o=n(88);e.DagreBinding=o.DagreBinding;const s={FSM:i.FSM,SDBBinding:r.SDBBinding,DagreBinding:o.DagreBinding};"undefined"!=typeof window&&window.document&&(window.t2sm=s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(7);class r extends i.EventEmitter{constructor(t){super(),this.payload=t,this.active=!1,this.outgoingTransitions=[],this.incomingTransitions=[],this.onOutgoingTransitionFired=(t=>{if(!this.isActive())throw new Error("Received transition fired event while not active");{const{transition:e,event:n,source:i}=t,r=e.getToState();this.setIsActive(!1),r.setIsActive(!0)}})}getPayload(){return this.payload}setPayload(t){this.payload=t,this.emit("payloadChanged",{payload:t})}_getOutgoingTransitions(){return this.outgoingTransitions}_getIncomingTransitions(){return this.incomingTransitions}_addOutgoingTransition(t){this.outgoingTransitions.push(t),this.isActive()?(t.setEligible(!0),t.addListener("fire",this.onOutgoingTransitionFired)):t.setEligible(!1)}_removeOutgoingTransition(t){const e=this.outgoingTransitions.indexOf(t);return e>=0&&(this.outgoingTransitions.splice(e,1),this.isActive()&&(t.setEligible(!1),t.removeListener("fire",this.onOutgoingTransitionFired)),!0)}_addIncomingTransition(t){this.incomingTransitions.push(t)}_removeIncomingTransition(t){const e=this.incomingTransitions.indexOf(t);return e>=0&&(this.incomingTransitions.splice(e,1),!0)}isActive(){return this.active}setIsActive(t){this.active=t,this.isActive()?(this.addOutgoingTransitionListeners(),this.emit("active",{})):(this.removeOutgoingTransitionListeners(),this.emit("not_active",{}))}addOutgoingTransitionListeners(){this.outgoingTransitions.forEach(t=>{t.setEligible(!0),t.addListener("fire",this.onOutgoingTransitionFired)})}removeOutgoingTransitionListeners(){this.outgoingTransitions.forEach(t=>{t.setEligible(!1),t.removeListener("fire",this.onOutgoingTransitionFired)})}remove(){for(this.removeOutgoingTransitionListeners();this.incomingTransitions.length>0;)this.incomingTransitions[0].remove();for(;this.outgoingTransitions.length>0;)this.outgoingTransitions[0].remove();this.emit("removed",{})}}e.AbstractState=r;e.StartState=class extends r{constructor(t){super(t)}_addOutgoingTransition(t){if(this._getOutgoingTransitions().length>0)throw new Error("Can only have one outgoing transition from a start state");super._addOutgoingTransition(t)}_addIncomingTransition(t){throw new Error("Start states cannot have incoming transitions")}isStartState(){return!0}};e.State=class extends r{constructor(t){super(t)}isStartState(){return!1}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(7);e.Transition=class extends i.EventEmitter{constructor(t,e,n,i){super(),this.fromState=t,this.toState=e,this.alias=n,this.payload=i,this.fromState._addOutgoingTransition(this),this.toState._addIncomingTransition(this)}getAlias(){return this.alias}setAlias(t){this.alias=t,this.emit("aliasChanged",{alias:t})}isEligible(){return this.eligible}setEligible(t){this.eligible=t}remove(){this.fromState._removeOutgoingTransition(this),this.toState._removeIncomingTransition(this),this.emit("removed",{})}getFromState(){return this.fromState}getToState(){return this.toState}fire(t,e){this.emit("fire",{transition:this,event:t,source:e,eligible:this.isEligible()})}setFromState(t){const e=this.fromState;try{this.fromState._removeOutgoingTransition(this)}catch(t){throw t}try{this.fromState=t,this.fromState._addOutgoingTransition(this),this.emit("fromStateChanged",{oldFrom:e,state:t})}catch(t){throw e._addOutgoingTransition(this),this.fromState=e,t}}setToState(t){const e=this.toState;try{this.toState._removeIncomingTransition(this)}catch(t){throw t}try{this.toState=t,this.toState._addIncomingTransition(this),this.emit("toStateChanged",{oldTo:e,state:t})}catch(t){throw e._addIncomingTransition(this),this.toState=e,t}}getPayload(){return this.payload}setPayload(t){this.payload=t,this.emit("payloadChanged",{payload:t})}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(35),r=n(2);e.SDBBinding=class{constructor(t,e,n=null){this.doc=t,this.path=e,this.fsm=n,this.ignoreFSMChanges=!1,this.ignoreSDBChanges=!1,this.onDocEvent=((t,e,n)=>{this.ignoreSDBChanges||(null===t?this.initialize():"op"===t&&e.forEach(t=>{const{p:e}=t;if(r.isEqual(e.slice(0,this.path.length),this.path)){const n=e.slice(this.path.length);if(this.ignoreFSMChanges=!0,r.isEqual(n,[]))this.syncSDBToFSM();else if("states"===n[0]){const e=n[1];if(2===n.length){if(r.has(t,"od")&&this.fsm.removeState(e),r.has(t,"oi")){const{oi:n}=t,{payload:i,active:r}=n;this.fsm.addState(i,e),r&&this.fsm.setActiveState(e)}}else if(3===n.length)if("payload"===n[2]){if(r.has(t,"oi")){const{oi:n}=t;this.fsm.setStatePayload(e,n)}}else if("active"===n[2]&&r.has(t,"oi")){const{oi:n}=t;!0===n&&this.fsm.setActiveState(e)}}else if("transitions"===n[0]){const e=n[1];if(2===n.length){if(r.has(t,"oi")){const{oi:n}=t,{from:i,to:r,payload:o,alias:s}=n;this.fsm.addTransition(i,r,s,o,e)}r.has(t,"od")&&this.fsm.removeTransition(e)}else if(3===n.length)if("from"===n[2]){if(r.has(t,"oi")){const{oi:n}=t;this.fsm.setTransitionFrom(e,n)}}else if("to"===n[2]){if(r.has(t,"oi")){const{oi:n}=t;this.fsm.setTransitionTo(e,n)}}else if("alias"===n[2]){if(r.has(t,"oi")){const{oi:n}=t;this.fsm.setTransitionAlias(e,n)}}else if("payload"===n[2]&&r.has(t,"oi")){const{oi:n}=t;this.fsm.setTransitionPayload(e,n)}}else console.log(n);this.ignoreFSMChanges=!1}}))}),this.onStateAdded=(t=>{if(!this.ignoreFSMChanges){const{state:e,payload:n}=t;this.ignoreSDBChanges=!0,this.doc.submitObjectInsertOp(this.path.concat("states",e),{payload:n,active:this.fsm.getActiveState()===e}),this.ignoreSDBChanges=!1}}),this.onStateRemoved=(t=>{if(!this.ignoreFSMChanges){const{state:e}=t;this.ignoreSDBChanges=!0,this.doc.submitObjectDeleteOp(this.path.concat("states",e)),this.ignoreSDBChanges=!1}}),this.onActiveStateChanged=(t=>{if(!this.ignoreFSMChanges){const{state:e,oldActiveState:n}=t;this.ignoreSDBChanges=!0,n&&this.doc.submitObjectReplaceOp(this.path.concat("states",n,"active"),!1),this.doc.submitObjectReplaceOp(this.path.concat("states",e,"active"),!0),this.ignoreSDBChanges=!1}}),this.onTransitionAdded=(t=>{if(!this.ignoreFSMChanges){const{transition:e,from:n,to:i,payload:r,alias:o}=t;this.ignoreSDBChanges=!0,this.doc.submitObjectInsertOp(this.path.concat("transitions",e),{from:n,to:i,payload:r,alias:o}),this.ignoreSDBChanges=!1}}),this.onStatePayloadChanged=(t=>{if(!this.ignoreFSMChanges){const{state:e,payload:n}=t;this.ignoreSDBChanges=!0,this.doc.submitObjectReplaceOp(this.path.concat("states",e,"payload"),n),this.ignoreSDBChanges=!1}}),this.onTransitionPayloadChanged=(t=>{if(!this.ignoreFSMChanges){const{transition:e,payload:n}=t;this.ignoreSDBChanges=!0,this.doc.submitObjectReplaceOp(this.path.concat("transitions",e,"payload"),n),this.ignoreSDBChanges=!1}}),this.onTransitionRemoved=(t=>{if(!this.ignoreFSMChanges){const{transition:e}=t;this.ignoreSDBChanges=!0,this.doc.submitObjectDeleteOp(this.path.concat("transitions",e)),this.ignoreSDBChanges=!1}}),this.onTransitionToStateChanged=(t=>{if(!this.ignoreFSMChanges){const{transition:e,state:n}=t;this.ignoreSDBChanges=!0,this.doc.submitObjectReplaceOp(this.path.concat("transitions",e,"to"),n),this.ignoreSDBChanges=!1}}),this.onTransitionFromStateChanged=(t=>{if(!this.ignoreFSMChanges){const{transition:e,state:n}=t;this.ignoreSDBChanges=!0,this.doc.submitObjectReplaceOp(this.path.concat("transitions",e,"from"),n),this.ignoreSDBChanges=!1}}),this.onTransitionAliasChanged=(t=>{if(!this.ignoreFSMChanges){const{transition:e,alias:n}=t;this.ignoreSDBChanges=!0,this.doc.submitObjectReplaceOp(this.path.concat("transitions",e,"alias"),n),this.ignoreSDBChanges=!1}}),this.fsmProvided=!!this.fsm,this.fsm?this.fsmProvided=!0:(this.fsm=new i.FSM,this.fsmProvided=!1),this.subscribeToSDB()}destroy(){this.fsm.removeListener("stateAdded",this.onStateAdded),this.fsm.removeListener("stateRemoved",this.onStateRemoved),this.fsm.removeListener("transitionAdded",this.onTransitionAdded),this.fsm.removeListener("transitionRemoved",this.onTransitionRemoved),this.fsm.removeListener("activeStateChanged",this.onActiveStateChanged),this.fsm.removeListener("statePayloadChanged",this.onStatePayloadChanged),this.fsm.removeListener("statePayloadChanged",this.onStatePayloadChanged),this.fsm.removeListener("transitionAliasChanged",this.onTransitionAliasChanged),this.fsm.removeListener("transitionPayloadChanged",this.onTransitionPayloadChanged),this.fsm.removeListener("transitionToStateChanged",this.onTransitionToStateChanged),this.fsm.removeListener("transitionFromStateChanged",this.onTransitionFromStateChanged),this.unsubscribeFromSDB()}getFSM(){return this.fsm}unsubscribeFromSDB(){this.doc.unsubscribe(this.onDocEvent),this.ignoreSDBChanges=!0}subscribeToSDB(){this.doc.subscribe(this.onDocEvent)}initialize(){this.fsmProvided?this.syncFSMToSDB():this.syncSDBToFSM(),this.fsm.on("stateAdded",this.onStateAdded),this.fsm.on("stateRemoved",this.onStateRemoved),this.fsm.on("transitionAdded",this.onTransitionAdded),this.fsm.on("transitionRemoved",this.onTransitionRemoved),this.fsm.on("activeStateChanged",this.onActiveStateChanged),this.fsm.on("statePayloadChanged",this.onStatePayloadChanged),this.fsm.on("transitionAliasChanged",this.onTransitionAliasChanged),this.fsm.on("transitionPayloadChanged",this.onTransitionPayloadChanged),this.fsm.on("transitionToStateChanged",this.onTransitionToStateChanged),this.fsm.on("transitionFromStateChanged",this.onTransitionFromStateChanged)}syncFSMToSDB(){const t=this.fsm.serialize();this.ignoreSDBChanges=!0,this.doc.submitObjectReplaceOp(this.path,t),this.ignoreSDBChanges=!1}syncSDBToFSM(){const t=this.doc.traverse(this.path);t&&(this.ignoreFSMChanges=!0,i.FSM.deserialize(t,this.fsm),this.ignoreFSMChanges=!1)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(89),r=n(2);e.DagreBinding=class{constructor(t,e,n,r={}){this.fsm=t,this.stateOptions=e,this.transitionOptions=n,this.graphOptions=r,this.graph=new i.graphlib.Graph({multigraph:!0,directed:!0}),this.onStateAdded=(t=>{const{state:e}=t;this.graph.setNode(e,this.getStateOptions(e))}),this.onStateRemoved=(t=>{const{state:e}=t;this.graph.removeNode(e)}),this.onTransitionAdded=(t=>{const{transition:e,from:n,to:i}=t;this.graph.setEdge(n,i,this.getTransitionOptions(e),e)}),this.onTransitionRemoved=(t=>{const{transition:e,oldFrom:n,oldTo:i}=t;this.graph.removeEdge({name:e,v:n,w:i})}),this.onTransitionFromStateChanged=(t=>{const{oldFrom:e}=t,n=t.transition,i=e,r=this.fsm.getTransitionTo(n);this.graph.removeEdge({name:n,v:i,w:r}),this.graph.setEdge(this.fsm.getTransitionFrom(n),r,this.getTransitionOptions(n),n)}),this.onTransitionToStateChanged=(t=>{const{oldTo:e}=t,n=t.transition,i=this.fsm.getTransitionFrom(n),r=e;this.graph.removeEdge({name:n,v:i,w:r}),this.graph.setEdge(i,this.fsm.getTransitionTo(n),this.getTransitionOptions(n),n)}),this.graph.setGraph(r),this.fsm.getStates().forEach(t=>{this.graph.setNode(t,this.getStateOptions(t))}),this.fsm.getTransitions().forEach(t=>{const e=this.fsm.getTransitionFrom(t),n=this.fsm.getTransitionTo(t);this.graph.setEdge(e,n,this.getTransitionOptions(t),t)}),this.fsm.on("stateAdded",this.onStateAdded),this.fsm.on("stateRemoved",this.onStateRemoved),this.fsm.on("transitionAdded",this.onTransitionAdded),this.fsm.on("transitionRemoved",this.onTransitionRemoved),this.fsm.on("transitionToStateChanged",this.onTransitionToStateChanged),this.fsm.on("transitionFromStateChanged",this.onTransitionFromStateChanged)}getGraph(){return this.graph}getStateOptions(t){return r.isFunction(this.stateOptions)?this.stateOptions(t):this.stateOptions?r.clone(this.stateOptions):{}}getTransitionOptions(t){return r.isFunction(this.transitionOptions)?this.transitionOptions(t):this.transitionOptions?r.clone(this.transitionOptions):{}}}},function(t,e,n){t.exports={graphlib:n(5),layout:n(103),debug:n(125),util:{time:n(3).time,notime:n(3).notime},version:n(126)}},function(t,e,n){var i=n(91);t.exports={Graph:i.Graph,json:n(93),alg:n(94),version:i.version}},function(t,e,n){t.exports={Graph:n(22),version:n(92)}},function(t,e){t.exports="2.1.5"},function(t,e,n){var i=n(4),r=n(22);t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:function(t){return i.map(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),o={v:e};return i.isUndefined(n)||(o.value=n),i.isUndefined(r)||(o.parent=r),o})}(t),edges:function(t){return i.map(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return i.isUndefined(e.name)||(r.name=e.name),i.isUndefined(n)||(r.value=n),r})}(t)};i.isUndefined(t.graph())||(e.value=i.clone(t.graph()));return e},read:function(t){var e=new r(t.options).setGraph(t.value);return i.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),i.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}}},function(t,e,n){t.exports={components:n(95),dijkstra:n(36),dijkstraAll:n(96),findCycles:n(97),floydWarshall:n(98),isAcyclic:n(99),postorder:n(100),preorder:n(101),prim:n(102),tarjan:n(38),topsort:n(39)}},function(t,e,n){var i=n(4);t.exports=function(t){var e,n={},r=[];function o(r){i.has(n,r)||(n[r]=!0,e.push(r),i.each(t.successors(r),o),i.each(t.predecessors(r),o))}return i.each(t.nodes(),function(t){e=[],o(t),e.length&&r.push(e)}),r}},function(t,e,n){var i=n(36),r=n(4);t.exports=function(t,e,n){return r.transform(t.nodes(),function(r,o){r[o]=i(t,o,e,n)},{})}},function(t,e,n){var i=n(4),r=n(38);t.exports=function(t){return i.filter(r(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})}},function(t,e,n){var i=n(4);t.exports=function(t,e,n){return function(t,e,n){var i={},r=t.nodes();return r.forEach(function(t){i[t]={},i[t][t]={distance:0},r.forEach(function(e){t!==e&&(i[t][e]={distance:Number.POSITIVE_INFINITY})}),n(t).forEach(function(n){var r=n.v===t?n.w:n.v,o=e(n);i[t][r]={distance:o,predecessor:t}})}),r.forEach(function(t){var e=i[t];r.forEach(function(n){var o=i[n];r.forEach(function(n){var i=o[t],r=e[n],s=o[n],a=i.distance+r.distance;a<s.distance&&(s.distance=a,s.predecessor=r.predecessor)})})}),i}(t,e||r,n||function(e){return t.outEdges(e)})};var r=i.constant(1)},function(t,e,n){var i=n(39);t.exports=function(t){try{i(t)}catch(t){if(t instanceof i.CycleException)return!1;throw t}return!0}},function(t,e,n){var i=n(40);t.exports=function(t,e){return i(t,e,"post")}},function(t,e,n){var i=n(40);t.exports=function(t,e){return i(t,e,"pre")}},function(t,e,n){var i=n(4),r=n(22),o=n(37);t.exports=function(t,e){var n,s=new r,a={},u=new o;function l(t){var i=t.v===n?t.w:t.v,r=u.priority(i);if(void 0!==r){var o=e(t);o<r&&(a[i]=n,u.decrease(i,o))}}if(0===t.nodeCount())return s;i.each(t.nodes(),function(t){u.add(t,Number.POSITIVE_INFINITY),s.setNode(t)}),u.decrease(t.nodes()[0],0);var c=!1;for(;u.size()>0;){if(n=u.removeMin(),i.has(a,n))s.setEdge(n,a[n]);else{if(c)throw new Error("Input graph is not connected: "+t);c=!0}t.nodeEdges(n).forEach(l)}return s}},function(t,e,n){"use strict";var i=n(0),r=n(104),o=n(107),s=n(108),a=n(3).normalizeRanks,u=n(110),l=n(3).removeEmptyRanks,c=n(111),h=n(112),f=n(113),d=n(114),p=n(123),g=n(3),m=n(5).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?g.time:g.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return function(t){var e=new m({multigraph:!0,compound:!0}),n=T(t.graph());return e.setGraph(i.merge({},y,S(n,v),i.pick(n,b))),i.forEach(t.nodes(),function(n){var r=T(t.node(n));e.setNode(n,i.defaults(S(r,_),w)),e.setParent(n,t.parent(n))}),i.forEach(t.edges(),function(n){var r=T(t.edge(n));e.setEdge(n,i.merge({},k,S(r,x),i.pick(r,C)))}),e}(t)});n("  runLayout",function(){!function(t,e){e("    makeSpaceForEdgeLabels",function(){!function(t){var e=t.graph();e.ranksep/=2,i.forEach(t.edges(),function(n){var i=t.edge(n);i.minlen*=2,"c"!==i.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)})}(t)}),e("    removeSelfEdges",function(){!function(t){i.forEach(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}(t)}),e("    acyclic",function(){r.run(t)}),e("    nestingGraph.run",function(){c.run(t)}),e("    rank",function(){s(g.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){!function(t){i.forEach(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var i=t.node(e.v),r=t.node(e.w),o={rank:(r.rank-i.rank)/2+i.rank,e:e};g.addDummyNode(t,"edge-proxy",o,"_ep")}})}(t)}),e("    removeEmptyRanks",function(){l(t)}),e("    nestingGraph.cleanup",function(){c.cleanup(t)}),e("    normalizeRanks",function(){a(t)}),e("    assignRankMinMax",function(){!function(t){var e=0;i.forEach(t.nodes(),function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=i.max(e,r.maxRank))}),t.graph().maxRank=e}(t)}),e("    removeEdgeLabelProxies",function(){!function(t){i.forEach(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}(t)}),e("    normalize.run",function(){o.run(t)}),e("    parentDummyChains",function(){u(t)}),e("    addBorderSegments",function(){h(t)}),e("    order",function(){d(t)}),e("    insertSelfEdges",function(){!function(t){var e=g.buildLayerMatrix(t);i.forEach(e,function(e){var n=0;i.forEach(e,function(e,r){var o=t.node(e);o.order=r+n,i.forEach(o.selfEdges,function(e){g.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:r+ ++n,e:e.e,label:e.label},"_se")}),delete o.selfEdges})})}(t)}),e("    adjustCoordinateSystem",function(){f.adjust(t)}),e("    position",function(){p(t)}),e("    positionSelfEdges",function(){!function(t){i.forEach(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var i=t.node(n.e.v),r=i.x+i.width/2,o=i.y,s=n.x-r,a=i.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:r+2*s/3,y:o-a},{x:r+5*s/6,y:o-a},{x:r+s,y:o},{x:r+5*s/6,y:o+a},{x:r+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})}(t)}),e("    removeBorderNodes",function(){!function(t){i.forEach(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),o=t.node(n.borderBottom),s=t.node(i.last(n.borderLeft)),a=t.node(i.last(n.borderRight));n.width=Math.abs(a.x-s.x),n.height=Math.abs(o.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}}),i.forEach(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}(t)}),e("    normalize.undo",function(){o.undo(t)}),e("    fixupEdgeLabelCoords",function(){!function(t){i.forEach(t.edges(),function(e){var n=t.edge(e);if(i.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(t)}),e("    undoCoordinateSystem",function(){f.undo(t)}),e("    translateGraph",function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,o=0,s=t.graph(),a=s.marginx||0,u=s.marginy||0;function l(t){var i=t.x,s=t.y,a=t.width,u=t.height;e=Math.min(e,i-a/2),n=Math.max(n,i+a/2),r=Math.min(r,s-u/2),o=Math.max(o,s+u/2)}i.forEach(t.nodes(),function(e){l(t.node(e))}),i.forEach(t.edges(),function(e){var n=t.edge(e);i.has(n,"x")&&l(n)}),e-=a,r-=u,i.forEach(t.nodes(),function(n){var i=t.node(n);i.x-=e,i.y-=r}),i.forEach(t.edges(),function(n){var o=t.edge(n);i.forEach(o.points,function(t){t.x-=e,t.y-=r}),i.has(o,"x")&&(o.x-=e),i.has(o,"y")&&(o.y-=r)}),s.width=n-e+a,s.height=o-r+u}(t)}),e("    assignNodeIntersects",function(){!function(t){i.forEach(t.edges(),function(e){var n,i,r=t.edge(e),o=t.node(e.v),s=t.node(e.w);r.points?(n=r.points[0],i=r.points[r.points.length-1]):(r.points=[],n=s,i=o),r.points.unshift(g.intersectRect(o,n)),r.points.push(g.intersectRect(s,i))})}(t)}),e("    reversePoints",function(){!function(t){i.forEach(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}(t)}),e("    acyclic.undo",function(){r.undo(t)})}(e,n)}),n("  updateInputGraph",function(){!function(t,e){i.forEach(t.nodes(),function(n){var i=t.node(n),r=e.node(n);i&&(i.x=r.x,i.y=r.y,e.children(n).length&&(i.width=r.width,i.height=r.height))}),i.forEach(t.edges(),function(n){var r=t.edge(n),o=e.edge(n);r.points=o.points,i.has(o,"x")&&(r.x=o.x,r.y=o.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)})})};var v=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],_=["width","height"],w={width:0,height:0},x=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},C=["labelpos"];function S(t,e){return i.mapValues(i.pick(t,e),Number)}function T(t){var e={};return i.forEach(t,function(t,n){e[n.toLowerCase()]=t}),e}},function(t,e,n){"use strict";var i=n(0),r=n(105);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?r(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},r={};return i.forEach(t.nodes(),function o(s){i.has(r,s)||(r[s]=!0,n[s]=!0,i.forEach(t.outEdges(s),function(t){i.has(n,t.w)?e.push(t):o(t.w)}),delete n[s])}),e}(t);i.forEach(e,function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,i.uniqueId("rev"))})},undo:function(t){i.forEach(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var i=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,i)}})}}},function(t,e,n){var i=n(0),r=n(5).Graph,o=n(106);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new r,s=0,a=0;i.forEach(t.nodes(),function(t){n.setNode(t,{v:t,in:0,out:0})}),i.forEach(t.edges(),function(t){var i=n.edge(t.v,t.w)||0,r=e(t),o=i+r;n.setEdge(t.v,t.w,o),a=Math.max(a,n.node(t.v).out+=r),s=Math.max(s,n.node(t.w).in+=r)});var l=i.range(a+s+3).map(function(){return new o}),c=s+1;return i.forEach(n.nodes(),function(t){u(l,c,n.node(t))}),{graph:n,buckets:l,zeroIdx:c}}(t,e||s),l=function(t,e,n){var i,r=[],o=e[e.length-1],s=e[0];for(;t.nodeCount();){for(;i=s.dequeue();)a(t,e,n,i);for(;i=o.dequeue();)a(t,e,n,i);if(t.nodeCount())for(var u=e.length-2;u>0;--u)if(i=e[u].dequeue()){r=r.concat(a(t,e,n,i,!0));break}}return r}(n.graph,n.buckets,n.zeroIdx);return i.flatten(i.map(l,function(e){return t.outEdges(e.v,e.w)}),!0)};var s=i.constant(1);function a(t,e,n,r,o){var s=o?[]:void 0;return i.forEach(t.inEdges(r.v),function(i){var r=t.edge(i),a=t.node(i.v);o&&s.push({v:i.v,w:i.w}),a.out-=r,u(e,n,a)}),i.forEach(t.outEdges(r.v),function(i){var r=t.edge(i),o=i.w,s=t.node(o);s.in-=r,u(e,n,s)}),t.removeNode(r.v),s}function u(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},function(t,e){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function i(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function r(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=n,n.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return i(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&i(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},n.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,r)),n=n._prev;return"["+t.join(", ")+"]"}},function(t,e,n){"use strict";var i=n(0),r=n(3);t.exports={run:function(t){t.graph().dummyChains=[],i.forEach(t.edges(),function(e){!function(t,e){var n,i,o,s=e.v,a=t.node(s).rank,u=e.w,l=t.node(u).rank,c=e.name,h=t.edge(e),f=h.labelRank;if(l===a+1)return;for(t.removeEdge(e),o=0,++a;a<l;++o,++a)h.points=[],i={width:0,height:0,edgeLabel:h,edgeObj:e,rank:a},n=r.addDummyNode(t,"edge",i,"_d"),a===f&&(i.width=h.width,i.height=h.height,i.dummy="edge-label",i.labelpos=h.labelpos),t.setEdge(s,n,{weight:h.weight},c),0===o&&t.graph().dummyChains.push(n),s=n;t.setEdge(s,u,{weight:h.weight},c)}(t,e)})},undo:function(t){i.forEach(t.graph().dummyChains,function(e){var n,i=t.node(e),r=i.edgeLabel;for(t.setEdge(i.edgeObj,r);i.dummy;)n=t.successors(e)[0],t.removeNode(e),r.points.push({x:i.x,y:i.y}),"edge-label"===i.dummy&&(r.x=i.x,r.y=i.y,r.width=i.width,r.height=i.height),e=n,i=t.node(e)})}}},function(t,e,n){"use strict";var i=n(17).longestPath,r=n(41),o=n(109);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":a(t);break;case"tight-tree":!function(t){i(t),r(t)}(t);break;case"longest-path":s(t);break;default:a(t)}};var s=i;function a(t){o(t)}},function(t,e,n){"use strict";var i=n(0),r=n(41),o=n(17).slack,s=n(17).longestPath,a=n(5).alg.preorder,u=n(5).alg.postorder,l=n(3).simplify;function c(t){t=l(t),s(t);var e,n=r(t);for(d(n),h(n,t);e=p(n);)m(n,t,e,g(n,t,e))}function h(t,e){var n=u(t,t.nodes());n=n.slice(0,n.length-1),i.forEach(n,function(n){!function(t,e,n){var i=t.node(n).parent;t.edge(n,i).cutvalue=f(t,e,n)}(t,e,n)})}function f(t,e,n){var r=t.node(n).parent,o=!0,s=e.edge(n,r),a=0;return s||(o=!1,s=e.edge(r,n)),a=s.weight,i.forEach(e.nodeEdges(n),function(i){var s,u,l=i.v===n,c=l?i.w:i.v;if(c!==r){var h=l===o,f=e.edge(i).weight;if(a+=h?f:-f,s=n,u=c,t.hasEdge(s,u)){var d=t.edge(n,c).cutvalue;a+=h?-d:d}}}),a}function d(t,e){arguments.length<2&&(e=t.nodes()[0]),function t(e,n,r,o,s){var a=r,u=e.node(o);n[o]=!0;i.forEach(e.neighbors(o),function(s){i.has(n,s)||(r=t(e,n,r,s,o))});u.low=a;u.lim=r++;s?u.parent=s:delete u.parent;return r}(t,{},1,e)}function p(t){return i.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function g(t,e,n){var r=n.v,s=n.w;e.hasEdge(r,s)||(r=n.w,s=n.v);var a=t.node(r),u=t.node(s),l=a,c=!1;a.lim>u.lim&&(l=u,c=!0);var h=i.filter(e.edges(),function(e){return c===v(t,t.node(e.v),l)&&c!==v(t,t.node(e.w),l)});return i.minBy(h,function(t){return o(e,t)})}function m(t,e,n,r){var o=n.v,s=n.w;t.removeEdge(o,s),t.setEdge(r.v,r.w,{}),d(t),h(t,e),function(t,e){var n=i.find(t.nodes(),function(t){return!e.node(t).parent}),r=a(t,n);r=r.slice(1),i.forEach(r,function(n){var i=t.node(n).parent,r=e.edge(n,i),o=!1;r||(r=e.edge(i,n),o=!0),e.node(n).rank=e.node(i).rank+(o?r.minlen:-r.minlen)})}(t,e)}function v(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=c,c.initLowLimValues=d,c.initCutValues=h,c.calcCutValue=f,c.leaveEdge=p,c.enterEdge=g,c.exchangeEdges=m},function(t,e,n){var i=n(0);t.exports=function(t){var e=function(t){var e={},n=0;return i.forEach(t.children(),function r(o){var s=n;i.forEach(t.children(o),r),e[o]={low:s,lim:n++}}),e}(t);i.forEach(t.graph().dummyChains,function(n){for(var i=t.node(n),r=i.edgeObj,o=function(t,e,n,i){var r,o,s=[],a=[],u=Math.min(e[n].low,e[i].low),l=Math.max(e[n].lim,e[i].lim);r=n;do{r=t.parent(r),s.push(r)}while(r&&(e[r].low>u||l>e[r].lim));o=r,r=i;for(;(r=t.parent(r))!==o;)a.push(r);return{path:s.concat(a.reverse()),lca:o}}(t,e,r.v,r.w),s=o.path,a=o.lca,u=0,l=s[u],c=!0;n!==r.w;){if(i=t.node(n),c){for(;(l=s[u])!==a&&t.node(l).maxRank<i.rank;)u++;l===a&&(c=!1)}if(!c){for(;u<s.length-1&&t.node(l=s[u+1]).minRank<=i.rank;)u++;l=s[u]}t.setParent(n,l),n=t.successors(n)[0]}})}},function(t,e,n){var i=n(0),r=n(3);t.exports={run:function(t){var e=r.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};return i.forEach(t.children(),function(n){!function n(r,o){var s=t.children(r);s&&s.length&&i.forEach(s,function(t){n(t,o+1)}),e[r]=o}(n,1)}),e}(t),o=i.max(i.values(n))-1,s=2*o+1;t.graph().nestingRoot=e,i.forEach(t.edges(),function(e){t.edge(e).minlen*=s});var a=function(t){return i.reduce(t.edges(),function(e,n){return e+t.edge(n).weight},0)}(t)+1;i.forEach(t.children(),function(u){!function t(e,n,o,s,a,u,l){var c=e.children(l);if(!c.length)return void(l!==n&&e.setEdge(n,l,{weight:0,minlen:o}));var h=r.addBorderNode(e,"_bt"),f=r.addBorderNode(e,"_bb"),d=e.node(l);e.setParent(h,l);d.borderTop=h;e.setParent(f,l);d.borderBottom=f;i.forEach(c,function(i){t(e,n,o,s,a,u,i);var r=e.node(i),c=r.borderTop?r.borderTop:i,d=r.borderBottom?r.borderBottom:i,p=r.borderTop?s:2*s,g=c!==d?1:a-u[l]+1;e.setEdge(h,c,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(d,f,{weight:p,minlen:g,nestingEdge:!0})});e.parent(l)||e.setEdge(n,h,{weight:0,minlen:a+u[l]})}(t,e,s,a,o,n,u)}),t.graph().nodeRankFactor=s},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,i.forEach(t.edges(),function(e){var n=t.edge(e);n.nestingEdge&&t.removeEdge(e)})}}},function(t,e,n){var i=n(0),r=n(3);function o(t,e,n,i,o,s){var a={width:0,height:0,rank:s,borderType:e},u=o[e][s-1],l=r.addDummyNode(t,"border",a,n);o[e][s]=l,t.setParent(l,i),u&&t.setEdge(u,l,{weight:1})}t.exports=function(t){i.forEach(t.children(),function e(n){var r=t.children(n),s=t.node(n);r.length&&i.forEach(r,e);if(i.has(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var a=s.minRank,u=s.maxRank+1;a<u;++a)o(t,"borderLeft","_bl",n,s,a),o(t,"borderRight","_br",n,s,a)}})}},function(t,e,n){"use strict";var i=n(0);function r(t){i.forEach(t.nodes(),function(e){o(t.node(e))}),i.forEach(t.edges(),function(e){o(t.edge(e))})}function o(t){var e=t.width;t.width=t.height,t.height=e}function s(t){t.y=-t.y}function a(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||r(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){i.forEach(t.nodes(),function(e){s(t.node(e))}),i.forEach(t.edges(),function(e){var n=t.edge(e);i.forEach(n.points,s),i.has(n,"y")&&s(n)})}(t);"lr"!==e&&"rl"!==e||(!function(t){i.forEach(t.nodes(),function(e){a(t.node(e))}),i.forEach(t.edges(),function(e){var n=t.edge(e);i.forEach(n.points,a),i.has(n,"x")&&a(n)})}(t),r(t))}}},function(t,e,n){"use strict";var i=n(0),r=n(115),o=n(116),s=n(117),a=n(121),u=n(122),l=n(5).Graph,c=n(3);function h(t,e,n){return i.map(e,function(e){return a(t,e,n)})}function f(t,e){var n=new l;i.forEach(t,function(t){var r=t.graph().root,o=s(t,r,n,e);i.forEach(o.vs,function(e,n){t.node(e).order=n}),u(t,n,o.vs)})}function d(t,e){i.forEach(e,function(e){i.forEach(e,function(e,n){t.node(e).order=n})})}t.exports=function(t){var e=c.maxRank(t),n=h(t,i.range(1,e+1),"inEdges"),s=h(t,i.range(e-1,-1,-1),"outEdges"),a=r(t);d(t,a);for(var u,l=Number.POSITIVE_INFINITY,p=0,g=0;g<4;++p,++g){f(p%2?n:s,p%4>=2),a=c.buildLayerMatrix(t);var m=o(t,a);m<l&&(g=0,u=i.cloneDeep(a),l=m)}d(t,u)}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){var e={},n=i.filter(t.nodes(),function(e){return!t.children(e).length}),r=i.max(i.map(n,function(e){return t.node(e).rank})),o=i.map(i.range(r+1),function(){return[]});var s=i.sortBy(n,function(e){return t.node(e).rank});return i.forEach(s,function n(r){if(!i.has(e,r)){e[r]=!0;var s=t.node(r);o[s.rank].push(r),i.forEach(t.successors(r),n)}}),o}},function(t,e,n){"use strict";var i=n(0);function r(t,e,n){for(var r=i.zipObject(n,i.map(n,function(t,e){return e})),o=i.flatten(i.map(e,function(e){return i.chain(t.outEdges(e)).map(function(e){return{pos:r[e.w],weight:t.edge(e).weight}}).sortBy("pos").value()}),!0),s=1;s<n.length;)s<<=1;var a=2*s-1;s-=1;var u=i.map(new Array(a),function(){return 0}),l=0;return i.forEach(o.forEach(function(t){var e=t.pos+s;u[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=u[e+1]),u[e=e-1>>1]+=t.weight;l+=t.weight*n})),l}t.exports=function(t,e){for(var n=0,i=1;i<e.length;++i)n+=r(t,e[i-1],e[i]);return n}},function(t,e,n){var i=n(0),r=n(118),o=n(119),s=n(120);t.exports=function t(e,n,a,u){var l=e.children(n),c=e.node(n),h=c?c.borderLeft:void 0,f=c?c.borderRight:void 0,d={};h&&(l=i.filter(l,function(t){return t!==h&&t!==f}));var p=r(e,l);i.forEach(p,function(n){if(e.children(n.v).length){var r=t(e,n.v,a,u);d[n.v]=r,i.has(r,"barycenter")&&(o=n,s=r,i.isUndefined(o.barycenter)?(o.barycenter=s.barycenter,o.weight=s.weight):(o.barycenter=(o.barycenter*o.weight+s.barycenter*s.weight)/(o.weight+s.weight),o.weight+=s.weight))}var o,s});var g=o(p,a);!function(t,e){i.forEach(t,function(t){t.vs=i.flatten(t.vs.map(function(t){return e[t]?e[t].vs:t}),!0)})}(g,d);var m=s(g,u);if(h&&(m.vs=i.flatten([h,m.vs,f],!0),e.predecessors(h).length)){var v=e.node(e.predecessors(h)[0]),y=e.node(e.predecessors(f)[0]);i.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+v.order+y.order)/(m.weight+2),m.weight+=2}return m}},function(t,e,n){var i=n(0);t.exports=function(t,e){return i.map(e,function(e){var n=t.inEdges(e);if(n.length){var r=i.reduce(n,function(e,n){var i=t.edge(n),r=t.node(n.v);return{sum:e.sum+i.weight*r.order,weight:e.weight+i.weight}},{sum:0,weight:0});return{v:e,barycenter:r.sum/r.weight,weight:r.weight}}return{v:e}})}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e){var n={};return i.forEach(t,function(t,e){var r=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};i.isUndefined(t.barycenter)||(r.barycenter=t.barycenter,r.weight=t.weight)}),i.forEach(e.edges(),function(t){var e=n[t.v],r=n[t.w];i.isUndefined(e)||i.isUndefined(r)||(r.indegree++,e.out.push(n[t.w]))}),function(t){var e=[];function n(t){return function(e){var n,r,o,s;e.merged||(i.isUndefined(e.barycenter)||i.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&(r=e,o=0,s=0,(n=t).weight&&(o+=n.barycenter*n.weight,s+=n.weight),r.weight&&(o+=r.barycenter*r.weight,s+=r.weight),n.vs=r.vs.concat(n.vs),n.barycenter=o/s,n.weight=s,n.i=Math.min(r.i,n.i),r.merged=!0)}}function r(e){return function(n){n.in.push(e),0===--n.indegree&&t.push(n)}}for(;t.length;){var o=t.pop();e.push(o),i.forEach(o.in.reverse(),n(o)),i.forEach(o.out,r(o))}return i.chain(e).filter(function(t){return!t.merged}).map(function(t){return i.pick(t,["vs","i","barycenter","weight"])}).value()}(i.filter(n,function(t){return!t.indegree}))}},function(t,e,n){var i=n(0),r=n(3);function o(t,e,n){for(var r;e.length&&(r=i.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}t.exports=function(t,e){var n=r.partition(t,function(t){return i.has(t,"barycenter")}),s=n.lhs,a=i.sortBy(n.rhs,function(t){return-t.i}),u=[],l=0,c=0,h=0;s.sort((f=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:f?e.i-t.i:t.i-e.i})),h=o(u,a,h),i.forEach(s,function(t){h+=t.vs.length,u.push(t.vs),l+=t.barycenter*t.weight,c+=t.weight,h=o(u,a,h)});var f;var d={vs:i.flatten(u,!0)};c&&(d.barycenter=l/c,d.weight=c);return d}},function(t,e,n){var i=n(0),r=n(5).Graph;t.exports=function(t,e,n){var o=function(t){var e;for(;t.hasNode(e=i.uniqueId("_root")););return e}(t),s=new r({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(e){return t.node(e)});return i.forEach(t.nodes(),function(r){var a=t.node(r),u=t.parent(r);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(s.setNode(r),s.setParent(r,u||o),i.forEach(t[n](r),function(e){var n=e.v===r?e.w:e.v,o=s.edge(n,r),a=i.isUndefined(o)?0:o.weight;s.setEdge(n,r,{weight:t.edge(e).weight+a})}),i.has(a,"minRank")&&s.setNode(r,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),s}},function(t,e,n){var i=n(0);t.exports=function(t,e,n){var r,o={};i.forEach(n,function(n){for(var i,s,a=t.parent(n);a;){if((i=t.parent(a))?(s=o[i],o[i]=a):(s=r,r=a),s&&s!==a)return void e.setEdge(s,a);a=i}})}},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(124).positionX;t.exports=function(t){(function(t){var e=r.buildLayerMatrix(t),n=t.graph().ranksep,o=0;i.forEach(e,function(e){var r=i.max(i.map(e,function(e){return t.node(e).height}));i.forEach(e,function(e){t.node(e).y=o+r/2}),o+=r+n})})(t=r.asNonCompoundGraph(t)),i.forEach(o(t),function(e,n){t.node(n).x=e})}},function(t,e,n){"use strict";var i=n(0),r=n(5).Graph,o=n(3);function s(t,e){var n={};return i.reduce(e,function(e,r){var o=0,s=0,a=e.length,l=i.last(r);return i.forEach(r,function(e,c){var h=function(t,e){if(t.node(e).dummy)return i.find(t.predecessors(e),function(e){return t.node(e).dummy})}(t,e),f=h?t.node(h).order:a;(h||e===l)&&(i.forEach(r.slice(s,c+1),function(e){i.forEach(t.predecessors(e),function(i){var r=t.node(i),s=r.order;!(s<o||f<s)||r.dummy&&t.node(e).dummy||u(n,i,e)})}),s=c+1,o=f)}),r}),n}function a(t,e){var n={};function r(e,r,o,s,a){var l;i.forEach(i.range(r,o),function(r){l=e[r],t.node(l).dummy&&i.forEach(t.predecessors(l),function(e){var i=t.node(e);i.dummy&&(i.order<s||i.order>a)&&u(n,e,l)})})}return i.reduce(e,function(e,n){var o,s=-1,a=0;return i.forEach(n,function(i,u){if("border"===t.node(i).dummy){var l=t.predecessors(i);l.length&&(o=t.node(l[0]).order,r(n,a,u,s,o),a=u,s=o)}r(n,a,n.length,o,e.length)}),n}),n}function u(t,e,n){if(e>n){var i=e;e=n,n=i}var r=t[e];r||(t[e]=r={}),r[n]=!0}function l(t,e,n){if(e>n){var r=e;e=n,n=r}return i.has(t[e],n)}function c(t,e,n,r){var o={},s={},a={};return i.forEach(e,function(t){i.forEach(t,function(t,e){o[t]=t,s[t]=t,a[t]=e})}),i.forEach(e,function(t){var e=-1;i.forEach(t,function(t){var u=r(t);if(u.length)for(var c=((u=i.sortBy(u,function(t){return a[t]})).length-1)/2,h=Math.floor(c),f=Math.ceil(c);h<=f;++h){var d=u[h];s[t]===t&&e<a[d]&&!l(n,t,d)&&(s[d]=t,s[t]=o[t]=o[d],e=a[d])}})}),{root:o,align:s}}function h(t,e,n,o,s){var a={},u=function(t,e,n,o){var s=new r,a=t.graph(),u=function(t,e,n){return function(r,o,s){var a,u=r.node(o),l=r.node(s),c=0;if(c+=u.width/2,i.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=-u.width/2;break;case"r":a=u.width/2}if(a&&(c+=n?a:-a),a=0,c+=(u.dummy?e:t)/2,c+=(l.dummy?e:t)/2,c+=l.width/2,i.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":a=l.width/2;break;case"r":a=-l.width/2}return a&&(c+=n?a:-a),a=0,c}}(a.nodesep,a.edgesep,o);return i.forEach(e,function(e){var r;i.forEach(e,function(e){var i=n[e];if(s.setNode(i),r){var o=n[r],a=s.edge(o,i);s.setEdge(o,i,Math.max(u(t,e,r),a||0))}r=e})}),s}(t,e,n,s),l=s?"borderLeft":"borderRight";function c(t,e){for(var n=u.nodes(),i=n.pop(),r={};i;)r[i]?t(i):(r[i]=!0,n.push(i),n=n.concat(e(i))),i=n.pop()}return c(function(t){a[t]=u.inEdges(t).reduce(function(t,e){return Math.max(t,a[e.v]+u.edge(e))},0)},i.bind(u.predecessors,u)),c(function(e){var n=u.outEdges(e).reduce(function(t,e){return Math.min(t,a[e.w]-u.edge(e))},Number.POSITIVE_INFINITY),i=t.node(e);n!==Number.POSITIVE_INFINITY&&i.borderType!==l&&(a[e]=Math.max(a[e],n))},i.bind(u.successors,u)),i.forEach(o,function(t){a[t]=a[n[t]]}),a}function f(t,e){return i.minBy(i.values(e),function(e){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return i.forIn(e,function(e,i){var o=function(t,e){return t.node(e).width}(t,i)/2;n=Math.max(e+o,n),r=Math.min(e-o,r)}),n-r})}function d(t,e){var n=i.values(e),r=i.min(n),o=i.max(n);i.forEach(["u","d"],function(n){i.forEach(["l","r"],function(s){var a,u=n+s,l=t[u];if(l!==e){var c=i.values(l);(a="l"===s?r-i.min(c):o-i.max(c))&&(t[u]=i.mapValues(l,function(t){return t+a}))}})})}function p(t,e){return i.mapValues(t.ul,function(n,r){if(e)return t[e.toLowerCase()][r];var o=i.sortBy(i.map(t,r));return(o[1]+o[2])/2})}t.exports={positionX:function(t){var e,n=o.buildLayerMatrix(t),r=i.merge(s(t,n),a(t,n)),u={};i.forEach(["u","d"],function(o){e="u"===o?n:i.values(n).reverse(),i.forEach(["l","r"],function(n){"r"===n&&(e=i.map(e,function(t){return i.values(t).reverse()}));var s=i.bind("u"===o?t.predecessors:t.successors,t),a=c(t,e,r,s),l=h(t,e,a.root,a.align,"r"===n);"r"===n&&(l=i.mapValues(l,function(t){return-t})),u[o+n]=l})});var l=f(t,u);return d(u,l),p(u,t.graph().align)},findType1Conflicts:s,findType2Conflicts:a,addConflict:u,hasConflict:l,verticalAlignment:c,horizontalCompaction:h,alignCoordinates:d,findSmallestWidthAlignment:f,balance:p}},function(t,e,n){var i=n(0),r=n(3),o=n(5).Graph;t.exports={debugOrdering:function(t){var e=r.buildLayerMatrix(t),n=new o({compound:!0,multigraph:!0}).setGraph({});return i.forEach(t.nodes(),function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)}),i.forEach(t.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),i.forEach(e,function(t,e){var r="layer"+e;n.setNode(r,{rank:"same"}),i.reduce(t,function(t,e){return n.setEdge(t,e,{style:"invis"}),e})}),n}}},function(t,e){t.exports="0.8.2"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15);n(23),n(128),n(129),i.widget("interstate.touchscreen_layer",{options:{highlightTouches:!0,paper:!1},_create:function(){this._super(),this.element.addClass("hasTouchscreenLayer"),this.paper=this.option("paper"),this.option("highlightTouches")&&this.element.screen_touches({paper:this.paper}),this.element.svg_path({paper:this.paper,pathAttributes:{"stroke-dasharray":"5, 5, 1, 5"}})},_destroy:function(){this.element.removeClass("hasTouchscreenLayer"),this._super(),i(window).off("resize.touchscreen_layer"),this.option("highlightTouches")&&this.element.screen_touches("destroy"),this.element.svg_path("destroy"),this.paper.clear(),this.raphaelDiv.remove()},addPath:function(t){this.element.svg_path("addPathToPaper",t)},removePath:function(t){this.element.svg_path("removePathFromPaper",t)},addTouchCluster:function(t){},removeTouchCluster:function(t){},clear:function(){this.element.screen_touches("clear")}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(15);n(23),r.widget("interstate.screen_touches",{options:{paper:!1,radius:20,touchStartAnimationDuration:100,touchEndAnimationDuration:200,defaultFill:"#CCCCCC",defaultStroke:"#999999",strokeWidth:"3px",clusterStrokeWidth:6},_create:function(){this.touchColors={},this._super(),this._addToPaper(),this.element.addClass("simpleScreenTouches")},_destroy:function(){this._super(),this._removeFromPaper(),this.element.removeClass("simpleScreenTouches")},clear:function(){var t=this;i.each(this.touchDisplays,function(e,n){i.each(e,function(t){t&&t.remove&&t.remove()}),delete t.touchDisplays[n]})},_addToPaper:function(){var t=this.option("paper"),e=this.touchDisplays={},n=(this.option("radius"),this.option("defaultFill")),r=this.option("defaultStroke");this.element.on("touchstart.simple_touch_view",i.bind(function(o){var s=this,a=o.originalEvent,u=null;a.touchPath&&(u=i.map(a.touchPath,function(t){var e=t.type,n=t.touch,i=n.pageX,r=n.pageY;return("touchstart"===e?"M":"L")+i+","+r}).join("")),i.each(a.changedTouches,function(i){var o=i.identifier,a=i.pageX,l=i.pageY,c=n,h=r;e[o]={circle:t.circle(5*s.option("radius")/4).center(a,l).attr({opacity:.2,fill:c,stroke:h,"stroke-width":s.option("strokeWidth")}),clusterStrokes:[],pathKnown:!!u,path:t.path("M"+a+","+l).attr({"stroke-width":8,stroke:c,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"}),animPath:t.path(u||"M0,0").attr({opacity:.2,stroke:c,"stroke-width":2,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"}),startCircle:t.circle(0).move(a,l).attr({fill:c,stroke:c,"fill-opacity":.1,"stroke-width":s.option("strokeWidth"),opacity:0})},e[o].circle.animate({ease:"<>",duration:s.option("touchStartAnimationDuration")}).radius(s.option("radius")).opacity(1),e[o].startCircle.animate({ease:"<>",duration:s.option("touchStartAnimationDuration")}).radius(s.option("radius")).opacity(1),s._updateColor(o)})},this)).on("touchmove.simple_touch_view",i.bind(function(t){var n=t.originalEvent;i.each(n.changedTouches,function(t){var n=t.identifier,r=t.pageX,o=t.pageY,s=e[n],a=s.path,u=s.clusterStrokes;s.circle.center(r,o),a.plot(a.attr("d")+" L "+r+","+o),i.each(u,function(t){t.center(r,o)})})},this)).on("touchend.simple_touch_view touchcancel.simple_touch_view",i.bind(function(t){var n=t.originalEvent;i.each(n.changedTouches,function(t){var n=t.identifier,r=t.pageX,o=t.pageY,s=e[n],a=s.circle,u=s.path,l=s.animPath,c=u.length(),h=s.startCircle,f=s.clusterStrokes,d=a.attr("r");s.animatingRemoval=!0,u.plot(u.attr("d")+" L "+r+", "+o),s.pathKnown||l.attr("path",u.attr("path"));var p=Math.min(Math.max(200,c/3),900),g=(new Date).getTime(),m=g+p,v=u.pointAt(Math.min(5,.01*c)),y=u.pointAt(Math.max(c-5,.99*c));l.attr({"stroke-width":u.attr("stroke-width"),opacity:1}).animate().opacity(.2),a.attr({cx:r,cy:o}).animate({duration:p,ease:"<>"}).center(y.x,y.y).radius(2*d/3).opacity(0).once(1,function(){a.remove()}),i.each(f,function(t){t.center(r,o).animate({duration:p,ease:"<>"}).center(y.x,y.y).radius(2*t.attr("r")/3).opacity(0).once(1,function(){t.remove()})}),h.animate({duration:p,ease:"<>"}).center(v.x,v.y).radius(1.1*h.attr("r")).opacity(0).once(1,function(){h.remove()}),u.attr({opacity:.5}).animate({duration:p,ease:"<>"}).opacity(0).once(1,function(){u.remove()});var b=function(){var t=(new Date).getTime();if(t<=m){var e=(t-g)/p;u.pointAt(e*c);requestAnimationFrame(b)}else l.remove()};requestAnimationFrame(b),b(),delete e[n]})},this))},_removeFromPaper:function(){r(window).off(".simple_touch_view")},_updateColor:function(t){var e=this,n=this.touchColors[t],r=this.touchDisplays[t];if(r&&!r.animatingRemoval){var o=r.circle,s=r.path,a=r.animPath,u=r.startCircle,l=r.clusterStrokes,c=this.option("paper");i.map(l,function(t){return t.attr("stroke")}),i.map(n,"stroke");if(n&&n.length>0){var h=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}(n,function(t){return t.claimed});if(h>=0){var f=n[h].fill,d=n[h].stroke;o.attr({fill:f,stroke:d}),s.attr({stroke:f}),a.attr({stroke:f}),u.attr({stroke:f,fill:f}),i.each(l,function(t,e){t.remove()}),l.splice(0,l.length)}else{var p=this.option("clusterStrokeWidth"),g={};i.each(n,function(t,n){var i=parseInt(o.attr("r"))+p*(parseInt(n)+0);if(t.circle)t.circle.animate({duration:e.option("touchStartAnimationDuration"),ease:"<>"}).radius(i);else{var r=t.circle=c.circle(o.attr("cx"),o.attr("cy"),5*i/4).attr({fill:"none",stroke:t.fill,"stroke-width":p,opacity:.2});r.animate({duration:e.option("touchStartAnimationDuration"),ease:"<>"}).radius(i).opacity(1),l.push(r)}t.circle.was_found=g});var m=[];i.each(l,function(t,e){t.was_found===g?delete t.was_found:(t.remove(),m.unshift(e))}),i.each(m,function(t){l.splice(t,1)})}}else{var v=this.option("defaultFill"),y=this.option("defaultStroke");o.attr({fill:v,stroke:y}),s.attr({stroke:v}),a.attr({stroke:v}),u.attr({stroke:v,fill:v})}}},setTouchColor:function(t,e,n,r,o){var s,a=this.touchColors[t];i.each(a,function(t){t.cluster===e&&(s=t)}),s?i.extend(s,{fill:n,stroke:r,claimed:o}):(s={cluster:e,fill:n,stroke:r,claimed:o,circle:!1},a?a.push(s):a=this.touchColors[t]=[s]),i.defer(i.bind(this._updateColor,this,t))},unsetTouchColor:function(t,e,n){var r=this.touchColors[t],o=[];i.each(r,function(t,n){t.cluster===e&&(t.circle&&(t.circle.remove(),delete t.circle),o.unshift(n))}),i.each(o,function(t){r.splice(t,1)}),i.defer(i.bind(this._updateColor,this,t))}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),r=n(14),o=n(2);n(23),i.widget("interstate.svg_path",{options:{cluster:!1,paper:!1,defaultPathAttributes:{fill:"#888","fill-opacity":.05,stroke:"#EEE","stroke-width":2,"stroke-dasharray":"5, 5, 2, 5"}},_create:function(){this._super(),this.paths=[]},_destroy:function(){this._super(),this.clear()},_getDrawListener:function(t,e){var n=this.option("paper"),i=o.extend({},this.option("defaultPathAttributes"),e),s=n.path("M0,0").attr(i);return r.liven(function(){var e=t.toString();e||(e="M0,0"),s.plot(e)},{context:this,on_destroy:function(){s.remove()}})},addPathToPaper:function(t,e){for(var n=0,i=this.paths.length;n<i;n++)if(this.paths[n].path===t)return;this.paths.push({path:t,draw_fn:this._getDrawListener(t,e)})},removePathFromPaper:function(t){for(var e,n=0,i=this.paths.length;n<i;n++)if((e=this.paths[n]).path===t)return e.draw_fn.destroy(),void this.paths.splice(n,1)},clear:function(){for(var t=this.paths.length-1;t>=0;t--)this.paths[t].draw_fn.destroy();this.paths.splice(0,this.paths.length)}})},function(t,e,n){var i,r,o;r="undefined"!==typeof window?window:this,o=function(t,e){var n=("undefined"!==typeof this?this:t).SVG=function(t){if(n.supported)return t=new n.Doc(t),n.parser.draw||n.prepare(),t};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.com/svgjs",n.supported=!!e.createElementNS&&!!e.createElementNS(n.ns,"svg").createSVGRect,!n.supported)return!1;n.did=1e3,n.eid=function(t){return"Svgjs"+c(t)+n.did++},n.create=function(t){var n=e.createElementNS(this.ns,t);return n.setAttribute("id",this.eid(t)),n},n.extend=function(){var t,e,i,r;for(e=(t=[].slice.call(arguments)).pop(),r=t.length-1;r>=0;r--)if(t[r])for(i in e)t[r].prototype[i]=e[i];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,n.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&n.extend(e,t.extend),t.construct&&n.extend(t.parent||n.Container,t.construct),e},n.adopt=function(e){return e?e.instance?e.instance:((i="svg"==e.nodeName?e.parentNode instanceof t.SVGElement?new n.Nested:new n.Doc:"linearGradient"==e.nodeName?new n.Gradient("linear"):"radialGradient"==e.nodeName?new n.Gradient("radial"):n[c(e.nodeName)]?new(n[c(e.nodeName)]):new n.Element(e)).type=e.nodeName,i.node=e,e.instance=i,i instanceof n.Doc&&i.namespace().defs(),i.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),i):null;var i},n.prepare=function(){var t=e.getElementsByTagName("body")[0],i=(t?new n.Doc(t):n.adopt(e.documentElement).nested()).size(2,0);n.parser={body:t||e.documentElement,draw:i.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:i.polyline().node,path:i.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},e.addEventListener("DOMContentLoaded",function(){n.parser.draw||n.prepare()},!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(t,e){var n,i=t.length,r=[];for(n=0;n<i;n++)r.push(e(t[n]));return r},filter:function(t,e){var n,i=t.length,r=[];for(n=0;n<i;n++)e(t[n])&&r.push(t[n]);return r},radians:function(t){return t%360*Math.PI/180},degrees:function(t){return 180*t/Math.PI%360},filterSVGElements:function(e){return this.filter(e,function(e){return e instanceof t.SVGElement})}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(t){var e,i;(this.r=0,this.g=0,this.b=0,t)&&("string"===typeof t?n.regex.isRgb.test(t)?(e=n.regex.rgb.exec(t.replace(n.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):n.regex.isHex.test(t)&&(e=n.regex.hex.exec(4==(i=t).length?["#",i.substring(1,2),i.substring(1,2),i.substring(2,3),i.substring(2,3),i.substring(3,4),i.substring(3,4)].join(""):i),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"===typeof t&&(this.r=t.r,this.g=t.g,this.b=t.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+h(this.r)+h(this.g)+h(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new n.Color(t),this},at:function(t){return this.destination?(t=t<0?0:t>1?1:t,new n.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),n.Color.test=function(t){return t+="",n.regex.isHex.test(t)||n.regex.isRgb.test(t)},n.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},n.Color.isColor=function(t){return n.Color.isRgb(t)||n.Color.test(t)},n.Array=function(t,e){0==(t=(t||[]).valueOf()).length&&e&&(t=e.valueOf()),this.value=this.parse(t)},n.extend(n.Array,{morph:function(t){if(this.destination=this.parse(t),this.value.length!=this.destination.length){for(var e=this.value[this.value.length-1],n=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(n);for(;this.value.length<this.destination.length;)this.value.push(e)}return this},settle:function(){for(var t=0,e=this.value.length,n=[];t<e;t++)-1==n.indexOf(this.value[t])&&n.push(this.value[t]);return this.value=n},at:function(t){if(!this.destination)return this;for(var e=0,i=this.value.length,r=[];e<i;e++)r.push(this.value[e]+(this.destination[e]-this.value[e])*t);return new n.Array(r)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)},split:function(t){return t.trim().split(n.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var t=new this.constructor;return t.value=function t(e){var n=e.slice(0);for(var i=n.length;i--;)Array.isArray(n[i])&&(n[i]=t(n[i]));return n}(this.value),t}}),n.PointArray=function(t,e){n.Array.call(this,t,e||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray,n.extend(n.PointArray,{toString:function(){for(var t=0,e=this.value.length,n=[];t<e;t++)n.push(this.value[t].join(","));return n.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(t){if(!this.destination)return this;for(var e=0,i=this.value.length,r=[];e<i;e++)r.push([this.value[e][0]+(this.destination[e][0]-this.value[e][0])*t,this.value[e][1]+(this.destination[e][1]-this.value[e][1])*t]);return new n.PointArray(r)},parse:function(t){var e=[];if(t=t.valueOf(),Array.isArray(t)){if(Array.isArray(t[0]))return t.map(function(t){return t.slice()});if(null!=t[0].x)return t.map(function(t){return[t.x,t.y]})}else t=t.trim().split(n.regex.delimiter).map(parseFloat);t.length%2!==0&&t.pop();for(var i=0,r=t.length;i<r;i+=2)e.push([t[i],t[i+1]]);return e},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var i=this.value.length-1;i>=0;i--)this.value[i]=[this.value[i][0]+t,this.value[i][1]+e];return this},size:function(t,e){var n,i=this.bbox();for(n=this.value.length-1;n>=0;n--)i.width&&(this.value[n][0]=(this.value[n][0]-i.x)*t/i.width+i.x),i.height&&(this.value[n][1]=(this.value[n][1]-i.y)*e/i.height+i.y);return this},bbox:function(){return n.parser.poly.setAttribute("points",this.toString()),n.parser.poly.getBBox()}});for(var i={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},r="mlhvqtcsaz".split(""),o=0,s=r.length;o<s;++o)i[r[o]]=function(t){return function(e,n,r){if("H"==t)e[0]=e[0]+n.x;else if("V"==t)e[0]=e[0]+n.y;else if("A"==t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(var o=0,s=e.length;o<s;++o)e[o]=e[o]+(o%2?n.y:n.x);return i[t](e,n,r)}}(r[o].toUpperCase());n.PathArray=function(t,e){n.Array.call(this,t,e||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return function(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e][0],null!=t[e][1]&&(i+=t[e][1],null!=t[e][2]&&(i+=" ",i+=t[e][2],null!=t[e][3]&&(i+=" ",i+=t[e][3],i+=" ",i+=t[e][4],null!=t[e][5]&&(i+=" ",i+=t[e][5],i+=" ",i+=t[e][6],null!=t[e][7]&&(i+=" ",i+=t[e][7])))));return i+" "}(this.value)},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var i,r=this.value.length-1;r>=0;r--)"M"==(i=this.value[r][0])||"L"==i||"T"==i?(this.value[r][1]+=t,this.value[r][2]+=e):"H"==i?this.value[r][1]+=t:"V"==i?this.value[r][1]+=e:"C"==i||"S"==i||"Q"==i?(this.value[r][1]+=t,this.value[r][2]+=e,this.value[r][3]+=t,this.value[r][4]+=e,"C"==i&&(this.value[r][5]+=t,this.value[r][6]+=e)):"A"==i&&(this.value[r][6]+=t,this.value[r][7]+=e);return this},size:function(t,e){var n,i,r=this.bbox();for(n=this.value.length-1;n>=0;n--)"M"==(i=this.value[n][0])||"L"==i||"T"==i?(this.value[n][1]=(this.value[n][1]-r.x)*t/r.width+r.x,this.value[n][2]=(this.value[n][2]-r.y)*e/r.height+r.y):"H"==i?this.value[n][1]=(this.value[n][1]-r.x)*t/r.width+r.x:"V"==i?this.value[n][1]=(this.value[n][1]-r.y)*e/r.height+r.y:"C"==i||"S"==i||"Q"==i?(this.value[n][1]=(this.value[n][1]-r.x)*t/r.width+r.x,this.value[n][2]=(this.value[n][2]-r.y)*e/r.height+r.y,this.value[n][3]=(this.value[n][3]-r.x)*t/r.width+r.x,this.value[n][4]=(this.value[n][4]-r.y)*e/r.height+r.y,"C"==i&&(this.value[n][5]=(this.value[n][5]-r.x)*t/r.width+r.x,this.value[n][6]=(this.value[n][6]-r.y)*e/r.height+r.y)):"A"==i&&(this.value[n][1]=this.value[n][1]*t/r.width,this.value[n][2]=this.value[n][2]*e/r.height,this.value[n][6]=(this.value[n][6]-r.x)*t/r.width+r.x,this.value[n][7]=(this.value[n][7]-r.y)*e/r.height+r.y);return this},equalCommands:function(t){var e,i,r;for(t=new n.PathArray(t),r=this.value.length===t.value.length,e=0,i=this.value.length;r&&e<i;e++)r=this.value[e][0]===t.value[e][0];return r},morph:function(t){return t=new n.PathArray(t),this.equalCommands(t)?this.destination=t:this.destination=null,this},at:function(t){if(!this.destination)return this;var e,i,r,o,s=this.value,a=this.destination.value,u=[],l=new n.PathArray;for(e=0,i=s.length;e<i;e++){for(u[e]=[s[e][0]],r=1,o=s[e].length;r<o;r++)u[e][r]=s[e][r]+(a[e][r]-s[e][r])*t;"A"===u[e][0]&&(u[e][4]=+(0!=u[e][4]),u[e][5]=+(0!=u[e][5]))}return l.value=u,l},parse:function(t){if(t instanceof n.PathArray)return t.valueOf();var e,r={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(n.regex.numbersWithDots,u).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):t.reduce(function(t,e){return[].concat.call(t,e)},[]);var o=[],s=new n.Point,a=new n.Point,l=0,c=t.length;do{n.regex.isPathLetter.test(t[l])?(e=t[l],++l):"M"==e?e="L":"m"==e&&(e="l"),o.push(i[e].call(null,t.slice(l,l+=r[e.toUpperCase()]).map(parseFloat),s,a))}while(c>l);return o},bbox:function(){return n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(t,e){this.value=0,this.unit=e||"","number"===typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-3.4e38:3.4e38:"string"===typeof t?(e=t.match(n.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof n.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new n.Number(t),new n.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new n.Number(t),new n.Number(this-t,this.unit||t.unit)},times:function(t){return t=new n.Number(t),new n.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new n.Number(t),new n.Number(this/t,this.unit||t.unit)},to:function(t){var e=new n.Number(this);return"string"===typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new n.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new n.Number(this.destination).minus(this).times(t).plus(this):this}}}),n.Element=n.invent({create:function(t){this._stroke=n.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var i=f(this,t,e);return this.width(new n.Number(i.width)).height(new n.Number(i.height))},clone:function(t){this.writeDataToDom();var e=m(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},inside:function(t,e){var n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(n.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!=t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return n.get(this.attr(t))},parent:function(e){var i=this;if(!i.node.parentNode)return null;if(i=n.adopt(i.node.parentNode),!e)return i;for(;i&&i.node instanceof t.SVGElement;){if("string"===typeof e?i.matches(e):i instanceof e)return i;if(!i.node.parentNode||"#document"==i.node.parentNode.nodeName)return null;i=n.adopt(i.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(t){var e=[],n=this;do{if(!(n=n.parent(t))||!n.node)break;e.push(n)}while(n.parent);return e},matches:function(t){return function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}(this.node,t)},native:function(){return this.node},svg:function(t){var i=e.createElement("svg");if(!(t&&this instanceof n.Parent))return i.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),i.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");i.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var r=0,o=i.firstChild.childNodes.length;r<o;r++)this.node.appendChild(i.firstChild.firstChild);return this},writeDataToDom:function(){(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()});return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return function(t,e){return t instanceof e}(this,t)}}}),n.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},n.morph=function(t){return function(e,i){return new n.MorphObj(e,i).at(t)}},n.Situation=n.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(t.duration).valueOf(),this.delay=new n.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,i){"object"==typeof t&&(e=t.ease,i=t.delay,t=t.duration);var r=new n.Situation({duration:t||1e3,delay:i||0,ease:n.easing[e||"-"]||e});return this.queue(r),this},delay:function(t){var e=new n.Situation({duration:t,delay:0,ease:n.easing["-"]});return this.queue(e)},target:function(t){return t&&t instanceof n.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=t.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){t.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof n.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e,i,r=this.situation;if(r.init)return this;for(t in r.animations)for(i=this.target()[t](),Array.isArray(i)||(i=[i]),Array.isArray(r.animations[t])||(r.animations[t]=[r.animations[t]]),e=i.length;e--;)r.animations[t][e]instanceof n.Number&&(i[e]=new n.Number(i[e])),r.animations[t][e]=i[e].morph(r.animations[t][e]);for(t in r.attrs)r.attrs[t]=new n.MorphObj(this.target().attr(t),r.attrs[t]);for(t in r.styles)r.styles[t]=new n.MorphObj(this.target().style(t),r.styles[t]);return r.initialTransformation=this.target().matrixify(),r.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var n=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(!n&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var t=this.situation;this.stop(),this.situation=t,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return!0===this.situation.loops&&(this.situation.loops=this.situation.loop+1),"number"==typeof this.situation.loops?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(t,e){var n=this.situation.duration/this._speed;return this.absPos=t,e||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*n,this.situation.finish=this.situation.start+n,this.step(!0)},speed:function(t){return 0===t?this.pause():t?(this._speed=t,this.at(this.absPos,!0)):this._speed},loop:function(t,e){var n=this.last();return n.loops=null==t||t,n.loop=0,e&&(n.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(t){var e=this.last();return e.reversed="undefined"==typeof t?!e.reversed:t,this},progress:function(t){return t?this.situation.ease(this.pos):this.pos},after:function(t){var e=this.last();return this.target().on("finished.fx",function n(i){i.detail.situation==e&&(t.call(this,e),this.off("finished.fx",n))}),this._callStart()},during:function(t){var e=this.last(),i=function(i){i.detail.situation==e&&t.call(this,i.detail.pos,n.morph(i.detail.pos),i.detail.eased,e)};return this.target().off("during.fx",i).on("during.fx",i),this.after(function(){this.off("during.fx",i)}),this._callStart()},afterAll:function(t){var e=function e(n){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this._callStart()},duringAll:function(t){var e=function(e){t.call(this,e.detail.pos,n.morph(e.detail.pos),e.detail.eased,e.detail.situation)};return this.target().off("during.fx",e).on("during.fx",e),this.afterAll(function(){this.off("during.fx",e)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,n){return this.last()[n||"animations"][t]=e,this._callStart()},step:function(t){var e,n,i;(t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops)?(e=Math.max(this.absPos,0),n=Math.floor(e),!0===this.situation.loops||n<this.situation.loops?(this.pos=e-n,i=this.situation.loop,this.situation.loop=n):(this.absPos=this.situation.loops,this.pos=1,i=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-i)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos);this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var r=this.situation.ease(this.pos);for(var o in this.situation.once)o>this.lastPos&&o<=r&&(this.situation.once[o].call(this.target(),this.pos,r),delete this.situation.once[o]);return this.active&&this.target().fire("during",{pos:this.pos,eased:r,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=r,this):this},eachAt:function(){var t,e,i,r=this,o=this.target(),s=this.situation;for(t in s.animations)i=[].concat(s.animations[t]).map(function(t){return"string"!==typeof t&&t.at?t.at(s.ease(r.pos),r.pos):t}),o[t].apply(o,i);for(t in s.attrs)i=[t].concat(s.attrs[t]).map(function(t){return"string"!==typeof t&&t.at?t.at(s.ease(r.pos),r.pos):t}),o.attr.apply(o,i);for(t in s.styles)i=[t].concat(s.styles[t]).map(function(t){return"string"!==typeof t&&t.at?t.at(s.ease(r.pos),r.pos):t}),o.style.apply(o,i);if(s.transforms.length){for(i=s.initialTransformation,t=0,e=s.transforms.length;t<e;t++){var a=s.transforms[t];a instanceof n.Matrix?i=a.relative?i.multiply((new n.Matrix).morph(a).at(s.ease(this.pos))):i.morph(a).at(s.ease(this.pos)):(a.relative||a.undo(i.extract()),i=i.multiply(a.at(s.ease(this.pos))))}o.matrix(i)}return this},once:function(t,e,n){var i=this.last();return n||(t=i.ease(t)),i.once[t]=e,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(t,e,i){return(this.fx||(this.fx=new n.FX(this))).animate(t,e,i)},delay:function(t){return(this.fx||(this.fx=new n.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(t){if(this.fx){if(null==t)return this.fx.speed();this.fx.speed(t)}return this}}}),n.MorphObj=n.invent({create:function(t,e){return n.Color.isColor(e)?new n.Color(t).morph(e):n.regex.delimiter.test(t)?n.regex.pathLetters.test(t)?new n.PathArray(t).morph(e):new n.Array(t).morph(e):n.regex.numberAndUnit.test(e)?new n.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(t,e,n){if("object"==typeof t)for(var i in t)this.attr(i,t[i]);else this.add(t,e,"attrs");return this},style:function(t,e){if("object"==typeof t)for(var n in t)this.style(n,t[n]);else this.add(t,e,"styles");return this},x:function(t,e){if(this.target()instanceof n.G)return this.transform({x:t},e),this;var i=new n.Number(t);return i.relative=e,this.add("x",i)},y:function(t,e){if(this.target()instanceof n.G)return this.transform({y:t},e),this;var i=new n.Number(t);return i.relative=e,this.add("y",i)},cx:function(t){return this.add("cx",new n.Number(t))},cy:function(t){return this.add("cy",new n.Number(t))},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){var i;this.target()instanceof n.Text?this.attr("font-size",t):(t&&e||(i=this.target().bbox()),t||(t=i.width/i.height*e),e||(e=i.height/i.width*t),this.add("width",new n.Number(t)).add("height",new n.Number(e)));return this},width:function(t){return this.add("width",new n.Number(t))},height:function(t){return this.add("height",new n.Number(t))},plot:function(t,e,n,i){return 4==arguments.length?this.plot([t,e,n,i]):this.add("plot",new(this.target().morphArray)(t))},leading:function(t){return this.target().leading?this.add("leading",new n.Number(t)):this},viewbox:function(t,e,i,r){return this.target()instanceof n.Container&&this.add("viewbox",new n.ViewBox(t,e,i,r)),this},update:function(t){if(this.target()instanceof n.Stop){if("number"==typeof t||t instanceof n.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset)}return this}}),n.Box=n.invent({create:function(t,e,i,r){if(!("object"!=typeof t||t instanceof n.Element))return n.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=i,this.height=r),v(this)},extend:{merge:function(t){var e=new this.constructor;return e.x=Math.min(this.x,t.x),e.y=Math.min(this.y,t.y),e.width=Math.max(this.x+this.width,t.x+t.width)-e.x,e.height=Math.max(this.y+this.height,t.y+t.height)-e.y,v(e)},transform:function(t){var e,i=1/0,r=-1/0,o=1/0,s=-1/0;return[new n.Point(this.x,this.y),new n.Point(this.x2,this.y),new n.Point(this.x,this.y2),new n.Point(this.x2,this.y2)].forEach(function(e){e=e.transform(t),i=Math.min(i,e.x),r=Math.max(r,e.x),o=Math.min(o,e.y),s=Math.max(s,e.y)}),(e=new this.constructor).x=i,e.width=r-i,e.y=o,e.height=s-o,v(e),e}}}),n.BBox=n.invent({create:function(t){if(n.Box.apply(this,[].slice.call(arguments)),t instanceof n.Element){var i;try{if(e.documentElement.contains){if(!e.documentElement.contains(t.node))throw new Exception("Element not in the dom")}else{for(var r=t.node;r.parentNode;)r=r.parentNode;if(r!=e)throw new Exception("Element not in the dom")}i=t.node.getBBox()}catch(e){if(t instanceof n.Shape){var o=t.clone(n.parser.draw.instance).show();i=o.node.getBBox(),o.remove()}else i={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}n.Box.call(this,i)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.extend(n.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),n.RBox=n.invent({create:function(t){n.Box.apply(this,[].slice.call(arguments)),t instanceof n.Element&&n.Box.call(this,t.node.getBoundingClientRect())},inherit:n.Box,parent:n.Element,extend:{addOffset:function(){return this.x+=t.pageXOffset,this.y+=t.pageYOffset,this}},construct:{rbox:function(t){return t?new n.RBox(this).transform(t.screenCTM().inverse()):new n.RBox(this).addOffset()}}}),n.RBox.prototype.constructor=n.RBox,n.Matrix=n.invent({create:function(t){var e,i=p([1,0,0,1,0,0]);for(t=t instanceof n.Element?t.matrixify():"string"===typeof t?p(t.split(n.regex.delimiter).map(parseFloat)):6==arguments.length?p([].slice.call(arguments)):Array.isArray(t)?p(t):"object"===typeof t?t:i,e=b.length-1;e>=0;--e)this[b[e]]=null!=t[b[e]]?t[b[e]]:i[b[e]]},extend:{extract:function(){var t=d(this,0,1),e=d(this,1,0),i=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(i*Math.PI/180)+this.f*Math.sin(i*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(i*Math.PI/180)+this.e*Math.sin(-i*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-i,skewY:180/Math.PI*Math.atan2(e.y,e.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:i,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(t){return this.destination=new n.Matrix(t),this},at:function(t){return this.destination?new n.Matrix({a:this.a+(this.destination.a-this.a)*t,b:this.b+(this.destination.b-this.b)*t,c:this.c+(this.destination.c-this.c)*t,d:this.d+(this.destination.d-this.d)*t,e:this.e+(this.destination.e-this.e)*t,f:this.f+(this.destination.f-this.f)*t}):this},multiply:function(t){return new n.Matrix(this.native().multiply(function(t){t instanceof n.Matrix||(t=new n.Matrix(t));return t}(t).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(t,e){return new n.Matrix(this.native().translate(t||0,e||0))},scale:function(t,e,i,r){return 1==arguments.length?e=t:3==arguments.length&&(r=i,i=e,e=t),this.around(i,r,new n.Matrix(t,0,0,e,0,0))},rotate:function(t,e,i){return t=n.utils.radians(t),this.around(e,i,new n.Matrix(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0))},flip:function(t,e){return"x"==t?this.scale(-1,1,e,0):"y"==t?this.scale(1,-1,0,e):this.scale(-1,-1,t,null!=e?e:t)},skew:function(t,e,i,r){return 1==arguments.length?e=t:3==arguments.length&&(r=i,i=e,e=t),t=n.utils.radians(t),e=n.utils.radians(e),this.around(i,r,new n.Matrix(1,Math.tan(e),Math.tan(t),1,0,0))},skewX:function(t,e,n){return this.skew(t,0,e,n)},skewY:function(t,e,n){return this.skew(0,t,e,n)},around:function(t,e,i){return this.multiply(new n.Matrix(1,0,0,1,t||0,e||0)).multiply(i).multiply(new n.Matrix(1,0,0,1,-t||0,-e||0))},native:function(){for(var t=n.parser.native.createSVGMatrix(),e=b.length-1;e>=0;e--)t[b[e]]=this[b[e]];return t},toString:function(){return"matrix("+y(this.a)+","+y(this.b)+","+y(this.c)+","+y(this.d)+","+y(this.e)+","+y(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new n.Matrix(e)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(t,e){var n;n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"===typeof t?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:{x:0,y:0},this.x=n.x,this.y=n.y},extend:{clone:function(){return new n.Point(this)},morph:function(t,e){return this.destination=new n.Point(t,e),this},at:function(t){return this.destination?new n.Point({x:this.x+(this.destination.x-this.x)*t,y:this.y+(this.destination.y-this.y)*t}):this},native:function(){var t=n.parser.native.createSVGPoint();return t.x=this.x,t.y=this.y,t},transform:function(t){return new n.Point(this.native().matrixTransform(t.native()))}}}),n.extend(n.Element,{point:function(t,e){return new n.Point(t,e).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(t,e,i){if(null==t){for(t={},i=(e=this.node.attributes).length-1;i>=0;i--)t[e[i].nodeName]=n.regex.isNumber.test(e[i].nodeValue)?parseFloat(e[i].nodeValue):e[i].nodeValue;return t}if("object"==typeof t)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?n.defaults.attrs[t]:n.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(n.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof n.Image&&(e=this.doc().defs().pattern(0,0,function(){this.add(e)}))),"number"===typeof e?e=new n.Number(e):n.Color.isColor(e)?e=new n.Color(e):Array.isArray(e)&&(e=new n.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"===typeof i?this.node.setAttributeNS(i,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),n.extend(n.Element,{transform:function(t,e){var i,r;if("object"!==typeof t)return i=new n.Matrix(this).extract(),"string"===typeof t?i[t]:i;if(i=new n.Matrix(this),e=!!e||!!t.relative,null!=t.a)i=e?i.multiply(new n.Matrix(t)):new n.Matrix(t);else if(null!=t.rotation)g(t,this),i=e?i.rotate(t.rotation,t.cx,t.cy):i.rotate(t.rotation-i.extract().rotation,t.cx,t.cy);else if(null!=t.scale||null!=t.scaleX||null!=t.scaleY){if(g(t,this),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,!e){var o=i.extract();t.scaleX=1*t.scaleX/o.scaleX,t.scaleY=1*t.scaleY/o.scaleY}i=i.scale(t.scaleX,t.scaleY,t.cx,t.cy)}else if(null!=t.skew||null!=t.skewX||null!=t.skewY){if(g(t,this),t.skewX=null!=t.skew?t.skew:null!=t.skewX?t.skewX:0,t.skewY=null!=t.skew?t.skew:null!=t.skewY?t.skewY:0,!e){o=i.extract();i=i.multiply((new n.Matrix).skew(o.skewX,o.skewY,t.cx,t.cy).inverse())}i=i.skew(t.skewX,t.skewY,t.cx,t.cy)}else t.flip?("x"==t.flip||"y"==t.flip?t.offset=null==t.offset?this.bbox()["c"+t.flip]:t.offset:null==t.offset?(r=this.bbox(),t.flip=r.cx,t.offset=r.cy):t.flip=t.offset,i=(new n.Matrix).flip(t.flip,t.offset)):null==t.x&&null==t.y||(e?i=i.translate(t.x,t.y):(null!=t.x&&(i.e=t.x),null!=t.y&&(i.f=t.y)));return this.attr("transform",i)}}),n.extend(n.FX,{transform:function(t,e){var i,r,o=this.target();return"object"!==typeof t?(i=new n.Matrix(o).extract(),"string"===typeof t?i[t]:i):(e=!!e||!!t.relative,null!=t.a?i=new n.Matrix(t):null!=t.rotation?(g(t,o),i=new n.Rotate(t.rotation,t.cx,t.cy)):null!=t.scale||null!=t.scaleX||null!=t.scaleY?(g(t,o),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,i=new n.Scale(t.scaleX,t.scaleY,t.cx,t.cy)):null!=t.skewX||null!=t.skewY?(g(t,o),t.skewX=null!=t.skewX?t.skewX:0,t.skewY=null!=t.skewY?t.skewY:0,i=new n.Skew(t.skewX,t.skewY,t.cx,t.cy)):t.flip?("x"==t.flip||"y"==t.flip?t.offset=null==t.offset?o.bbox()["c"+t.flip]:t.offset:null==t.offset?(r=o.bbox(),t.flip=r.cx,t.offset=r.cy):t.flip=t.offset,i=(new n.Matrix).flip(t.flip,t.offset)):null==t.x&&null==t.y||(i=new n.Translate(t.x,t.y)),i?(i.relative=e,this.last().transforms.push(i),this._callStart()):this)}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map(function(t){var e=t.trim().split("(");return[e[0],e[1].split(n.regex.delimiter).map(function(t){return parseFloat(t)})]}).reduce(function(t,e){return"matrix"==e[0]?t.multiply(p(e[1])):t[e[0]].apply(t,e[1])},new n.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t).untransform().transform(n.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=t[n];else if("object"==typeof t)for(n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=t[this.arguments[n]];this.inversed=!1,!0===e&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(t){for(var e=[],i=0,r=this.arguments.length;i<r;++i)e.push(this[this.arguments[i]]);var o=this._undo||new n.Matrix;return o=(new n.Matrix).morph(n.Matrix.prototype[this.method].apply(o,e)).at(t),this.inversed?o.inverse():o},undo:function(t){for(var e=0,i=this.arguments.length;e<i;++e)t[this.arguments[e]]="undefined"==typeof this[this.arguments[e]]?0:t[this.arguments[e]];return t.cx=this.cx,t.cy=this.cy,this._undo=new(n[c(this.method)])(t,!0).at(1),this}}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.Rotate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(t){var e=(new n.Matrix).rotate((new n.Number).morph(this.rotation-(this._undo?this._undo.rotation:0)).at(t),this.cx,this.cy);return this.inversed?e.inverse():e},undo:function(t){return this._undo=t,this}}}),n.Scale=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),n.Skew=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),n.extend(n.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof t)for(e in t)this.style(e,t[e]);else{if(!n.regex.isCss.test(t))return this.node.style[l(t)];for(t=t.split(/\s*;\s*/).filter(function(t){return!!t}).map(function(t){return t.split(/\s*:\s*/)});e=t.pop();)this.style(e[0],e[1])}else this.node.style[l(t)]=null===e||n.regex.isBlank.test(e)?"":e;return this}}),n.Parent=n.invent({create:function(t){this.constructor.call(this,t)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),function(t){return n.adopt(t)})},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return n.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){var i,r,o=this.children();for(i=0,r=o.length;i<r;i++)o[i]instanceof n.Element&&t.apply(o[i],[i,o]),e&&o[i]instanceof n.Container&&o[i].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(t,e){return 0===e||this instanceof n.Defs||this.node==n.parser.draw?this:(t=t||(this instanceof n.Doc?this:this.parent(n.Parent)),e=e||1/0,this.each(function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(t,e-1):this.toParent(t)}),this.node.firstChild||this.remove(),this)},flatten:function(t,e){return this.ungroup(t,e)}}),n.Container=n.invent({create:function(t){this.constructor.call(this,t)},inherit:n.Parent}),n.ViewBox=n.invent({create:function(t){var e,i,r,o,s,a,u,l=1,c=1,h=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(t instanceof n.Element){for(a=t,u=t,s=(t.attr("viewBox")||"").match(h),t.bbox,r=new n.Number(t.width()),o=new n.Number(t.height());"%"==r.unit;)l*=r.value,r=new n.Number(a instanceof n.Doc?a.parent().offsetWidth:a.parent().width()),a=a.parent();for(;"%"==o.unit;)c*=o.value,o=new n.Number(u instanceof n.Doc?u.parent().offsetHeight:u.parent().height()),u=u.parent();this.x=0,this.y=0,this.width=r*l,this.height=o*c,this.zoom=1,s&&(e=parseFloat(s[0]),i=parseFloat(s[1]),r=parseFloat(s[2]),o=parseFloat(s[3]),this.zoom=this.width/this.height>r/o?this.height/o:this.width/r,this.x=e,this.y=i,this.width=r,this.height=o)}else t="string"===typeof t?t.match(h).map(function(t){return parseFloat(t)}):Array.isArray(t)?t:"object"==typeof t?[t.x,t.y,t.width,t.height]:4==arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(t,e,i,r){return this.destination=new n.ViewBox(t,e,i,r),this},at:function(t){return this.destination?new n.ViewBox([this.x+(this.destination.x-this.x)*t,this.y+(this.destination.y-this.y)*t,this.width+(this.destination.width-this.width)*t,this.height+(this.destination.height-this.height)*t]):this}},parent:n.Container,construct:{viewbox:function(t,e,i,r){return 0==arguments.length?new n.ViewBox(this):this.attr("viewBox",new n.ViewBox(t,e,i,r))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(t){n.Element.prototype[t]=function(e){return n.on(this.node,t,e),this}}),n.listeners=[],n.handlerMap=[],n.listenerId=0,n.on=function(t,e,i,r,o){var s=i.bind(r||t.instance||t),a=(n.handlerMap.indexOf(t)+1||n.handlerMap.push(t))-1,u=e.split(".")[0],l=e.split(".")[1]||"*";n.listeners[a]=n.listeners[a]||{},n.listeners[a][u]=n.listeners[a][u]||{},n.listeners[a][u][l]=n.listeners[a][u][l]||{},i._svgjsListenerId||(i._svgjsListenerId=++n.listenerId),n.listeners[a][u][l][i._svgjsListenerId]=s,t.addEventListener(u,s,o||!1)},n.off=function(t,e,i){var r=n.handlerMap.indexOf(t),o=e&&e.split(".")[0],s=e&&e.split(".")[1],a="";if(-1!=r)if(i){if("function"==typeof i&&(i=i._svgjsListenerId),!i)return;n.listeners[r][o]&&n.listeners[r][o][s||"*"]&&(t.removeEventListener(o,n.listeners[r][o][s||"*"][i],!1),delete n.listeners[r][o][s||"*"][i])}else if(s&&o){if(n.listeners[r][o]&&n.listeners[r][o][s]){for(i in n.listeners[r][o][s])n.off(t,[o,s].join("."),i);delete n.listeners[r][o][s]}}else if(s)for(e in n.listeners[r])for(a in n.listeners[r][e])s===a&&n.off(t,[e,s].join("."));else if(o){if(n.listeners[r][o]){for(a in n.listeners[r][o])n.off(t,[o,a].join("."));delete n.listeners[r][o]}}else{for(e in n.listeners[r])n.off(t,e);delete n.listeners[r],delete n.handlerMap[r]}},n.extend(n.Element,{on:function(t,e,i,r){return n.on(this.node,t,e,i,r),this},off:function(t,e){return n.off(this.node,t,e),this},fire:function(e,i){return e instanceof t.Event?this.node.dispatchEvent(e):this.node.dispatchEvent(e=new n.CustomEvent(e,{detail:i,cancelable:!0})),this._event=e,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)},y:function(t){return null==t?this.transform("y"):this.transform({y:t-this.y()},!0)},cx:function(t){return null==t?this.gbox().cx:this.x(t-this.gbox().width/2)},cy:function(t){return null==t?this.gbox().cy:this.y(t-this.gbox().height/2)},gbox:function(){var t=this.bbox(),e=this.transform();return t.x+=e.x,t.x2+=e.x,t.cx+=e.x,t.y+=e.y,t.y2+=e.y,t.cy+=e.y,t}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(t){t&&("svg"==(t="string"==typeof t?e.getElementById(t):t).nodeName?this.constructor.call(this,t):(this.constructor.call(this,n.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){var t;this._defs||((t=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(t):this._defs=new n.Defs,this.node.appendChild(this._defs.node));return this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},spof:function(){var t=this.node.getScreenCTM();return t&&this.style("left",-t.e%1+"px").style("top",-t.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw.parentNode||this.node.appendChild(n.parser.draw),this},clone:function(t){this.writeDataToDom();var e=this.node,n=m(e.cloneNode(!0));return t?(t.node||t).appendChild(n.node):e.parentNode.insertBefore(n.node,e.nextSibling),n}}}),n.extend(n.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position()+1,e=this.parent();return e.removeElement(this).add(this,t),e instanceof n.Doc&&e.node.appendChild(e.defs().node),this},backward:function(){var t=this.position();return t>0&&this.parent().removeElement(this).add(this,t-1),this},front:function(){var t=this.parent();return t.node.appendChild(this.node),t instanceof n.Doc&&t.node.appendChild(t.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(t){t.remove();var e=this.position();return this.parent().add(t,e),this},after:function(t){t.remove();var e=this.position();return this.parent().add(t,e+1),this}}),n.Mask=n.invent({create:function(){this.constructor.call(this,n.create("mask")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unmask();return this.targets=[],n.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new n.Mask)}}}),n.extend(n.Element,{maskWith:function(t){return this.masker=t instanceof n.Mask?t:this.parent().mask().add(t),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),n.ClipPath=n.invent({create:function(){this.constructor.call(this,n.create("clipPath")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new n.ClipPath)}}}),n.extend(n.Element,{clipWith:function(t){return this.clipper=t instanceof n.ClipPath?t:this.parent().clip().add(t),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),n.Gradient=n.invent({create:function(t){this.constructor.call(this,n.create(t+"Gradient")),this.type=t},inherit:n.Container,extend:{at:function(t,e,i){return this.put(new n.Stop).update(t,e,i)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,i){return"transform"==t&&(t="gradientTransform"),n.Container.prototype.attr.call(this,t,e,i)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),n.extend(n.Gradient,n.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new n.Number(t),fy:new n.Number(e)}):this.attr({x1:new n.Number(t),y1:new n.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new n.Number(t),cy:new n.Number(e)}):this.attr({x2:new n.Number(t),y2:new n.Number(e)})}}),n.extend(n.Defs,{gradient:function(t,e){return this.put(new n.Gradient(t)).update(e)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(t){return("number"==typeof t||t instanceof n.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new n.Number(t.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,i){return"transform"==t&&(t="patternTransform"),n.Container.prototype.attr.call(this,t,e,i)}},construct:{pattern:function(t,e,n){return this.defs().pattern(t,e,n)}}}),n.extend(n.Defs,{pattern:function(t,e,i){return this.put(new n.Pattern).update(i).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(t){this.constructor.call(this,t)},inherit:n.Element}),n.Bare=n.invent({create:function(t,e){if(this.constructor.call(this,n.create(t)),e)for(var i in e.prototype)"function"===typeof e.prototype[i]&&(this[i]=e.prototype[i])},inherit:n.Element,extend:{words:function(t){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(e.createTextNode(t)),this}}}),n.extend(n.Parent,{element:function(t,e){return this.put(new n.Bare(t,e))}}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,n.xlink)}},construct:{use:function(t,e){return this.put(new n.Use).element(t,e)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(t,e){return this.put(new n.Rect).size(t,e)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(t){return this.put(new n.Circle).rx(new n.Number(t).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(t,e){return this.put(new n.Ellipse).size(t,e).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),n.extend(n.Circle,n.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new n.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new n.Number(t).divide(2))},size:function(t,e){var i=f(this,t,e);return this.rx(new n.Number(i.width).divide(2)).ry(new n.Number(i.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,i,r){return null==t?this.array():(t="undefined"!==typeof e?{x1:t,y1:e,x2:i,y2:r}:new n.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var n=f(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(t,e,i,r){return n.Line.prototype.plot.apply(this.put(new n.Line),null!=t?[t,e,i,r]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(t){return this.put(new n.Polyline).plot(t||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(t){return this.put(new n.Polygon).plot(t||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new n.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var n=f(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new n.PathArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("d",this.array().move(t,e))},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},size:function(t,e){var n=f(this,t,e);return this.attr("d",this.array().size(n.width,n.height))},width:function(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)},height:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},construct:{path:function(t){return this.put(new n.Path).plot(t||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(e){if(!e)return this;var i=this,r=new t.Image;return n.on(r,"load",function(){n.off(r);var t=i.parent(n.Pattern);null!==t&&(0==i.width()&&0==i.height()&&i.size(r.width,r.height),t&&0==t.width()&&0==t.height()&&t.size(i.width(),i.height()),"function"===typeof i._loaded&&i._loaded.call(i,{width:r.width,height:r.height,ratio:r.width/r.height,url:e}))}),n.on(r,"error",function(t){n.off(r),"function"===typeof i._error&&i._error.call(i,t)}),this.attr("href",r.src=this.src=e,n.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,i){return this.put(new n.Image).load(t).size(e||0,i||e||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},y:function(t){var e=this.attr("y"),n="number"===typeof e?e-this.bbox().y:0;return null==t?"number"===typeof e?e-n:e:this.attr("y","number"===typeof t.valueOf()?t+n:t)},cx:function(t){return null==t?this.bbox().cx:this.x(t-this.bbox().width/2)},cy:function(t){return null==t?this.bbox().cy:this.y(t-this.bbox().height/2)},text:function(t){if("undefined"===typeof t){t="";for(var e=this.node.childNodes,i=0,r=e.length;i<r;++i)0!=i&&3!=e[i].nodeType&&1==n.adopt(e[i]).dom.newLined&&(t+="\n"),t+=e[i].textContent;return t}if(this.clear().build(!0),"function"===typeof t)t.call(this,this);else{i=0;for(var o=(t=t.split("\n")).length;i<o;i++)this.tspan(t[i]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new n.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=n.utils.map(n.utils.filterSVGElements(t.childNodes),function(t){return n.adopt(t)});return new n.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,i=0,r=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?i+=r:(this.attr("dy",r+i),i=0))}),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new n.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new n.Text).text(t)},plain:function(t){return this.put(new n.Text).plain(t)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"===typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(n.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,i=new n.Tspan;return!1===this._build&&this.clear(),e.appendChild(i.node),i.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,path:function(t){for(var e=new n.TextPath,i=this.doc().defs().path(t);this.node.hasChildNodes();)e.node.appendChild(this.node.firstChild);return this.node.appendChild(e.node),e.attr("href","#"+i,n.xlink),this},array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),n=null;return e&&(n=e.plot(t)),null==t?n:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}}),n.A=n.invent({create:"a",inherit:n.Container,extend:{to:function(t){return this.attr("href",t,n.xlink)},show:function(t){return this.attr("show",t,n.xlink)},target:function(t){return this.attr("target",t)}},construct:{link:function(t){return this.put(new n.A).to(t)}}}),n.extend(n.Element,{linkTo:function(t){var e=new n.A;return"function"==typeof t?t.call(e,e):e.to(t),this.parent().put(e).put(this)}}),n.Marker=n.invent({create:"marker",inherit:n.Container,extend:{width:function(t){return this.attr("markerWidth",t)},height:function(t){return this.attr("markerHeight",t)},ref:function(t,e){return this.attr("refX",t).attr("refY",e)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(t,e,n){return this.defs().marker(t,e,n)}}}),n.extend(n.Defs,{marker:function(t,e,i){return this.put(new n.Marker).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(i)}}),n.extend(n.Line,n.Polyline,n.Polygon,n.Path,{marker:function(t,e,i,r){var o=["marker"];return"all"!=t&&o.push(t),o=o.join("-"),t=arguments[1]instanceof n.Marker?arguments[1]:this.doc().marker(e,i,r),this.attr(o,t)}});var a={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};function u(t,e,i,r){return i+r.replace(n.regex.dots," .")}function l(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function c(t){return t.charAt(0).toUpperCase()+t.slice(1)}function h(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function f(t,e,n){if(null==e||null==n){var i=t.bbox();null==e?e=i.width/i.height*n:null==n&&(n=i.height/i.width*e)}return{width:e,height:n}}function d(t,e,n){return{x:e*t.a+n*t.c+0,y:e*t.b+n*t.d+0}}function p(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function g(t,e){t.cx=null==t.cx?e.bbox().cx:t.cx,t.cy=null==t.cy?e.bbox().cy:t.cy}function m(e){for(var i=e.childNodes.length-1;i>=0;i--)e.childNodes[i]instanceof t.SVGElement&&m(e.childNodes[i]);return n.adopt(e).id(n.eid(e.nodeName))}function v(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function y(t){return Math.abs(t)>1e-37?t:0}["fill","stroke"].forEach(function(t){var e,i={};i[t]=function(i){if("undefined"==typeof i)return this;if("string"==typeof i||n.Color.isRgb(i)||i&&"function"===typeof i.fill)this.attr(t,i);else for(e=a[t].length-1;e>=0;e--)null!=i[a[t][e]]&&this.attr(a.prefix(t,a[t][e]),i[a[t][e]]);return this},n.extend(n.Element,n.FX,i)}),n.extend(n.Element,n.FX,{rotate:function(t,e,n){return this.transform({rotation:t,cx:e,cy:n})},skew:function(t,e,n,i){return 1==arguments.length||3==arguments.length?this.transform({skew:t,cx:e,cy:n}):this.transform({skewX:t,skewY:e,cx:n,cy:i})},scale:function(t,e,n,i){return 1==arguments.length||3==arguments.length?this.transform({scale:t,cx:e,cy:n}):this.transform({scaleX:t,scaleY:e,cx:n,cy:i})},translate:function(t,e){return this.transform({x:t,y:e})},flip:function(t,e){return e="number"==typeof t?t:e,this.transform({flip:t||"both",offset:e})},matrix:function(t){return this.attr("transform",new n.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new n.Number(t).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(t){return this.y(new n.Number(t).plus(this instanceof n.FX?0:this.y()),!0)},dmove:function(t,e){return this.dx(t).dy(e)}}),n.extend(n.Rect,n.Ellipse,n.Circle,n.Gradient,n.FX,{radius:function(t,e){var i=(this._target||this).type;return"radial"==i||"circle"==i?this.attr("r",new n.Number(t)):this.rx(t).ry(null==e?t:e)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),n.extend(n.Parent,n.Text,n.Tspan,n.FX,{font:function(t,e){if("object"==typeof t)for(e in t)this.font(e,t[e]);return"leading"==t?this.leading(e):"anchor"==t?this.attr("text-anchor",e):"size"==t||"family"==t||"weight"==t||"stretch"==t||"variant"==t||"style"==t?this.attr("font-"+t,e):this.attr(t,e)}}),n.Set=n.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){var t,e,n=[].slice.call(arguments);for(t=0,e=n.length;t<e;t++)this.members.push(n[t]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,n=this.members.length;e<n;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(0==this.members.length)return new n.RBox;var t=this.members[0].rbox(this.members[0].doc());return this.each(function(){t=t.merge(this.rbox(this.doc()))}),t}},construct:{set:function(t){return new n.Set(t)}}}),n.FX.Set=n.invent({create:function(t){this.set=t}}),n.Set.inherit=function(){var t=[];for(var e in n.Shape.prototype)"function"==typeof n.Shape.prototype[e]&&"function"!=typeof n.Set.prototype[e]&&t.push(e);for(var e in t.forEach(function(t){n.Set.prototype[t]=function(){for(var e=0,i=this.members.length;e<i;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new n.FX.Set(this)):this}}),t=[],n.FX.prototype)"function"==typeof n.FX.prototype[e]&&"function"!=typeof n.FX.Set.prototype[e]&&t.push(e);t.forEach(function(t){n.FX.Set.prototype[t]=function(){for(var e=0,n=this.set.members.length;e<n;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}})},n.extend(n.Element,{data:function(t,e,n){if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"===typeof e||"number"===typeof e?e:JSON.stringify(e));return this}}),n.extend(n.Element,{remember:function(t,e){if("object"==typeof arguments[0])for(var e in t)this.remember(e,t[e]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(t){var i=e.getElementById(function(t){var e=(t||"").toString().match(n.regex.reference);if(e)return e[1]}(t)||t);return n.adopt(i)},n.select=function(t,i){return new n.Set(n.utils.map((i||e).querySelectorAll(t),function(t){return n.adopt(t)}))},n.extend(n.Parent,{select:function(t){return n.select(t,this.node)}});var b="abcdef".split("");if("function"!==typeof t.CustomEvent){var _=function(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),i};_.prototype=t.Event.prototype,n.CustomEvent=_}else n.CustomEvent=t.CustomEvent;return function(e){for(var n=0,i=["moz","webkit"],r=0;r<i.length&&!t.requestAnimationFrame;++r)e.requestAnimationFrame=e[i[r]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[i[r]+"CancelAnimationFrame"]||e[i[r]+"CancelRequestAnimationFrame"];e.requestAnimationFrame=e.requestAnimationFrame||function(t){var i=(new Date).getTime(),r=Math.max(0,16-(i-n)),o=e.setTimeout(function(){t(i+r)},r);return n=i+r,o},e.cancelAnimationFrame=e.cancelAnimationFrame||e.clearTimeout}(t),n},void 0===(i=function(){return o(r,r.document)}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);e.getReplayBoundingBox=function(t){var e=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.forEach(function(t){t.changedTouches.forEach(function(t){var o=t.pageX,s=t.pageY;e=Math.min(e,o),i=Math.max(i,o),n=Math.min(n,s),r=Math.max(r,s)})}),{left:e,top:n,width:i-e,height:r-n}},e.replayTouches=function(t,e){var n=window;function r(t,n){return{x:e.scaleX*(t+e.offsetX),y:e.scaleY*(n+e.offsetY)}}var o=[],s=[],a={},u=(e=i.extend({target:n,offsetX:0,offsetY:0,scaleX:1,scaleY:1},e)).target,l=new Promise(function(e,l){if(t.length>0){var c=t[0].timestamp,h={};t.forEach(function(l,f){var d=function(){var c,d=l.changedTouches,p=l.type;d.forEach(function(t){var e=r(t.pageX,t.pageY),o=r(t.screenX,t.screenY),s=r(t.clientX,t.clientY),l=i.extend({},t,{pageX:e.x,pageY:e.y,screenX:o.x,screenY:o.y,clientX:s.x,clientY:s.y,force:t.force});if("touchstart"!==p&&a.hasOwnProperty(l.identifier)){var c=a[l.identifier];i.extend(c,{pageX:e.x,pageY:e.y,screenX:o.x,screenY:o.y,clientX:s.x,clientY:s.y,force:t.force}),h[l.identifier]=u}else{var f;f=window.Touch?new Touch(i.extend({},l,{target:n})):document.createTouch?document.createTouch(n,u,l.identifier,l.pageX,l.pageY,l.screenX,l.screenY):l;try{f.force!==t.force&&(f.force=t.force)}catch(t){console.error("could not re-assign force")}a[l.identifier]=f,h[l.identifier]=u}});var g,m,v,y,b,_=0,w=[],x=[],k=[];for(g in a)a.hasOwnProperty(g)&&(w[_++]=a[g],h[g]===u&&k.push(a[g]));for(_=0,m=d.length;_<m;_++)x[_]=a[d[_].identifier];document.createTouchList?(v=document.createTouchList.apply(document,w),y=document.createTouchList.apply(document,x),b=document.createTouchList.apply(document,k)):(v=w,y=x,b=k),"touchend"!==p&&"touchcancel"!==p||d.forEach(function(t){delete a[t.identifier],delete h[t.identifier]}),(c=new CustomEvent(p,{bubbles:!0,cancelable:!1,detail:{touches:v,changedTouches:y,targetTouches:v}})).touches=v,c.targetTouches=b,c.changedTouches=y,c.simulated=!0,u.dispatchEvent(c),f===t.length-1&&e(),o.shift(),s.shift()},p=setTimeout(d,l.timestamp-c);s.push(d),o.push(p)})}});return l.stop=function(){o.forEach(function(t){clearTimeout(t)}),s.forEach(function(t){t()})},l}},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}u((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(24),s=n(68),a=n(2),u=function(){function t(t,e){var n=this;this.doc=t,this.path=e,this.cluster=new s.TouchCluster,this.onDocUpdate=function(t,e){"op"===t?a.some(e,function(t){return!!o.SDBDoc.relative(n.path,t.p)})&&n.updateOptions():n.updateOptions()},this.initialize()}return t.prototype.getCluster=function(){return this.cluster},t.prototype.initialize=function(){return i(this,void 0,Promise,function(){return r(this,function(t){switch(t.label){case 0:return this.doc.subscribe(this.onDocUpdate),[4,this.doc.fetch()];case 1:return t.sent(),[2]}})})},t.prototype.updateOptions=function(){var t=this.doc.traverse(this.path);this.cluster.setOption(t)},t}();e.TouchClusterBinding=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(44),r=n(159);e.SDBClient=class extends i.SDB{constructor(t){super(),this.ws=t,this.connection=new r.Connection(t)}close(){return Promise.resolve()}}},function(t,e,n){var i=n(46),r=n(48),o=n(51),s=n(11),a=n(54),u=n(141),l=n(56),c=n(32),h=n(33),f=n(66),d=n(27),p=n(157),g=n(67),m=n(10),v=!0,y=!0;function b(t){if(!(this instanceof b))return new b(t);s.EventEmitter.call(this),t||(t={}),this.db=t.db||new a,this.pubsub=t.pubsub||new l,this.extraDbs=t.extraDbs||{},this.milestoneDb=t.milestoneDb||new u,this.projections={},this.suppressPublish=!!t.suppressPublish,this.maxSubmitRetries=t.maxSubmitRetries||null,this.middleware={},this.agentsCount=0,this.remoteAgentsCount=0,t.disableDocAction||this._shimDocAction(),t.disableSpaceDelimitedActions||this._shimAfterSubmit()}function _(t){for(var e in t)t[e].destroy()}t.exports=b,s.mixin(b),b.prototype.MIDDLEWARE_ACTIONS={afterSubmit:"afterSubmit","after submit":"after submit",apply:"apply",commit:"commit",connect:"connect",doc:"doc",op:"op",query:"query",receive:"receive",readSnapshots:"readSnapshots",submit:"submit"},b.prototype.SNAPSHOT_TYPES={current:"current",byVersion:"byVersion"},b.prototype._shimDocAction=function(){v&&(v=!1,console.warn('DEPRECATED: "doc" middleware action. Use "readSnapshots" instead. Pass `disableDocAction: true` option to ShareDB to disable the "doc" action and this warning.'));var t=this;this.use(this.MIDDLEWARE_ACTIONS.readSnapshots,function(e,n){i.each(e.snapshots,function(n,i){var r={collection:e.collection,id:n.id,snapshot:n};t.trigger(t.MIDDLEWARE_ACTIONS.doc,e.agent,r,i)},n)})},b.prototype._shimAfterSubmit=function(){y&&(y=!1,console.warn('DEPRECATED: "after submit" middleware action. Use "afterSubmit" instead. Pass `disableSpaceDelimitedActions: true` option to ShareDB to disable the "after submit" action and this warning.'));var t=this;this.use(t.MIDDLEWARE_ACTIONS.afterSubmit,function(e,n){t.trigger(t.MIDDLEWARE_ACTIONS["after submit"],e.agent,e,n)})},b.prototype.close=function(t){var e=4,n=this;function i(i){if(i)return t?t(i):n.emit("error",i);--e||t&&t()}for(var r in this.pubsub.close(i),this.db.close(i),this.milestoneDb.close(i),this.extraDbs)e++,this.extraDbs[r].close(i);i()},b.prototype.connect=function(t,e){var n=new p;t?t.bindToSocket(n):t=new o(n),n._open();var i=this.listen(n.stream,e);return t.agent=i,t},b.prototype.listen=function(t,e){var n=new r(this,t);return this.trigger(this.MIDDLEWARE_ACTIONS.connect,n,{stream:t,req:e},function(t){if(t)return n.close(t);n._open()}),n},b.prototype.addProjection=function(t,e,n){if(this.projections[t])throw new Error("Projection "+t+" already exists");for(var i in n)if(!0!==n[i])throw new Error("Invalid field "+i+" - fields must be {somekey: true}. Subfields not currently supported.");this.projections[t]={target:e,fields:n}},b.prototype.use=function(t,e){if(!Array.isArray(t))return(this.middleware[t]||(this.middleware[t]=[])).push(e),this;for(var n=0;n<t.length;n++)this.use(t[n],e)},b.prototype.trigger=function(t,e,n,i){n.action=t,n.agent=e,n.backend=this;var r=this.middleware[t];if(!r)return i();r=r.slice();var o=function(t){if(t)return i(t);var e=r.shift();if(!e)return i();e(n,o)};o()},b.prototype.submit=function(t,e,n,i,r,o){var s=c.checkOp(i);if(s)return o(s);var a=new g(this,t,e,n,i,r),u=this;u.trigger(u.MIDDLEWARE_ACTIONS.submit,t,a,function(e){if(e)return o(e);a.submit(function(e){if(e)return o(e);u.trigger(u.MIDDLEWARE_ACTIONS.afterSubmit,t,a,function(e){if(e)return o(e);u._sanitizeOps(t,a.projection,a.collection,n,a.ops,function(t){if(t)return o(t);u.emit("timing","submit.total",Date.now()-a.start,a),o(t,a.ops)})})})})},b.prototype._sanitizeOp=function(t,e,n,i,r,o){if(e)try{h.projectOp(e.fields,r)}catch(t){return o(t)}this.trigger(this.MIDDLEWARE_ACTIONS.op,t,{collection:n,id:i,op:r},o)},b.prototype._sanitizeOps=function(t,e,n,r,o,s){var a=this;i.each(o,function(i,o){a._sanitizeOp(t,e,n,r,i,o)},s)},b.prototype._sanitizeOpsBulk=function(t,e,n,r,o){var s=this;i.forEachOf(r,function(i,r,o){s._sanitizeOps(t,e,n,r,i,o)},o)},b.prototype._sanitizeSnapshots=function(t,e,n,i,r,o){if(e)try{h.projectSnapshots(e.fields,i)}catch(t){return o(t)}var s={collection:n,snapshots:i,snapshotType:r};this.trigger(this.MIDDLEWARE_ACTIONS.readSnapshots,t,s,o)},b.prototype._getSnapshotProjection=function(t,e){return t.projectsSnapshots?null:e},b.prototype._getSnapshotsFromMap=function(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++){var r=t[i];n[i]=e[r]}return n},b.prototype.getOps=function(t,e,n,i,r,o){var s=Date.now(),a=this.projections[e],u=a?a.target:e,l=this,c={agent:t,index:e,collection:u,id:n,from:i,to:r};l.db.getOps(u,n,i,r,null,function(e,i){if(e)return o(e);l._sanitizeOps(t,a,u,n,i,function(t){if(t)return o(t);l.emit("timing","getOps",Date.now()-s,c),o(t,i)})})},b.prototype.getOpsBulk=function(t,e,n,i,r){var o=Date.now(),s=this.projections[e],a=s?s.target:e,u=this,l={agent:t,index:e,collection:a,fromMap:n,toMap:i};u.db.getOpsBulk(a,n,i,null,function(e,n){if(e)return r(e);u._sanitizeOpsBulk(t,s,a,n,function(t){if(t)return r(t);u.emit("timing","getOpsBulk",Date.now()-o,l),r(t,n)})})},b.prototype.fetch=function(t,e,n,i){var r=Date.now(),o=this.projections[e],s=o?o.target:e,a=o&&o.fields,u=this,l={agent:t,index:e,collection:s,id:n};u.db.getSnapshot(s,n,a,null,function(e,n){if(e)return i(e);var a=u._getSnapshotProjection(u.db,o),c=[n];u._sanitizeSnapshots(t,a,s,c,u.SNAPSHOT_TYPES.current,function(t){if(t)return i(t);u.emit("timing","fetch",Date.now()-r,l),i(null,n)})})},b.prototype.fetchBulk=function(t,e,n,i){var r=Date.now(),o=this.projections[e],s=o?o.target:e,a=o&&o.fields,u=this,l={agent:t,index:e,collection:s,ids:n};u.db.getSnapshotBulk(s,n,a,null,function(e,a){if(e)return i(e);var c=u._getSnapshotProjection(u.db,o),h=u._getSnapshotsFromMap(n,a);u._sanitizeSnapshots(t,c,s,h,u.SNAPSHOT_TYPES.current,function(t){if(t)return i(t);u.emit("timing","fetchBulk",Date.now()-r,l),i(null,a)})})},b.prototype.subscribe=function(t,e,n,i,r){var o=Date.now(),s=this.projections[e],a=s?s.target:e,u=this.getDocChannel(a,n),l=this,c={agent:t,index:e,collection:a,id:n,version:i};l.pubsub.subscribe(u,function(u,h){if(u)return r(u);h.initProjection(l,t,s),null==i?l.fetch(t,e,n,function(t,e){if(t)return r(t);l.emit("timing","subscribe.snapshot",Date.now()-o,c),r(null,h,e)}):l.db.getOps(a,n,i,null,null,function(t,e){if(t)return r(t);h.pushOps(a,n,e),l.emit("timing","subscribe.ops",Date.now()-o,c),r(null,h)})})},b.prototype.subscribeBulk=function(t,e,n,r){var o=Date.now(),s=this.projections[e],a=s?s.target:e,u=this,l={},c=Array.isArray(n),h=c?n:Object.keys(n),f={agent:t,index:e,collection:a,versions:n};i.each(h,function(e,n){var i=u.getDocChannel(a,e);u.pubsub.subscribe(i,function(i,r){if(i)return n(i);r.initProjection(u,t,s),l[e]=r,n()})},function(i){if(i)return _(l),r(i);c?u.fetchBulk(t,e,h,function(t,e){if(t)return _(l),r(t);u.emit("timing","subscribeBulk.snapshot",Date.now()-o,f),r(null,l,e)}):u.db.getOpsBulk(a,n,null,null,function(t,e){if(t)return _(l),r(t);for(var n in e){var i=e[n];l[n].pushOps(a,n,i)}u.emit("timing","subscribeBulk.ops",Date.now()-o,f),r(null,l)})})},b.prototype.queryFetch=function(t,e,n,i,r){var o=Date.now(),s=this;s._triggerQuery(t,e,n,i,function(e,n){if(e)return r(e);s._query(t,n,function(t,e,i){if(t)return r(t);s.emit("timing","queryFetch",Date.now()-o,n),r(null,e,i)})})},b.prototype.querySubscribe=function(t,e,n,i,r){var o=Date.now(),s=this;s._triggerQuery(t,e,n,i,function(e,n){return e?r(e):n.db.disableSubscribe?r({code:4002,message:"DB does not support subscribe"}):void s.pubsub.subscribe(n.channel,function(e,a){if(e)return r(e);if(a.initProjection(s,t,n.projection),i.ids){var u=new f(n,a,i.ids);return s.emit("timing","querySubscribe.reconnect",Date.now()-o,n),void r(null,u)}s._query(t,n,function(t,e,i){if(t)return a.destroy(),r(t);var u=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].id);return e}(e),l=new f(n,a,u,i);s.emit("timing","querySubscribe.initial",Date.now()-o,n),r(null,l,e,i)})})})},b.prototype._triggerQuery=function(t,e,n,i,r){var o=this.projections[e],s=o?o.target:e,a=o&&o.fields,u={index:e,collection:s,projection:o,fields:a,channel:this.getCollectionChannel(s),query:n,options:i,db:null,snapshotProjection:null},l=this;l.trigger(l.MIDDLEWARE_ACTIONS.query,t,u,function(t){return t?r(t):(u.db=i.db?l.extraDbs[i.db]:l.db,u.db?(u.snapshotProjection=l._getSnapshotProjection(u.db,o),void r(null,u)):r({code:4003,message:"DB not found"}))})},b.prototype._query=function(t,e,n){var i=this;e.db.query(e.collection,e.query,e.fields,e.options,function(r,o,s){if(r)return n(r);i._sanitizeSnapshots(t,e.snapshotProjection,e.collection,o,i.SNAPSHOT_TYPES.current,function(t){n(t,o,s)})})},b.prototype.getCollectionChannel=function(t){return t},b.prototype.getDocChannel=function(t,e){return t+"."+e},b.prototype.getChannels=function(t,e){return[this.getCollectionChannel(t),this.getDocChannel(t,e)]},b.prototype.fetchSnapshot=function(t,e,n,i,r){var o=Date.now(),s=this,a=this.projections[e],u=a?a.target:e,l={agent:t,index:e,collection:u,id:n,version:i};this._fetchSnapshot(u,n,i,function(e,n){if(e)return r(e);var i=s._getSnapshotProjection(s.db,a),c=[n],h=s.SNAPSHOT_TYPES.byVersion;s._sanitizeSnapshots(t,i,u,c,h,function(t){if(t)return r(t);s.emit("timing","fetchSnapshot",Date.now()-o,l),r(null,n)})})},b.prototype._fetchSnapshot=function(t,e,n,i){var r=this.db;this.milestoneDb.getMilestoneSnapshot(t,e,n,function(o,s){if(o)return i(o);var a=s?s.v:0;r.getOps(t,e,a,n,null,function(t,r){if(t)return i(t);var o,a=null,u=0;if(s){if(!(a=m.map[s.type]))return i({code:4008,message:"Unknown type"});o=s.data,u=s.v}for(var l=0;l<r.length;l++){var c=r[l];if(u=c.v+1,c.create){if(!(a=m.map[c.create.type]))return i({code:4008,message:"Unknown type"});o=a.create(c.create.data)}else c.del?(o=void 0,a=null):o=a.apply(o,c.op)}if(a=a?a.uri:null,n>u)return i({code:4024,message:"Requested version exceeds latest snapshot version"});var h=new d(e,u,a,o,null);i(null,h)})})}},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,s,a,u=1,l={},c=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,i=function(t){var e=h.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"===typeof e.data&&0===e.data.indexOf(s)&&p(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return l[u]=r,i(u),u++},f.clearImmediate=d}function d(t){delete l[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{d(t),c=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(e,n(6),n(1))},function(t,e){var n=t.exports=function(t,e){if(e||(e=16),void 0===t&&(t=128),t<=0)return"0";for(var i=Math.log(Math.pow(2,t))/Math.log(e),r=2;i===1/0;r*=2)i=Math.log(Math.pow(2,t/r))/Math.log(e)*r;var o=i-Math.floor(i),s="";for(r=0;r<Math.floor(i);r++){s=Math.floor(Math.random()*e).toString(e)+s}if(o){var a=Math.pow(e,o);s=Math.floor(Math.random()*a).toString(e)+s}var u=parseInt(s,e);return u!==1/0&&u>=Math.pow(2,t)?n(t,e):s};n.rack=function(t,e,i){var r=function(r){var s=0;do{if(s++>10){if(!i)throw new Error("too many ID collisions, use more bits");t+=i}var a=n(t,e)}while(Object.hasOwnProperty.call(o,a));return o[a]=r,a},o=r.hats={};return r.get=function(t){return r.hats[t]},r.set=function(t,e){return r.hats[t]=e,r},r.bits=t||128,r.base=e||16,r}},function(t,e,n){var i=function(t){return"[object Array]"==Object.prototype.toString.call(t)},r=function(t){return JSON.parse(JSON.stringify(t))},o={name:"json0",uri:"http://sharejs.org/types/JSONv0"},s={};function a(t){t.t="text0";var e={p:t.p.pop()};null!=t.si&&(e.i=t.si),null!=t.sd&&(e.d=t.sd),t.o=[e]}function u(t){t.p.push(t.o[0].p),null!=t.o[0].i&&(t.si=t.o[0].i),null!=t.o[0].d&&(t.sd=t.o[0].d),delete t.t,delete t.o}o.registerSubtype=function(t){s[t.name]=t},o.create=function(t){return void 0===t?null:r(t)},o.invertComponent=function(t){var e={p:t.p};return t.t&&s[t.t]&&(e.t=t.t,e.o=s[t.t].invert(t.o)),void 0!==t.si&&(e.sd=t.si),void 0!==t.sd&&(e.si=t.sd),void 0!==t.oi&&(e.od=t.oi),void 0!==t.od&&(e.oi=t.od),void 0!==t.li&&(e.ld=t.li),void 0!==t.ld&&(e.li=t.ld),void 0!==t.na&&(e.na=-t.na),void 0!==t.lm&&(e.lm=t.p[t.p.length-1],e.p=t.p.slice(0,t.p.length-1).concat([t.lm])),e},o.invert=function(t){for(var e=t.slice().reverse(),n=[],i=0;i<e.length;i++)n.push(o.invertComponent(e[i]));return n},o.checkValidOp=function(t){for(var e=0;e<t.length;e++)if(!i(t[e].p))throw new Error("Missing path")},o.checkList=function(t){if(!i(t))throw new Error("Referenced element not a list")},o.checkObj=function(t){if(!(e=t)||e.constructor!==Object)throw new Error("Referenced element not an object (it was "+JSON.stringify(t)+")");var e},o.apply=function(t,e){o.checkValidOp(e),e=r(e);for(var n={data:t},i=0;i<e.length;i++){var u=e[i];null==u.si&&null==u.sd||a(u);for(var l=null,c=n,h="data",f=0;f<u.p.length;f++){var d=u.p[f];if(l=c,h,c=c[h],h=d,null==l)throw new Error("Path invalid")}if(u.t&&void 0!==u.o&&s[u.t])c[h]=s[u.t].apply(c[h],u.o);else if(void 0!==u.na){if("number"!=typeof c[h])throw new Error("Referenced element not a number");c[h]+=u.na}else if(void 0!==u.li&&void 0!==u.ld)o.checkList(c),c[h]=u.li;else if(void 0!==u.li)o.checkList(c),c.splice(h,0,u.li);else if(void 0!==u.ld)o.checkList(c),c.splice(h,1);else if(void 0!==u.lm){if(o.checkList(c),u.lm!=h){var p=c[h];c.splice(h,1),c.splice(u.lm,0,p)}}else if(void 0!==u.oi)o.checkObj(c),c[h]=u.oi;else{if(void 0===u.od)throw new Error("invalid / missing instruction in op");o.checkObj(c),delete c[h]}}return n.data},o.shatter=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n]]);return e},o.incrementalApply=function(t,e,n){for(var i=0;i<e.length;i++){var r=[e[i]];n(r,t=o.apply(t,r))}return t};var l=o.pathMatches=function(t,e,n){if(t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i]&&(!n||i!==t.length-1))return!1;return!0};o.append=function(t,e){if(e=r(e),0!==t.length){var n=t[t.length-1];if(null==e.si&&null==e.sd||null==n.si&&null==n.sd||(a(e),a(n)),l(e.p,n.p))if(e.t&&n.t&&e.t===n.t&&s[e.t]){if(n.o=s[e.t].compose(n.o,e.o),null!=e.si||null!=e.sd){for(var i=e.p,o=0;o<n.o.length-1;o++)e.o=[n.o.pop()],e.p=i.slice(),u(e),t.push(e);u(n)}}else null!=n.na&&null!=e.na?t[t.length-1]={p:n.p,na:n.na+e.na}:void 0!==n.li&&void 0===e.li&&e.ld===n.li?void 0!==n.ld?delete n.li:t.pop():void 0!==n.od&&void 0===n.oi&&void 0!==e.oi&&void 0===e.od?n.oi=e.oi:void 0!==n.oi&&void 0!==e.od?void 0!==e.oi?n.oi=e.oi:void 0!==n.od?delete n.oi:t.pop():void 0!==e.lm&&e.p[e.p.length-1]===e.lm||t.push(e);else null==e.si&&null==e.sd||null==n.si&&null==n.sd||(u(e),u(n)),t.push(e)}else t.push(e)},o.compose=function(t,e){o.checkValidOp(t),o.checkValidOp(e);for(var n=r(t),i=0;i<e.length;i++)o.append(n,e[i]);return n},o.normalize=function(t){var e=[];t=i(t)?t:[t];for(var n=0;n<t.length;n++){var r=t[n];null==r.p&&(r.p=[]),o.append(e,r)}return e},o.commonLengthForOps=function(t,e){var n=t.p.length,i=e.p.length;if((null!=t.na||t.t)&&n++,(null!=e.na||e.t)&&i++,0===n)return-1;if(0===i)return null;n--,i--;for(var r=0;r<n;r++){var o=t.p[r];if(r>=i||o!==e.p[r])return null}return n},o.canOpAffectPath=function(t,e){return null!=o.commonLengthForOps({p:e},t)},o.transformComponent=function(t,e,n,l){e=r(e);var c=o.commonLengthForOps(n,e),h=o.commonLengthForOps(e,n),f=e.p.length,d=n.p.length;if((null!=e.na||e.t)&&f++,(null!=n.na||n.t)&&d++,null!=h&&d>f&&e.p[h]==n.p[h])if(void 0!==e.ld)(g=r(n)).p=g.p.slice(f),e.ld=o.apply(r(e.ld),[g]);else if(void 0!==e.od){(g=r(n)).p=g.p.slice(f),e.od=o.apply(r(e.od),[g])}if(null!=c){var p=f==d,g=n;if(null==e.si&&null==e.sd||null==n.si&&null==n.sd||(a(e),a(g=r(n))),g.t&&s[g.t]){if(e.t&&e.t===g.t){var m=s[e.t].transform(e.o,g.o,l);if(null!=e.si||null!=e.sd)for(var v=e.p,y=0;y<m.length;y++)e.o=[m[y]],e.p=v.slice(),u(e),o.append(t,e);else(!i(m)||m.length>0)&&(e.o=m,o.append(t,e));return t}}else if(void 0!==n.na);else if(void 0!==n.li&&void 0!==n.ld){if(n.p[c]===e.p[c]){if(!p)return t;if(void 0!==e.ld){if(void 0===e.li||"left"!==l)return t;e.ld=r(n.li)}}}else if(void 0!==n.li)void 0!==e.li&&void 0===e.ld&&p&&e.p[c]===n.p[c]?"right"===l&&e.p[c]++:n.p[c]<=e.p[c]&&e.p[c]++,void 0!==e.lm&&p&&n.p[c]<=e.lm&&e.lm++;else if(void 0!==n.ld){if(void 0!==e.lm&&p){if(n.p[c]===e.p[c])return t;v=n.p[c];var b=e.p[c];(v<(_=e.lm)||v===_&&b<_)&&e.lm--}if(n.p[c]<e.p[c])e.p[c]--;else if(n.p[c]===e.p[c]){if(d<f)return t;if(void 0!==e.ld){if(void 0===e.li)return t;delete e.ld}}}else if(void 0!==n.lm)if(void 0!==e.lm&&f===d){b=e.p[c];var _=e.lm,w=n.p[c],x=n.lm;if(w!==x)if(b===w){if("left"!==l)return t;e.p[c]=x,b===_&&(e.lm=x)}else b>w&&e.p[c]--,b>x?e.p[c]++:b===x&&w>x&&(e.p[c]++,b===_&&e.lm++),_>w?e.lm--:_===w&&_>b&&e.lm--,_>x?e.lm++:_===x&&(x>w&&_>b||x<w&&_<b?"right"===l&&e.lm++:_>b?e.lm++:_===w&&e.lm--)}else if(void 0!==e.li&&void 0===e.ld&&p){b=n.p[c],_=n.lm;(v=e.p[c])>b&&e.p[c]--,v>_&&e.p[c]++}else{b=n.p[c],_=n.lm;(v=e.p[c])===b?e.p[c]=_:(v>b&&e.p[c]--,v>_?e.p[c]++:v===_&&b>_&&e.p[c]++)}else if(void 0!==n.oi&&void 0!==n.od){if(e.p[c]===n.p[c]){if(void 0===e.oi||!p)return t;if("right"===l)return t;e.od=n.oi}}else if(void 0!==n.oi){if(void 0!==e.oi&&e.p[c]===n.p[c]){if("left"!==l)return t;o.append(t,{p:e.p,od:n.oi})}}else if(void 0!==n.od&&e.p[c]==n.p[c]){if(!p)return t;if(void 0===e.oi)return t;delete e.od}}return o.append(t,e),t},n(50)(o,o.transformComponent,o.checkValidOp,o.append);var c=n(138);o.registerSubtype(c),t.exports=o},function(t,e,n){var i=t.exports={name:"text0",uri:"http://sharejs.org/types/textv0",create:function(t){if(null!=t&&"string"!==typeof t)throw new Error("Initial data must be a string");return t||""}},r=function(t,e,n){return t.slice(0,e)+n+t.slice(e)},o=function(t){if("number"!==typeof t.p)throw new Error("component missing position field");if("string"===typeof t.i===("string"===typeof t.d))throw new Error("component needs an i or d field");if(t.p<0)throw new Error("position cannot be negative")},s=function(t){for(var e=0;e<t.length;e++)o(t[e])};i.apply=function(t,e){var n;s(e);for(var i=0;i<e.length;i++){var o=e[i];if(null!=o.i)t=r(t,o.p,o.i);else{if(n=t.slice(o.p,o.p+o.d.length),o.d!==n)throw new Error("Delete component '"+o.d+"' does not match deleted text '"+n+"'");t=t.slice(0,o.p)+t.slice(o.p+o.d.length)}}return t};var a=i._append=function(t,e){if(""!==e.i&&""!==e.d)if(0===t.length)t.push(e);else{var n=t[t.length-1];null!=n.i&&null!=e.i&&n.p<=e.p&&e.p<=n.p+n.i.length?t[t.length-1]={i:r(n.i,e.p-n.p,e.i),p:n.p}:null!=n.d&&null!=e.d&&e.p<=n.p&&n.p<=e.p+e.d.length?t[t.length-1]={d:r(e.d,n.p-e.p,n.d),p:e.p}:t.push(e)}};i.compose=function(t,e){s(t),s(e);for(var n=t.slice(),i=0;i<e.length;i++)a(n,e[i]);return n},i.normalize=function(t){var e=[];null==t.i&&null==t.p||(t=[t]);for(var n=0;n<t.length;n++){var i=t[n];null==i.p&&(i.p=0),a(e,i)}return e};var u=function(t,e,n){return null!=e.i?e.p<t||e.p===t&&n?t+e.i.length:t:t<=e.p?t:t<=e.p+e.d.length?e.p:t-e.d.length};i.transformCursor=function(t,e,n){for(var i="right"===n,r=0;r<e.length;r++)t=u(t,e[r],i);return t};var l=i._tc=function(t,e,n,i){if(o(e),o(n),null!=e.i)a(t,{i:e.i,p:u(e.p,n,"right"===i)});else if(null!=n.i){var r=e.d;e.p<n.p&&(a(t,{d:r.slice(0,n.p-e.p),p:e.p}),r=r.slice(n.p-e.p)),""!==r&&a(t,{d:r,p:e.p+n.i.length})}else if(e.p>=n.p+n.d.length)a(t,{d:e.d,p:e.p-n.d.length});else if(e.p+e.d.length<=n.p)a(t,e);else{var s={d:"",p:e.p};e.p<n.p&&(s.d=e.d.slice(0,n.p-e.p)),e.p+e.d.length>n.p+n.d.length&&(s.d+=e.d.slice(n.p+n.d.length-e.p));var l=Math.max(e.p,n.p),c=Math.min(e.p+e.d.length,n.p+n.d.length);if(e.d.slice(l-e.p,c-e.p)!==n.d.slice(l-n.p,c-n.p))throw new Error("Delete ops delete different text in the same region of the document");""!==s.d&&(s.p=u(s.p,n),a(t,s))}return t};i.invert=function(t){t=t.slice().reverse();for(var e=0;e<t.length;e++)t[e]=null!=(n=t[e]).i?{d:n.i,p:n.p}:{i:n.d,p:n.p};var n;return t},n(50)(i,l,s,a)},function(t,e,n){"use strict";var i="undefined"!==typeof Reflect?Reflect.construct:void 0,r=Object.defineProperty,o=Error.captureStackTrace;function s(t){void 0!==t&&r(this,"message",{configurable:!0,value:t,writable:!0});var e=this.constructor.name;void 0!==e&&e!==this.name&&r(this,"name",{configurable:!0,value:e,writable:!0}),o(this,this.constructor)}void 0===o&&(o=function(t){var e=new Error;r(t,"stack",{configurable:!0,get:function(){var t=e.stack;return r(this,"stack",{configurable:!0,value:t,writable:!0}),t},set:function(e){r(t,"stack",{configurable:!0,value:e,writable:!0})}})}),s.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:s,writable:!0}});var a=function(){function t(t,e){return r(t,"name",{configurable:!0,value:e})}try{var e=function(){};if(t(e,"foo"),"foo"===e.name)return t}catch(t){}}();(t.exports=function(t,e){if(null==e||e===Error)e=s;else if("function"!==typeof e)throw new TypeError("super_ should be a function");var n;if("string"===typeof t)n=t,t=void 0!==i?function(){return i(e,arguments,this.constructor)}:function(){e.apply(this,arguments)},void 0!==a&&(a(t,n),n=void 0);else if("function"!==typeof t)throw new TypeError("constructor should be either a string or a function");t.super_=t.super=e;var r={constructor:{configurable:!0,value:t,writable:!0}};return void 0!==n&&(r.name={configurable:!0,value:n,writable:!0}),t.prototype=Object.create(e.prototype,r),t}).BaseError=s},function(t,e,n){var i=n(27),r=n(9),o=n(11);function s(t,e,n,i,s,a){if(o.EventEmitter.call(this),"function"!==typeof a)throw new Error("Callback is required for SnapshotRequest");if(!r.isValidVersion(s))throw new Error("Snapshot version must be a positive integer or null");this.requestId=e,this.connection=t,this.id=i,this.collection=n,this.version=s,this.callback=a,this.sent=!1}t.exports=s,o.mixin(s),s.prototype.send=function(){if(this.connection.canSend){var t={a:"nf",id:this.requestId,c:this.collection,d:this.id,v:this.version};this.connection.send(t),this.sent=!0}},s.prototype._onConnectionStateChanged=function(){this.connection.canSend&&!this.sent?this.send():this.connection.canSend||(this.sent=!1)},s.prototype._handleResponse=function(t,e){if(this.emit("ready"),t)return this.callback(t);var n=new i(this.id,e.v,e.type,e.data,null);this.callback(null,n)}},function(t,e,n){(function(e){var i=n(28);function r(t){i.call(this,t)}t.exports=r,r.prototype=Object.create(i.prototype),r.prototype.getMilestoneSnapshot=function(t,n,i,r){e.nextTick(r,null,void 0)},r.prototype.saveMilestoneSnapshot=function(t,n,i){if(i)return e.nextTick(i,null);this.emit("save",t,n)}}).call(e,n(1))},function(t,e,n){var i=n(58).inherits,r=n(29).Readable,o=n(9);function s(){r.call(this,{objectMode:!0}),this.id=null,this.backend=null,this.agent=null,this.projection=null,this.open=!0}t.exports=s,i(s,r),s.prototype._read=o.doNothing,s.prototype.initProjection=function(t,e,n){this.backend=t,this.agent=e,this.projection=n},s.prototype.pushOp=function(t,e,n){if(this.backend){var i=this;this.backend._sanitizeOp(this.agent,this.projection,t,e,n,function(t){i.open&&i.push(t?{error:t}:n)})}else{if(!this.open)return;this.push(n)}},s.prototype.pushOps=function(t,e,n){for(var i=0;i<n.length;i++)this.pushOp(t,e,n[i])},s.prototype.destroy=function(){this.open&&(this.open=!1,this.push(null),this.emit("close"))}},function(t,e){t.exports=function(t){return t&&"object"===typeof t&&"function"===typeof t.copy&&"function"===typeof t.fill&&"function"===typeof t.readUInt8}},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=l(t),i=n[0],s=n[1],a=new o(function(t,e,n){return 3*(e+n)/4-n}(0,i,s)),u=0,c=s>0?i-4:i,h=0;h<c;h+=4)e=r[t.charCodeAt(h)]<<18|r[t.charCodeAt(h+1)]<<12|r[t.charCodeAt(h+2)]<<6|r[t.charCodeAt(h+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;2===s&&(e=r[t.charCodeAt(h)]<<2|r[t.charCodeAt(h+1)]>>4,a[u++]=255&e);1===s&&(e=r[t.charCodeAt(h)]<<10|r[t.charCodeAt(h+1)]<<4|r[t.charCodeAt(h+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],s=0,a=n-r;s<a;s+=16383)o.push(c(t,s,s+16383>a?a:s+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var r,o,s=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?r-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=l}return(d?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+d]=255&a,d+=p,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[n+d]=255&s,d+=p,s/=256,l-=8);t[n+d-p]|=128*g}},function(t,e){},function(t,e,n){"use strict";var i=n(19).Buffer,r=n(148);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e,n,r,o=i.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,n=o,r=a,e.copy(n,r),a+=s.data.length,s=s.next;return o},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(e,n(6))},function(t,e,n){"use strict";t.exports=o;var i=n(65),r=n(16);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}r.inherits=n(12),r.inherits(o,i),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(31)},function(t,e,n){t.exports=n(13)},function(t,e,n){t.exports=n(30).Transform},function(t,e,n){t.exports=n(30).PassThrough},function(t,e){function n(t,e){this.index=t,this.values=e}function i(t,e){this.index=t,this.howMany=e}function r(t,e,n){this.from=t,this.to=e,this.howMany=n}function o(t,e){return t===e}function s(t,e,s){s||(s=o);for(var a=t.length,u=e.length,l=[],c={},h={},f=0;f<a;f++)for(var d=t[f],p=0;p<u;p++)if(!h[p]&&s(d,e[p])){var g=f,m=p,v=0;do{c[f++]=h[p++]=!0,v++}while(f<a&&p<u&&s(t[f],e[p])&&!h[p]);l.push(new r(g,m,v)),f--;break}var y=[];for(f=0;f<a;)if(c[f])f++;else{var b=f;for(v=0;f<a&&!c[f++];)v++;y.push(new i(b,v))}var _=[];for(p=0;p<u;)if(h[p])p++;else{for(b=p,v=0;p<u&&!h[p++];)v++;var w=e.slice(b,b+v);_.push(new n(b,w))}var x,k,C=_.length,S=y.length,T=l.length,E=0;for(x=0;x<S;x++){var P=y[x];for(P.index-=E,E+=P.howMany,k=0;k<T;k++){(A=l[k]).from>=P.index&&(A.from-=P.howMany)}}for(x=C;x--;){var D=_[x];v=D.values.length;for(k=T;k--;){(A=l[k]).to>=D.index&&(A.to-=v)}}for(x=T;x-- >1;){if((A=l[x]).to!==A.from)for(k=x;k--;){var M=l[k];M.to>=A.to&&(M.to-=A.howMany),M.to>=A.from&&(M.to+=A.howMany)}}var O=[];for(x=0;x<T;x++){var A;if((A=l[x]).to!==A.from)for(O.push(A),k=x+1;k<T;k++){var I=l[k];I.from>=A.from&&(I.from-=A.howMany),I.from>=A.to&&(I.from+=A.howMany)}}return y.concat(O,_)}t.exports=s,s.InsertDiff=n,s.RemoveDiff=i,s.MoveDiff=r,n.prototype.type="insert",n.prototype.toJSON=function(){return{type:this.type,index:this.index,values:this.values}},i.prototype.type="remove",i.prototype.toJSON=function(){return{type:this.type,index:this.index,howMany:this.howMany}},r.prototype.type="move",r.prototype.toJSON=function(){return{type:this.type,from:this.from,to:this.to,howMany:this.howMany}}},function(t,e){var n=Array.prototype.slice,i="function"===typeof Object.keys?Object.keys:function(t){var e=[];for(var n in t)e.push(n);return e},r=t.exports=function(t,e){return 0===t&&0===e?1/t===1/e:t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():a(t)?a(e):"object"!=typeof t&&"object"!=typeof e?t==e:function(t,e){if(o(t)||o(e))return!1;if(t.prototype!==e.prototype)return!1;if(s(t))return!!s(e)&&(t=n.call(t),e=n.call(e),r(t,e));try{var a,u,l=i(t),c=i(e)}catch(t){return!1}if(l.length!=c.length)return!1;for(l.sort(),c.sort(),u=l.length-1;u>=0;u--)if(l[u]!=c[u])return!1;for(u=l.length-1;u>=0;u--)if(a=l[u],!r(t[a],e[a]))return!1;return!0}(t,e))};function o(t){return null===t||void 0===t}function s(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function a(t){return"number"==typeof t&&t!==t}},function(t,e,n){(function(e){var i=n(29).Duplex,r=n(58).inherits,o=n(9);function s(){this.readyState=0,this.stream=new a(this)}function a(t){i.call(this,{objectMode:!0}),this.socket=t,this.on("error",function(e){console.warn("ShareDB client message stream error",e),t.close("stopped")}),this.on("finish",function(){t.close("stopped")})}t.exports=s,s.prototype._open=function(){0===this.readyState&&(this.readyState=1,this.onopen())},s.prototype.close=function(t){3!==this.readyState&&(this.readyState=3,this.stream.push(null),this.onclose(t||"closed"))},s.prototype.send=function(t){this.stream.push(JSON.parse(t))},s.prototype.onmessage=o.doNothing,s.prototype.onclose=o.doNothing,s.prototype.onerror=o.doNothing,s.prototype.onopen=o.doNothing,r(a,i),a.prototype.isServer=!0,a.prototype._read=o.doNothing,a.prototype._write=function(t,n,i){var r=this.socket;e.nextTick(function(){1===r.readyState&&(r.onmessage({data:JSON.stringify(t)}),i())})}}).call(e,n(1))},function(t,e,n){(function(e){var i=n(28),r=n(8);function o(t){i.call(this,t),this._milestoneSnapshots={}}t.exports=o,o.prototype=Object.create(i.prototype),o.prototype.getMilestoneSnapshot=function(t,n,i,o){if(o||(o=function(){}),!t)return e.nextTick(o,new r(4001,"Missing collection"));if(!n)return e.nextTick(o,new r(4001,"Missing ID"));if(!this._isValidVersion(i))return e.nextTick(o,new r(4001,"Invalid version"));for(var s,a=this._getMilestoneSnapshotsSync(t,n),u=0;u<a.length;u++){var l=a[u];if(!(l.v<=i||null===i))break;s=l}e.nextTick(o,null,s)},o.prototype.saveMilestoneSnapshot=function(t,n,i){if(i=i||function(e){if(e)return this.emit("error",e);this.emit("save",t,n)}.bind(this),!t)return i(new r(4001,"Missing collection"));if(!n)return i(new r(4001,"Missing snapshot"));var o=this._getMilestoneSnapshotsSync(t,n.id);o.push(n),o.sort(function(t,e){return t.v-e.v}),e.nextTick(i,null)},o.prototype._getMilestoneSnapshotsSync=function(t,e){var n=this._milestoneSnapshots[t]||(this._milestoneSnapshots[t]={});return n[e]||(n[e]=[])}}).call(e,n(1))},function(t,e,n){e.Connection=n(51),e.Doc=n(52),e.Error=n(8),e.Query=n(53),e.types=n(10)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(161),r=n(45),o=n(162),s=n(44),a=n(29),u=n(26);class l extends s.SDB{constructor(t,e){if(super(),e=u.extend({},e,l.optionDefaults),this.share=new r(e),this.connection=this.share.connect(),t)if(t instanceof i.Server||t.clients&&t.handleUpgrade)this.wssPromise=Promise.resolve(t);else{if(!(t instanceof o.Server))throw new Error(`Could not recognize type of expected server ${t}`);this.wssPromise=Promise.resolve(new i.Server({server:t}))}else this.wssPromise=new Promise((t,e)=>{const n=o.createServer();n.unref(),n.on("error",e),n.listen(()=>{const e=n.address().port;n.close(()=>{t(e)})})}).then(t=>new i.Server({port:t})).catch(t=>{throw t});this.wssPromise.then(t=>{t.on("connection",t=>{const e=new c(t);this.listen(e)})})}address(){return this.wssPromise.then(t=>t.address())}use(t,e){this.share.use(t,e)}close(){return new Promise((t,e)=>{this.share.close(()=>{t()})})}listening(){return this.wssPromise.then(t=>t.readyState===t.OPEN?Promise.resolve():new Promise((e,n)=>{t.once("listening",()=>{e()})}))}listen(t){this.share.listen(t)}}l.optionDefaults={disableDocAction:!0,disableSpaceDelimitedActions:!0},e.SDBServer=l;class c extends a.Duplex{constructor(t){super({objectMode:!0}),this.ws=t,this.ws.on("message",t=>{try{this.push(JSON.parse(t))}catch(t){console.error(t)}}),this.ws.on("close",()=>{this.push(null),this.end(),this.emit("close"),this.emit("end")}),this.on("error",function(){t.close()}),this.on("end",function(){t.close()})}_read(){}_write(t,e,n){this.ws.send(JSON.stringify(t)),n()}}},function(t,e,n){"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(t,e){},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(2),a=function(t){function e(e){var n=t.call(this)||this;return n.options=e,n._onCross=function(t){n.emit("cross",t);var e=n.getCallback();e&&e(t)},$(n.getCluster(),n.getPath(),n._onCross),n}return r(e,t),e.prototype.getPath=function(){return this.options.path},e.prototype.destroy=function(){Y(this.getPath())},e.prototype.getCluster=function(){return this.options.cluster},e.prototype.onCross=function(){$(this.getCluster(),this.getPath(),this._onCross)},e.prototype.getCallback=function(){return this.options.callback},e}(o.EventEmitter);e.CrossEvent=a;var u,l,c=String.prototype.toLowerCase,h=String.prototype.toUpperCase,f={NaN:1,Infinity:1,"-Infinity":1},d=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,p=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,g=function(t,e,n,i){return[t,e,n,i,n,i]},m=function(t,e,n,i,r,o){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]},v=function(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n},y=function(t,e,n,i,r,o,s,a,u){void 0===u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,d=0;d<12;d++){var p=l*c[d]+l,g=v(p,t,n,r,s),m=v(p,e,i,o,a),y=g*g+m*m;f+=h[d]*Math.sqrt(y)}return l*f},b=function(t,e,n,i,r,o,s,a,u,l){var c,h,f,d,p,g=120*Math.PI/180,m=Math.PI/180*(+r||0),v=[],y=S(function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}});if(l)h=l[0],f=l[1],d=l[2],p=l[3];else{t=(c=y(t,e,-m)).x,e=c.y,a=(c=y(a,u,-m)).x,u=c.y;Math.cos(Math.PI/180*r),Math.sin(Math.PI/180*r);var _=(t-a)/2,w=(e-u)/2,x=_*_/(n*n)+w*w/(i*i);x>1&&(n*=x=Math.sqrt(x),i*=x);var k=n*n,C=i*i,T=(o==s?-1:1)*Math.sqrt(Math.abs((k*C-k*w*w-C*_*_)/(k*w*w+C*_*_)));d=T*n*w/i+.5*(t+a),p=T*-i*_/n+.5*(e+u),h=Math.asin((e-p)/i),f=Math.asin((u-p)/i),h=t<d?Math.PI-h:h,f=a<d?Math.PI-f:f,h<0&&(h=2*Math.PI+h),f<0&&(f=2*Math.PI+f),s&&h>f&&(h-=2*Math.PI),!s&&f>h&&(f-=2*Math.PI)}var E=f-h;if(Math.abs(E)>g){var P=f,D=a,M=u;f=h+g*(s&&f>h?1:-1),a=d+n*Math.cos(f),u=p+i*Math.sin(f),v=b(a,u,n,i,r,0,s,D,M,[f,P,d,p])}E=f-h;var O=Math.cos(h),A=Math.sin(h),I=Math.cos(f),N=Math.sin(f),R=Math.tan(E/4),j=4/3*n*R,L=4/3*i*R,F=[t,e],z=[t+j*A,e-L*O],B=[a+j*N,u-L*I],q=[a,u];if(z[0]=2*F[0]-z[0],z[1]=2*F[1]-z[1],l)return[z,B,q].concat(v);for(var H=[],W=0,U=(v=[z,B,q].concat(v).join().split(",")).length;W<U;W++)H[W]=W%2?y(v[W-1],v[W],m).y:y(v[W],v[W+1],m).x;return H},_=function(t,e,n,i,r,o,s,a){N(t,"array")||(t=[t,e,n,i,r,o,s,a]);var u=T.apply(null,t);return{x:u.min.x,y:u.min.y,x2:u.max.x,y2:u.max.y,width:u.max.x-u.min.x,height:u.max.y-u.min.y}},w=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},x=function(t,e,n,i,r,o,s,a,u){var l=1-u,c=Math.pow(l,3),h=Math.pow(l,2),f=u*u,d=f*u,p=c*t+3*h*u*n+3*l*u*u*r+d*s,g=c*e+3*h*u*i+3*l*u*u*o+d*a,m=t+2*u*(n-t)+f*(r-2*n+t),v=e+2*u*(i-e)+f*(o-2*i+e),y=n+2*u*(r-n)+f*(s-2*r+n),b=i+2*u*(o-i)+f*(a-2*o+i),_=l*t+u*n,w=l*e+u*i,x=l*r+u*s,k=l*o+u*a,C=90-180*Math.atan2(m-y,v-b)/Math.PI;return(m>y||v<b)&&(C+=180),{x:p,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:_,y:w},end:{x:x,y:k},alpha:C}},k=function(t,e,n,i,r,o,s,a,u){var l=1-u;return{x:Math.pow(l,3)*t+3*Math.pow(l,2)*u*n+3*l*u*u*r+Math.pow(u,3)*s,y:Math.pow(l,3)*e+3*Math.pow(l,2)*u*i+3*l*u*u*o+Math.pow(u,3)*a}},C=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])},S=function(t,e,n){return function i(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s=Array.prototype.slice.call(arguments,0),a=s.join("\u2400"),u=i.cache=i.cache||{},l=i.count=i.count||[];return u.hasOwnProperty(a)?(C(l,a),n?n(u[a]):u[a]):(l.length>=1e3&&delete u[l.shift()],l.push(a),u[a]=t.apply(e,s),n?n(u[a]):u[a])}},T=S(function(t,e,n,i,r,o,s,a){var u,l=r-2*n+t-(s-2*r+n),c=2*(n-t)-2*(r-n),h=t-n,f=(-c+Math.sqrt(c*c-4*l*h))/2/l,d=(-c-Math.sqrt(c*c-4*l*h))/2/l,p=[e,a],g=[t,s];return Math.abs(f)>1e12&&(f=.5),Math.abs(d)>1e12&&(d=.5),f>0&&f<1&&(u=k(t,e,n,i,r,o,s,a,f),g.push(u.x),p.push(u.y)),d>0&&d<1&&(u=k(t,e,n,i,r,o,s,a,d),g.push(u.x),p.push(u.y)),l=o-2*i+e-(a-2*o+i),h=e-i,f=(-(c=2*(i-e)-2*(o-i))+Math.sqrt(c*c-4*l*h))/2/l,d=(-c-Math.sqrt(c*c-4*l*h))/2/l,Math.abs(f)>1e12&&(f=.5),Math.abs(d)>1e12&&(d=.5),f>0&&f<1&&(u=k(t,e,n,i,r,o,s,a,f),g.push(u.x),p.push(u.y)),d>0&&d<1&&(u=k(t,e,n,i,r,o,s,a,d),g.push(u.x),p.push(u.y)),{min:{x:Math.min.apply(0,g),y:Math.min.apply(0,p)},max:{x:Math.max.apply(0,g),y:Math.max.apply(0,p)}}}),E=function(t,e,n,i,r,o,s,a){if(!(Math.max(t,n)<Math.min(r,s)||Math.min(t,n)>Math.max(r,s)||Math.max(e,i)<Math.min(o,a)||Math.min(e,i)>Math.max(o,a))){var u=(t-n)*(o-a)-(e-i)*(r-s);if(u){var l=((t*i-e*n)*(r-s)-(t-n)*(r*a-o*s))/u,c=((t*i-e*n)*(o-a)-(e-i)*(r*a-o*s))/u,h=+l.toFixed(2),f=+c.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(r,s).toFixed(2)||h>+Math.max(r,s).toFixed(2)||f<+Math.min(e,i).toFixed(2)||f>+Math.max(e,i).toFixed(2)||f<+Math.min(o,a).toFixed(2)||f>+Math.max(o,a).toFixed(2)))return{x:l,y:c}}}},P=function(t,e,n){if(!function(t,e){var n=w;return n(e,t.x,t.y)||n(e,t.x2,t.y)||n(e,t.x,t.y2)||n(e,t.x2,t.y2)||n(t,e.x,e.y)||n(t,e.x2,e.y)||n(t,e.x,e.y2)||n(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(_(t),_(e)))return!n&&[];for(var i,r=y.apply(0,t),o=y.apply(0,e),s=Math.max(~~(r/5),1),a=Math.max(~~(o/5),1),u=[],l=[],c={},h=!n&&[],f=0;f<s+1;f++)i=x.apply(this,t.concat(f/s)),u.push({x:i.x,y:i.y,t:f/s});for(f=0;f<a+1;f++)i=x.apply(this,e.concat(f/a)),l.push({x:i.x,y:i.y,t:f/a});for(f=0;f<s;f++)for(var d=0;d<a;d++){var p=u[f],g=u[f+1],m=l[d],v=l[d+1],b=Math.abs(g.x-p.x)<.001?"y":"x",k=Math.abs(v.x-m.x)<.001?"y":"x",C=E(p.x,p.y,g.x,g.y,m.x,m.y,v.x,v.y);if(C){if(c[C.x.toFixed(4)]==C.y.toFixed(4))continue;c[C.x.toFixed(4)]=C.y.toFixed(4);var S=p.t+Math.abs((C[b]-p[b])/(g[b]-p[b]))*(g.t-p.t),T=m.t+Math.abs((C[k]-m[k])/(v[k]-m[k]))*(v.t-m.t);if(S>=0&&S<=1.001&&T>=0&&T<=1.001){if(n)return!0;h.push({x:C.x,y:C.y,t1:Math.min(S,1),t2:Math.min(T,1)})}}}return h},D=function(){return this.join(",").replace(M,"$1")},M=/,?([a-z]),?/gi,O=function(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t.hasOwnProperty(n)&&(e[n]=O(t[n]));return e},A=function(t){var e=O(t);return e.toString=D,e},I=function(t){var e=I.ps=I.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e.hasOwnProperty(n)&&n!=t&&(e[n].sleep--,e[n].sleep||delete e[n])}),e[t]},N=function(t,e){return"finite"==(e=c.call(e))?!f.hasOwnProperty(+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||!1},R=function(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4==i?o[3]={x:+t[0],y:+t[1]}:r-2==i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},j=function(t){var e=I(t);if(e.abs)return A(e.abs);if(N(t,"array")&&N(t&&t[0],"array")||(t=function(t){if(!t)return null;var e=I(t);if(e.arr)return A(e.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return N(t,"array")&&N(t[0],"array")&&(i=A(t)),i.length||String(t).replace(d,function(t,e,r){var o=[],s=e.toLowerCase();if(r.replace(p,function(t,e){e&&o.push(+e)}),"m"==s&&o.length>2&&(i.push([e].concat(o.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)i.push([e].concat(o));else for(;o.length>=n[s]&&(i.push([e].concat(o.splice(0,n[s]))),n[s]););return""}),i.toString=D,e.arr=A(i),i}(t)),!t||!t.length)return[["M",0,0]];var n,i=[],r=0,o=0,s=0,a=0,u=0;"M"==t[0][0]&&(s=r=+t[0][1],a=o=+t[0][2],u++,i[0]=["M",r,o]);for(var l,c,f=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),g=u,m=t.length;g<m;g++){if(i.push(l=[]),(c=t[g])[0]!=h.call(c[0]))switch(l[0]=h.call(c[0]),l[0]){case"A":l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=+(c[6]+r),l[7]=+(c[7]+o);break;case"V":l[1]=+c[1]+o;break;case"H":l[1]=+c[1]+r;break;case"R":for(var v=2,y=(n=[r,o].concat(c.slice(1))).length;v<y;v++)n[v]=+n[v]+r,n[++v]=+n[v]+o;i.pop(),i=i.concat(R(n,f));break;case"M":s=+c[1]+r,a=+c[2]+o;default:for(v=1,y=c.length;v<y;v++)l[v]=+c[v]+(v%2?r:o)}else if("R"==c[0])n=[r,o].concat(c.slice(1)),i.pop(),i=i.concat(R(n,f)),l=["R"].concat(c.slice(-2));else for(var b=0,_=c.length;b<_;b++)l[b]=c[b];switch(l[0]){case"Z":r=s,o=a;break;case"H":r=l[1];break;case"V":o=l[1];break;case"M":s=l[l.length-2],a=l[l.length-1];default:r=l[l.length-2],o=l[l.length-1]}}return i.toString=D,e.abs=A(i),i},L=S(function(t,e){var n=!e&&I(t);if(!e&&n.curve)return A(n.curve);for(var i=j(t),r=e&&j(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(b.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r].concat(t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(m(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(m(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(g(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(g(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(g(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(g(e.x,e.y,e.X,e.Y))}return t},u=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),h=Math.max(i.length,r&&r.length||0)}},l=function(t,e,n,o,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=t[s][1],n.y=t[s][2],h=Math.max(i.length,r&&r.length||0))},c=0,h=Math.max(i.length,r&&r.length||0);c<h;c++){i[c]=a(i[c],o),u(i,c),r&&(r[c]=a(r[c],s),u(r,c)),l(i,r,o,s,c),l(r,i,s,o,c);var f=i[c],d=r&&r[c],p=f.length,v=r&&d.length;o.x=f[p-2],o.y=f[p-1],o.bx=parseFloat(f[p-4])||o.x,o.by=parseFloat(f[p-3])||o.y,s.bx=r&&(parseFloat(d[v-4])||s.x),s.by=r&&(parseFloat(d[v-3])||s.y),s.x=r&&d[v-2],s.y=r&&d[v-1]}return r||(n.curve=A(i)),r?[i,r]:i},null,A),F=function(t,e,n){t=L(t);for(var i,r,o,s,a,u,l,c,h,f,d=!n&&[],p=0,g=t.length;p<g;p++){var m=t[p];if("M"==m[0])i=a=m[1],r=u=m[2];else{"C"==m[0]?(i=(h=[i,r].concat(m.slice(1)))[6],r=h[7]):(h=[i,r,i,r,a,u,a,u],i=a,r=u);for(var v=0,y=e.length;v<y;v++){var b=e[v];if("M"==b[0])o=l=b[1],s=c=b[2];else{"C"==b[0]?(o=(f=[o,s].concat(b.slice(1)))[6],s=f[7]):(f=[o,s,o,s,l,c,l,c],o=l,s=c);var _=P(h,f,n);if(n){if(_)return!0}else{for(var w=0,x=_.length;w<x;w++)_[w].segment1=p,_[w].segment2=v,_[w].bez1=h,_[w].bez2=f;d=d.concat(_)}}}}}return d},z=[],B=function(){l=!1,function(t){for(var e,n,i,r,o,s,a,u=(new Date).getTime(),l=0,c=z.length;l<c;){if(n=(e=z[l]).path,i=e.touchCluster,n&&i){if(r=e._x,o=e._y,s=i.getX(),a=i.getY(),r&&o&&s&&a&&F(n,[["M",r,o],["C",r,o,s,a,s,a]],!0)){var h=Math.sqrt(Math.pow(s-r,2)+Math.pow(a-o,2))/(u-e._time);e.callback.call(e.context||this,h)}e._x=s,e._y=a,e._time=u}else e._x=e._y=e._time=!1;l++}O(t)}(s.map(u,function(t){return{x:t.pageX,y:t.pageY}}))},q=function(t){1===(u=t.touches).length&&(l=window.setTimeout(B,30)),t.preventDefault()},H=function(t){!1===l&&(l=window.setTimeout(B,30)),u=t.touches,t.preventDefault()},W=function(t){0===(u=t.touches).length?(l&&(window.clearTimeout(l),l=!1),u=t.touches,B()):(u=t.touches,!1===l&&(l=window.setTimeout(B,30))),t.preventDefault()},U=1,$=function(t,e,n,i){var r=U;return U+=1,z.push({callback:n,context:i,id:r,touchCluster:t,path:e}),1===z.length&&(window.addEventListener("touchstart",q),window.addEventListener("touchmove",H),window.addEventListener("touchend",W),window.addEventListener("touchcancel",W)),r},Y=function(t){for(var e,n=0,i=z.length;n<i;n++)(e=z[n])!==t&&e.id!==t||(z.splice(n,1),0===(i-=1)&&(window.removeEventListener("touchstart",q),window.removeEventListener("touchmove",H),window.removeEventListener("touchend",W),window.removeEventListener("touchcancel",W)))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);function r(t,e,n,i,r,o,s,a){if(!(Math.max(t,n)<Math.min(r,s)||Math.min(t,n)>Math.max(r,s)||Math.max(e,i)<Math.min(o,a)||Math.min(e,i)>Math.max(o,a))){var u=(t-n)*(o-a)-(e-i)*(r-s);if(u){var l=((t*i-e*n)*(r-s)-(t-n)*(r*a-o*s))/u,c=((t*i-e*n)*(o-a)-(e-i)*(r*a-o*s))/u,h=+l.toFixed(2),f=+c.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(r,s).toFixed(2)||h>+Math.max(r,s).toFixed(2)||f<+Math.min(e,i).toFixed(2)||f>+Math.max(e,i).toFixed(2)||f<+Math.min(o,a).toFixed(2)||f>+Math.max(o,a).toFixed(2)))return{x:l,y:c}}}}function o(t,e,n,i,r,o,s,a,u){var l=1-u,c=Math.pow(l,3),h=Math.pow(l,2),f=u*u,d=f*u,p=t+2*u*(n-t)+f*(r-2*n+t),g=e+2*u*(i-e)+f*(o-2*i+e),m=n+2*u*(r-n)+f*(s-2*r+n),v=i+2*u*(o-i)+f*(a-2*o+i);return{x:c*t+3*h*u*n+3*l*u*u*r+d*s,y:c*e+3*h*u*i+3*l*u*u*o+d*a,m:{x:p,y:g},n:{x:m,y:v},start:{x:l*t+u*n,y:l*e+u*i},end:{x:l*r+u*s,y:l*o+u*a},alpha:90-180*Math.atan2(p-m,g-v)/Math.PI}}function s(t,e,n,i,r,o,s,a){c(t,"array")||(t=[t,e,n,i,r,o,s,a]);var u=x.apply(null,t);return _(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)}function a(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n}function u(t,e,n,i,r,o,s,u,l){null==l&&(l=1);for(var c=(l=l>1?1:l<0?0:l)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<12;p++){var g=c*h[p]+c,m=a(g,t,n,r,s),v=a(g,e,i,o,u),y=m*m+v*v;d+=f[p]*Math.sqrt(y)}return c*d}function l(t,e,n){if(!function(t,e){return t=_(t),b(e=_(e),t.x,t.y)||b(e,t.x2,t.y)||b(e,t.x,t.y2)||b(e,t.x2,t.y2)||b(t,e.x,e.y)||b(t,e.x2,e.y)||b(t,e.x,e.y2)||b(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(s(t),s(e)))return n?0:[];for(var i=~~(u.apply(0,t)/8),a=~~(u.apply(0,e)/8),l=[],c=[],h={},f=n?0:[],d=0;d<i+1;d++){var p=o.apply(0,t.concat(d/i));l.push({x:p.x,y:p.y,t:d/i})}for(d=0;d<a+1;d++)p=o.apply(0,e.concat(d/a)),c.push({x:p.x,y:p.y,t:d/a});for(d=0;d<i;d++)for(var g=0;g<a;g++){var m=l[d],v=l[d+1],y=c[g],w=c[g+1],x=Math.abs(v.x-m.x)<.001?"y":"x",k=Math.abs(w.x-y.x)<.001?"y":"x",C=r(m.x,m.y,v.x,v.y,y.x,y.y,w.x,w.y);if(C){if(h[C.x.toFixed(4)]==C.y.toFixed(4))continue;h[C.x.toFixed(4)]=C.y.toFixed(4);var S=m.t+Math.abs((C[x]-m[x])/(v[x]-m[x]))*(v.t-m.t),T=y.t+Math.abs((C[k]-y[k])/(w[k]-y[k]))*(w.t-y.t);S>=0&&S<=1&&T>=0&&T<=1&&(n?f++:f.push({x:C.x,y:C.y,t1:S,t2:T}))}}return f}function c(t,e){return"finite"==(e=String.prototype.toLowerCase.call(e))?isFinite(t):!("array"!=e||!(t instanceof Array||Array.isArray&&Array.isArray(t)))||("null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==e)}function h(t,e,n,i,r){if(null==r&&null==i&&(i=n),t=+t,e=+e,n=+n,i=+i,null!=r)var o=Math.PI/180,s=t+n*Math.cos(-i*o),a=t+n*Math.cos(-r*o),u=[["M",s,e+n*Math.sin(-i*o)],["A",n,n,0,+(r-i>180),0,a,e+n*Math.sin(-r*o)]];else u=[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]];return u.toString=f,u}function f(){return this.join(",").replace(/,?([a-z]),?/gi,"$1")}function d(t){var e=w(t);if(e.abs)return y(e.abs);if(c(t,"array")&&c(t&&t[0],"array")||(t=function(t){if(!t)return null;var e=w(t);if(e.arr)return y(e.arr);var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return c(t,"array")&&c(t[0],"array")&&(i=y(t)),i.length||String(t).replace(/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,function(t,e,r){var o=[],s=e.toLowerCase();if(r.replace(/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\s]*,?[\s]*/gi,function(t,e){e&&o.push(+e)}),"m"==s&&o.length>2&&(i.push([e].concat(o.splice(0,2))),s="l",e="m"==e?"l":"L"),"o"==s&&1==o.length&&i.push([e,o[0]]),"r"==s)i.push([e].concat(o));else for(;o.length>=n[s]&&(i.push([e].concat(o.splice(0,n[s]))),n[s]););return""}),i.toString=f,e.arr=y(i),i}(t)),!t||!t.length)return[["M",0,0]];var n,i=[],r=0,o=0,s=0,a=0,u=0;"M"==t[0][0]&&(s=r=+t[0][1],a=o=+t[0][2],u++,i[0]=["M",r,o]);for(var l,d,g=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),m=u,v=t.length;m<v;m++){if(i.push(l=[]),(n=(d=t[m])[0])!=n.toUpperCase())switch(l[0]=n.toUpperCase(),l[0]){case"A":l[1]=d[1],l[2]=d[2],l[3]=d[3],l[4]=d[4],l[5]=d[5],l[6]=+d[6]+r,l[7]=+d[7]+o;break;case"V":l[1]=+d[1]+o;break;case"H":l[1]=+d[1]+r;break;case"R":for(var b=[r,o].concat(d.slice(1)),_=2,x=b.length;_<x;_++)b[_]=+b[_]+r,b[++_]=+b[_]+o;i.pop(),i=i.concat(p(b,g));break;case"O":i.pop(),(b=h(r,o,d[1],d[2])).push(b[0]),i=i.concat(b);break;case"U":i.pop(),i=i.concat(h(r,o,d[1],d[2],d[3])),l=["U"].concat(i[i.length-1].slice(-2));break;case"M":s=+d[1]+r,a=+d[2]+o;default:for(_=1,x=d.length;_<x;_++)l[_]=+d[_]+(_%2?r:o)}else if("R"==n)b=[r,o].concat(d.slice(1)),i.pop(),i=i.concat(p(b,g)),l=["R"].concat(d.slice(-2));else if("O"==n)i.pop(),(b=h(r,o,d[1],d[2])).push(b[0]),i=i.concat(b);else if("U"==n)i.pop(),i=i.concat(h(r,o,d[1],d[2],d[3])),l=["U"].concat(i[i.length-1].slice(-2));else for(var k=0,C=d.length;k<C;k++)l[k]=d[k];if("O"!=(n=n.toUpperCase()))switch(l[0]){case"Z":r=+s,o=+a;break;case"H":r=l[1];break;case"V":o=l[1];break;case"M":s=l[l.length-2],a=l[l.length-1];default:r=l[l.length-2],o=l[l.length-1]}}return i.toString=f,e.abs=y(i),i}function p(t,e){for(var n=[],i=0,r=t.length;r-2*(e?0:1)>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4==i?o[3]={x:+t[0],y:+t[1]}:r-2==i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function g(t,e){var n=!e&&w(t);if(!e&&n.curve)return y(n.curve);for(var r=d(t),o=e&&d(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(t,e,n){var r,o;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(function t(e,n,r,o,s,a,u,l,c,h){var f,d=120*Math.PI/180,p=Math.PI/180*(+s||0),g=[],m=i.memoize(function(t,e,n){var i=t*Math.cos(n)-e*Math.sin(n),r=t*Math.sin(n)+e*Math.cos(n);return{x:i,y:r}});if(!r||!o)return[e,n,l,c,l,c];if(h)S=h[0],T=h[1],k=h[2],C=h[3];else{f=m(e,n,-p),e=f.x,n=f.y,f=m(l,c,-p),l=f.x,c=f.y;Math.cos(Math.PI/180*s),Math.sin(Math.PI/180*s);var v=(e-l)/2,y=(n-c)/2,b=v*v/(r*r)+y*y/(o*o);b>1&&(b=Math.sqrt(b),r*=b,o*=b);var _=r*r,w=o*o,x=(a==u?-1:1)*Math.sqrt(Math.abs((_*w-_*y*y-w*v*v)/(_*y*y+w*v*v))),k=x*r*y/o+(e+l)/2,C=x*-o*v/r+(n+c)/2,S=Math.asin(parseFloat(((n-C)/o).toFixed(9))),T=Math.asin(parseFloat(((c-C)/o).toFixed(9)));S=e<k?Math.PI-S:S,T=l<k?Math.PI-T:T,S<0&&(S=2*Math.PI+S),T<0&&(T=2*Math.PI+T),u&&S>T&&(S-=2*Math.PI),!u&&T>S&&(T-=2*Math.PI)}var E=T-S;if(Math.abs(E)>d){var P=T,D=l,M=c;T=S+d*(u&&T>S?1:-1),l=k+r*Math.cos(T),c=C+o*Math.sin(T),g=t(l,c,r,o,s,0,u,D,M,[T,P,k,C])}E=T-S;var O=Math.cos(S),A=Math.sin(S),I=Math.cos(T),N=Math.sin(T),R=Math.tan(E/4),j=4/3*r*R,L=4/3*o*R,F=[e,n],z=[e+j*A,n-L*O],B=[l+j*N,c-L*I],q=[l,c];z[0]=2*F[0]-z[0];z[1]=2*F[1]-z[1];if(h)return[z,B,q].concat(g);for(var H=[],W=0,U=(g=[z,B,q].concat(g).join().split(",")).length;W<U;W++)H[W]=W%2?m(g[W-1],g[W],p).y:m(g[W],g[W+1],p).x;return H}.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*e.x-e.bx,o=2*e.y-e.by):(r=e.x,o=e.y),t=["C",r,o].concat(t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(v(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(v(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(m(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(m(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(m(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(m(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)h[e]="A",o&&(f[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),_=Math.max(r.length,o&&o.length||0)}},c=function(t,e,n,i,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",i.x,i.y]),n.bx=0,n.by=0,n.x=t[s][1],n.y=t[s][2],_=Math.max(r.length,o&&o.length||0))},h=[],f=[],p="",g="",b=0,_=Math.max(r.length,o&&o.length||0);b<_;b++){r[b]&&(p=r[b][0]),"C"!=p&&(h[b]=p,b&&(g=h[b-1])),r[b]=u(r[b],s,g),"A"!=h[b]&&"C"==p&&(h[b]="C"),l(r,b),o&&(o[b]&&(p=o[b][0]),"C"!=p&&(f[b]=p,b&&(g=f[b-1])),o[b]=u(o[b],a,g),"A"!=f[b]&&"C"==p&&(f[b]="C"),l(o,b)),c(r,o,s,a,b),c(o,r,a,s,b);var x=r[b],k=o&&o[b],C=x.length,S=o&&k.length;s.x=x[C-2],s.y=x[C-1],s.bx=parseFloat(x[C-4])||s.x,s.by=parseFloat(x[C-3])||s.y,a.bx=o&&(parseFloat(k[S-4])||a.x),a.by=o&&(parseFloat(k[S-3])||a.y),a.x=o&&k[S-2],a.y=o&&k[S-1]}return o||(n.curve=y(r)),o?[r,o]:r}function m(t,e,n,i){return[t,e,n,i,n,i]}function v(t,e,n,i,r,o){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]}function y(t){var e=i.clone(t);return e.toString=f,e}function b(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function _(t,e,n,i){return null==t&&(t=e=n=i=0),null==e&&(e=t.y,n=t.width,i=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:i,h:i,x2:t+n,y2:e+i,cx:t+n/2,cy:e+i/2,r1:Math.min(n,i)/2,r2:Math.max(n,i)/2,r0:Math.sqrt(n*n+i*i)/2,path:function(t,e,n,i,r){if(r)return[["M",+t+ +r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]];var o=[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]];return o.toString=f,o}(t,e,n,i),vb:[t,e,n,i].join(" ")}}function w(t){var e=w.ps=w.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e.hasOwnProperty(n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]}function x(t,e,n,i,r,o,s,a){for(var u,l,c,h,f,d,p,g,m=[],v=[[],[]],y=0;y<2;++y)if(0==y?(l=6*t-12*n+6*r,u=-3*t+9*n-9*r+3*s,c=3*n-3*t):(l=6*e-12*i+6*o,u=-3*e+9*i-9*o+3*a,c=3*i-3*e),Math.abs(u)<1e-12){if(Math.abs(l)<1e-12)continue;0<(h=-c/l)&&h<1&&m.push(h)}else p=l*l-4*c*u,g=Math.sqrt(p),p<0||(0<(f=(-l+g)/(2*u))&&f<1&&m.push(f),0<(d=(-l-g)/(2*u))&&d<1&&m.push(d));for(var b,_=m.length,w=_;_--;)b=1-(h=m[_]),v[0][_]=b*b*b*t+3*b*b*h*n+3*b*h*h*r+h*h*h*s,v[1][_]=b*b*b*e+3*b*b*h*i+3*b*h*h*o+h*h*h*a;return v[0][w]=t,v[1][w]=e,v[0][w+1]=s,v[1][w+1]=a,v[0].length=v[1].length=w+2,{min:{x:Math.min.apply(0,v[0]),y:Math.min.apply(0,v[1])},max:{x:Math.max.apply(0,v[0]),y:Math.max.apply(0,v[1])}}}e.isPointInsidePath=function(t,e,n){var r=function(t){var e=w(t);if(e.bbox)return i.clone(e.bbox);if(!t)return _();for(var n,r=0,o=0,s=[],a=[],u=0,l=(t=g(t)).length;u<l;u++)if("M"==(n=t[u])[0])r=n[1],o=n[2],s.push(r),a.push(o);else{var c=x(r,o,n[1],n[2],n[3],n[4],n[5],n[6]);s=s.concat(c.min.x,c.max.x),a=a.concat(c.min.y,c.max.y),r=n[5],o=n[6]}var h=Math.min.apply(0,s),f=Math.min.apply(0,a),d=Math.max.apply(0,s),p=Math.max.apply(0,a),m=_(h,f,d-h,p-f);return e.bbox=i.clone(m),m}(t);return b(r,e,n)&&function(t,e,n){t=g(t),e=g(e);for(var i,r,o,s,a,u,c,h,f,d,p=n?0:[],m=0,v=t.length;m<v;m++){var y=t[m];if("M"==y[0])i=a=y[1],r=u=y[2];else{"C"==y[0]?(f=[i,r].concat(y.slice(1)),i=f[6],r=f[7]):(f=[i,r,i,r,a,u,a,u],i=a,r=u);for(var b=0,_=e.length;b<_;b++){var w=e[b];if("M"==w[0])o=c=w[1],s=h=w[2];else{"C"==w[0]?(d=[o,s].concat(w.slice(1)),o=d[6],s=d[7]):(d=[o,s,o,s,c,h,c,h],o=c,s=h);var x=l(f,d,n);if(n)p+=x;else{for(var k=0,C=x.length;k<C;k++)x[k].segment1=m,x[k].segment2=b,x[k].bez1=f,x[k].bez2=d;p=p.concat(x)}}}}}return p}(t,[["M",e,n],["H",r.x2+10]],1)%2==1}},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}u((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(24),s=n(69),a=n(14),u=n(2),l=function(){function t(t,e,n){var i=this;this.doc=t,this.path=e,this.context=n,this.pathObj=new s.Path,this.dUpdatePath=u.debounce(this.updatePath.bind(this),10),this.onDocUpdate=function(t,e){"op"===t?u.some(e,function(t){return!!o.SDBDoc.relative(i.path,t.p)})&&i.dUpdatePath():i.dUpdatePath()},this.initialize()}return t.prototype.getPath=function(){return this.pathObj},t.prototype.initialize=function(){return i(this,void 0,Promise,function(){return r(this,function(t){switch(t.label){case 0:return this.doc.subscribe(this.onDocUpdate),[4,this.doc.fetch()];case 1:return t.sent(),[2]}})})},t.prototype.updatePath=function(){this.pathObj&&this.pathObj.clear();try{var t=this.doc.traverse(this.path),e=t.type;if("line"===e){var n=a.createParsedConstraint(t.lsx,this.context),i=a.createParsedConstraint(t.lsy,this.context),r=a.createParsedConstraint(t.lex,this.context),o=a.createParsedConstraint(t.ley,this.context);this.pathObj.M(n,i).L(r,o)}else if("circle"===e){var s=a.createParsedConstraint(t.ccr,this.context),u=a.createParsedConstraint(t.ccx,this.context),l=a.createParsedConstraint(t.ccy,this.context);this.pathObj.circle(u,l,s)}else if("rectangle"===e){var c=a.createParsedConstraint(t.rcx,this.context),h=a.createParsedConstraint(t.rcy,this.context),f=a.createParsedConstraint(t.rcw,this.context),d=a.createParsedConstraint(t.rch,this.context);this.pathObj.rect(c,h,f,d)}else console.log(t)}catch(t){console.error(t)}},t}();e.PathBinding=l},function(t,e){}]);
//# sourceMappingURL=main.78b2a869.js.map